/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Dm=Object.create;var Do=Object.defineProperty,Im=Object.defineProperties,Am=Object.getOwnPropertyDescriptor,Mm=Object.getOwnPropertyDescriptors,Pm=Object.getOwnPropertyNames,Dr=Object.getOwnPropertySymbols,Vm=Object.getPrototypeOf,ds=Object.prototype.hasOwnProperty,pl=Object.prototype.propertyIsEnumerable;var us=(e,t,n)=>t in e?Do(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))ds.call(t,n)&&us(e,n,t[n]);if(Dr)for(var n of Dr(t))pl.call(t,n)&&us(e,n,t[n]);return e},Ne=(e,t)=>Im(e,Mm(t));var Jn=(e,t)=>{var n={};for(var o in e)ds.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Dr)for(var o of Dr(e))t.indexOf(o)<0&&pl.call(e,o)&&(n[o]=e[o]);return n};var ye=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rm=(e,t)=>{for(var n in t)Do(e,n,{get:t[n],enumerable:!0})},hl=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Pm(t))!ds.call(e,r)&&r!==n&&Do(e,r,{get:()=>t[r],enumerable:!(o=Am(t,r))||o.enumerable});return e};var Lm=(e,t,n)=>(n=e!=null?Dm(Vm(e)):{},hl(t||!e||!e.__esModule?Do(n,"default",{value:e,enumerable:!0}):n,e)),Fm=e=>hl(Do({},"__esModule",{value:!0}),e);var Xe=(e,t,n)=>(us(e,typeof t!="symbol"?t+"":t,n),n);var pt=(e,t,n)=>new Promise((o,r)=>{var i=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?o(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())});var Ji=ye((oD,qf)=>{"use strict";var s1="\0",Kn="\0",Uf="",qa=class{constructor(t){Xe(this,"_isDirected",!0);Xe(this,"_isMultigraph",!1);Xe(this,"_isCompound",!1);Xe(this,"_label");Xe(this,"_defaultNodeLabelFn",()=>{});Xe(this,"_defaultEdgeLabelFn",()=>{});Xe(this,"_nodes",{});Xe(this,"_in",{});Xe(this,"_preds",{});Xe(this,"_out",{});Xe(this,"_sucs",{});Xe(this,"_edgeObjs",{});Xe(this,"_edgeLabels",{});Xe(this,"_nodeCount",0);Xe(this,"_edgeCount",0);Xe(this,"_parent");Xe(this,"_children");t&&(this._isDirected=Object.hasOwn(t,"directed")?t.directed:!0,this._isMultigraph=Object.hasOwn(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.hasOwn(t,"compound")?t.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[Kn]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return this._defaultNodeLabelFn=t,typeof t!="function"&&(this._defaultNodeLabelFn=()=>t),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var t=this;return this.nodes().filter(n=>Object.keys(t._in[n]).length===0)}sinks(){var t=this;return this.nodes().filter(n=>Object.keys(t._out[n]).length===0)}setNodes(t,n){var o=arguments,r=this;return t.forEach(function(i){o.length>1?r.setNode(i,n):r.setNode(i)}),this}setNode(t,n){return Object.hasOwn(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=Kn,this._children[t]={},this._children[Kn][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.hasOwn(this._nodes,t)}removeNode(t){var n=this;if(Object.hasOwn(this._nodes,t)){var o=r=>n.removeEdge(n._edgeObjs[r]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],this.children(t).forEach(function(r){n.setParent(r)}),delete this._children[t]),Object.keys(this._in[t]).forEach(o),delete this._in[t],delete this._preds[t],Object.keys(this._out[t]).forEach(o),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=Kn;else{n+="";for(var o=n;o!==void 0;o=this.parent(o))if(o===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var n=this._parent[t];if(n!==Kn)return n}}children(t=Kn){if(this._isCompound){var n=this._children[t];if(n)return Object.keys(n)}else{if(t===Kn)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var n=this._preds[t];if(n)return Object.keys(n)}successors(t){var n=this._sucs[t];if(n)return Object.keys(n)}neighbors(t){var n=this.predecessors(t);if(n){let r=new Set(n);for(var o of this.successors(t))r.add(o);return Array.from(r.values())}}isLeaf(t){var n;return this.isDirected()?n=this.successors(t):n=this.neighbors(t),n.length===0}filterNodes(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var o=this;Object.entries(this._nodes).forEach(function([s,a]){t(s)&&n.setNode(s,a)}),Object.values(this._edgeObjs).forEach(function(s){n.hasNode(s.v)&&n.hasNode(s.w)&&n.setEdge(s,o.edge(s))});var r={};function i(s){var a=o.parent(s);return a===void 0||n.hasNode(a)?(r[s]=a,a):a in r?r[a]:i(a)}return this._isCompound&&n.nodes().forEach(s=>n.setParent(s,i(s))),n}setDefaultEdgeLabel(t){return this._defaultEdgeLabelFn=t,typeof t!="function"&&(this._defaultEdgeLabelFn=()=>t),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(t,n){var o=this,r=arguments;return t.reduce(function(i,s){return r.length>1?o.setEdge(i,s,n):o.setEdge(i,s),s}),this}setEdge(){var t,n,o,r,i=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(t=s.v,n=s.w,o=s.name,arguments.length===2&&(r=arguments[1],i=!0)):(t=s,n=arguments[1],o=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,n=""+n,o!==void 0&&(o=""+o);var a=Or(this._isDirected,t,n,o);if(Object.hasOwn(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(o!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,n,o);var l=a1(this._isDirected,t,n,o);return t=l.v,n=l.w,Object.freeze(l),this._edgeObjs[a]=l,jf(this._preds[n],t),jf(this._sucs[t],n),this._in[n][a]=l,this._out[t][a]=l,this._edgeCount++,this}edge(t,n,o){var r=arguments.length===1?Ga(this._isDirected,arguments[0]):Or(this._isDirected,t,n,o);return this._edgeLabels[r]}edgeAsObj(){let t=this.edge(...arguments);return typeof t!="object"?{label:t}:t}hasEdge(t,n,o){var r=arguments.length===1?Ga(this._isDirected,arguments[0]):Or(this._isDirected,t,n,o);return Object.hasOwn(this._edgeLabels,r)}removeEdge(t,n,o){var r=arguments.length===1?Ga(this._isDirected,arguments[0]):Or(this._isDirected,t,n,o),i=this._edgeObjs[r];return i&&(t=i.v,n=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Gf(this._preds[n],t),Gf(this._sucs[t],n),delete this._in[n][r],delete this._out[t][r],this._edgeCount--),this}inEdges(t,n){var o=this._in[t];if(o){var r=Object.values(o);return n?r.filter(i=>i.v===n):r}}outEdges(t,n){var o=this._out[t];if(o){var r=Object.values(o);return n?r.filter(i=>i.w===n):r}}nodeEdges(t,n){var o=this.inEdges(t,n);if(o)return o.concat(this.outEdges(t,n))}};function jf(e,t){e[t]?e[t]++:e[t]=1}function Gf(e,t){--e[t]||delete e[t]}function Or(e,t,n,o){var r=""+t,i=""+n;if(!e&&r>i){var s=r;r=i,i=s}return r+Uf+i+Uf+(o===void 0?s1:o)}function a1(e,t,n,o){var r=""+t,i=""+n;if(!e&&r>i){var s=r;r=i,i=s}var a={v:r,w:i};return o&&(a.name=o),a}function Ga(e,t){return Or(e,t.v,t.w,t.name)}qf.exports=qa});var Wf=ye((rD,Yf)=>{Yf.exports="2.2.4"});var Xf=ye((iD,Kf)=>{Kf.exports={Graph:Ji(),version:Wf()}});var Jf=ye((sD,Zf)=>{var l1=Ji();Zf.exports={write:c1,read:f1};function c1(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:u1(e),edges:d1(e)};return e.graph()!==void 0&&(t.value=structuredClone(e.graph())),t}function u1(e){return e.nodes().map(function(t){var n=e.node(t),o=e.parent(t),r={v:t};return n!==void 0&&(r.value=n),o!==void 0&&(r.parent=o),r})}function d1(e){return e.edges().map(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return t.name!==void 0&&(o.name=t.name),n!==void 0&&(o.value=n),o})}function f1(e){var t=new l1(e.options).setGraph(e.value);return e.nodes.forEach(function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)}),e.edges.forEach(function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),t}});var ep=ye((aD,Qf)=>{Qf.exports=p1;function p1(e){var t={},n=[],o;function r(i){Object.hasOwn(t,i)||(t[i]=!0,o.push(i),e.successors(i).forEach(r),e.predecessors(i).forEach(r))}return e.nodes().forEach(function(i){o=[],r(i),o.length&&n.push(o)}),n}});var Wa=ye((lD,tp)=>{var Ya=class{constructor(){Xe(this,"_arr",[]);Xe(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(t){return t.key})}has(t){return Object.hasOwn(this._keyIndices,t)}priority(t){var n=this._keyIndices[t];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(t,n){var o=this._keyIndices;if(t=String(t),!Object.hasOwn(o,t)){var r=this._arr,i=r.length;return o[t]=i,r.push({key:t,priority:n}),this._decrease(i),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key}decrease(t,n){var o=this._keyIndices[t];if(n>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[o].priority+" New: "+n);this._arr[o].priority=n,this._decrease(o)}_heapify(t){var n=this._arr,o=2*t,r=o+1,i=t;o<n.length&&(i=n[o].priority<n[i].priority?o:i,r<n.length&&(i=n[r].priority<n[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))}_decrease(t){for(var n=this._arr,o=n[t].priority,r;t!==0&&(r=t>>1,!(n[r].priority<o));)this._swap(t,r),t=r}_swap(t,n){var o=this._arr,r=this._keyIndices,i=o[t],s=o[n];o[t]=s,o[n]=i,r[s.key]=t,r[i.key]=n}};tp.exports=Ya});var Ka=ye((cD,np)=>{var h1=Wa();np.exports=g1;var m1=()=>1;function g1(e,t,n,o){return v1(e,String(t),n||m1,o||function(r){return e.outEdges(r)})}function v1(e,t,n,o){var r={},i=new h1,s,a,l=function(c){var u=c.v!==s?c.v:c.w,d=r[u],f=n(c),m=a.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+f);m<d.distance&&(d.distance=m,d.predecessor=s,i.decrease(u,m))};for(e.nodes().forEach(function(c){var u=c===t?0:Number.POSITIVE_INFINITY;r[c]={distance:u},i.add(c,u)});i.size()>0&&(s=i.removeMin(),a=r[s],a.distance!==Number.POSITIVE_INFINITY);)o(s).forEach(l);return r}});var rp=ye((uD,op)=>{var _1=Ka();op.exports=y1;function y1(e,t,n){return e.nodes().reduce(function(o,r){return o[r]=_1(e,r,t,n),o},{})}});var Xa=ye((dD,ip)=>{ip.exports=E1;function E1(e){var t=0,n=[],o={},r=[];function i(s){var a=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(u){Object.hasOwn(o,u)?o[u].onStack&&(a.lowlink=Math.min(a.lowlink,o[u].index)):(i(u),a.lowlink=Math.min(a.lowlink,o[u].lowlink))}),a.lowlink===a.index){var l=[],c;do c=n.pop(),o[c].onStack=!1,l.push(c);while(s!==c);r.push(l)}}return e.nodes().forEach(function(s){Object.hasOwn(o,s)||i(s)}),r}});var ap=ye((fD,sp)=>{var w1=Xa();sp.exports=b1;function b1(e){return w1(e).filter(function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}});var cp=ye((pD,lp)=>{lp.exports=x1;var N1=()=>1;function x1(e,t,n){return S1(e,t||N1,n||function(o){return e.outEdges(o)})}function S1(e,t,n){var o={},r=e.nodes();return r.forEach(function(i){o[i]={},o[i][i]={distance:0},r.forEach(function(s){i!==s&&(o[i][s]={distance:Number.POSITIVE_INFINITY})}),n(i).forEach(function(s){var a=s.v===i?s.w:s.v,l=t(s);o[i][a]={distance:l,predecessor:i}})}),r.forEach(function(i){var s=o[i];r.forEach(function(a){var l=o[a];r.forEach(function(c){var u=l[i],d=s[c],f=l[c],m=u.distance+d.distance;m<f.distance&&(f.distance=m,f.predecessor=d.predecessor)})})}),o}});var Za=ye((hD,dp)=>{function up(e){var t={},n={},o=[];function r(i){if(Object.hasOwn(n,i))throw new Cr;Object.hasOwn(t,i)||(n[i]=!0,t[i]=!0,e.predecessors(i).forEach(r),delete n[i],o.push(i))}if(e.sinks().forEach(r),Object.keys(t).length!==e.nodeCount())throw new Cr;return o}var Cr=class extends Error{constructor(){super(...arguments)}};dp.exports=up;up.CycleException=Cr});var hp=ye((mD,pp)=>{var fp=Za();pp.exports=O1;function O1(e){try{fp(e)}catch(t){if(t instanceof fp.CycleException)return!1;throw t}return!0}});var Ja=ye((gD,gp)=>{gp.exports=C1;function C1(e,t,n){Array.isArray(t)||(t=[t]);var o=e.isDirected()?a=>e.successors(a):a=>e.neighbors(a),r=n==="post"?k1:T1,i=[],s={};return t.forEach(a=>{if(!e.hasNode(a))throw new Error("Graph does not have node: "+a);r(a,o,s,i)}),i}function k1(e,t,n,o){for(var r=[[e,!1]];r.length>0;){var i=r.pop();i[1]?o.push(i[0]):Object.hasOwn(n,i[0])||(n[i[0]]=!0,r.push([i[0],!0]),mp(t(i[0]),s=>r.push([s,!1])))}}function T1(e,t,n,o){for(var r=[e];r.length>0;){var i=r.pop();Object.hasOwn(n,i)||(n[i]=!0,o.push(i),mp(t(i),s=>r.push(s)))}}function mp(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}});var _p=ye((vD,vp)=>{var D1=Ja();vp.exports=I1;function I1(e,t){return D1(e,t,"post")}});var Ep=ye((_D,yp)=>{var A1=Ja();yp.exports=M1;function M1(e,t){return A1(e,t,"pre")}});var bp=ye((yD,wp)=>{var P1=Ji(),V1=Wa();wp.exports=R1;function R1(e,t){var n=new P1,o={},r=new V1,i;function s(l){var c=l.v===i?l.w:l.v,u=r.priority(c);if(u!==void 0){var d=t(l);d<u&&(o[c]=i,r.decrease(c,d))}}if(e.nodeCount()===0)return n;e.nodes().forEach(function(l){r.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),r.decrease(e.nodes()[0],0);for(var a=!1;r.size()>0;){if(i=r.removeMin(),Object.hasOwn(o,i))n.setEdge(i,o[i]);else{if(a)throw new Error("Input graph is not connected: "+e);a=!0}e.nodeEdges(i).forEach(s)}return n}});var xp=ye((ED,Np)=>{Np.exports={components:ep(),dijkstra:Ka(),dijkstraAll:rp(),findCycles:ap(),floydWarshall:cp(),isAcyclic:hp(),postorder:_p(),preorder:Ep(),prim:bp(),tarjan:Xa(),topsort:Za()}});var Dt=ye((wD,Op)=>{var Sp=Xf();Op.exports={Graph:Sp.Graph,json:Jf(),alg:xp(),version:Sp.version}});var Tp=ye((bD,kp)=>{var Qa=class{constructor(){let t={};t._next=t._prev=t,this._sentinel=t}dequeue(){let t=this._sentinel,n=t._prev;if(n!==t)return Cp(n),n}enqueue(t){let n=this._sentinel;t._prev&&t._next&&Cp(t),t._next=n._next,n._next._prev=t,n._next=t,t._prev=n}toString(){let t=[],n=this._sentinel,o=n._prev;for(;o!==n;)t.push(JSON.stringify(o,L1)),o=o._prev;return"["+t.join(", ")+"]"}};function Cp(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function L1(e,t){if(e!=="_next"&&e!=="_prev")return t}kp.exports=Qa});var Ip=ye((ND,Dp)=>{var F1=Dt().Graph,$1=Tp();Dp.exports=B1;var H1=()=>1;function B1(e,t){if(e.nodeCount()<=1)return[];let n=U1(e,t||H1);return z1(n.graph,n.buckets,n.zeroIdx).flatMap(r=>e.outEdges(r.v,r.w))}function z1(e,t,n){let o=[],r=t[t.length-1],i=t[0],s;for(;e.nodeCount();){for(;s=i.dequeue();)el(e,t,n,s);for(;s=r.dequeue();)el(e,t,n,s);if(e.nodeCount()){for(let a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){o=o.concat(el(e,t,n,s,!0));break}}}return o}function el(e,t,n,o,r){let i=r?[]:void 0;return e.inEdges(o.v).forEach(s=>{let a=e.edge(s),l=e.node(s.v);r&&i.push({v:s.v,w:s.w}),l.out-=a,tl(t,n,l)}),e.outEdges(o.v).forEach(s=>{let a=e.edge(s),l=s.w,c=e.node(l);c.in-=a,tl(t,n,c)}),e.removeNode(o.v),i}function U1(e,t){let n=new F1,o=0,r=0;e.nodes().forEach(a=>{n.setNode(a,{v:a,in:0,out:0})}),e.edges().forEach(a=>{let l=n.edge(a.v,a.w)||0,c=t(a),u=l+c;n.setEdge(a.v,a.w,u),r=Math.max(r,n.node(a.v).out+=c),o=Math.max(o,n.node(a.w).in+=c)});let i=j1(r+o+3).map(()=>new $1),s=o+1;return n.nodes().forEach(a=>{tl(i,s,n.node(a))}),{graph:n,buckets:i,zeroIdx:s}}function tl(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}function j1(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}});var Je=ye((xD,Fp)=>{"use strict";var Ap=Dt().Graph;Fp.exports={addBorderNode:Q1,addDummyNode:Mp,applyWithChunking:Qi,asNonCompoundGraph:q1,buildLayerMatrix:X1,intersectRect:K1,mapValues:sx,maxRank:Vp,normalizeRanks:Z1,notime:ox,partition:tx,pick:ix,predecessorWeights:W1,range:Lp,removeEmptyRanks:J1,simplify:G1,successorWeights:Y1,time:nx,uniqueId:Rp,zipObject:nl};function Mp(e,t,n,o){let r;do r=Rp(o);while(e.hasNode(r));return n.dummy=t,e.setNode(r,n),r}function G1(e){let t=new Ap().setGraph(e.graph());return e.nodes().forEach(n=>t.setNode(n,e.node(n))),e.edges().forEach(n=>{let o=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:o.weight+r.weight,minlen:Math.max(o.minlen,r.minlen)})}),t}function q1(e){let t=new Ap({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(n=>{e.children(n).length||t.setNode(n,e.node(n))}),e.edges().forEach(n=>{t.setEdge(n,e.edge(n))}),t}function Y1(e){let t=e.nodes().map(n=>{let o={};return e.outEdges(n).forEach(r=>{o[r.w]=(o[r.w]||0)+e.edge(r).weight}),o});return nl(e.nodes(),t)}function W1(e){let t=e.nodes().map(n=>{let o={};return e.inEdges(n).forEach(r=>{o[r.v]=(o[r.v]||0)+e.edge(r).weight}),o});return nl(e.nodes(),t)}function K1(e,t){let n=e.x,o=e.y,r=t.x-n,i=t.y-o,s=e.width/2,a=e.height/2;if(!r&&!i)throw new Error("Not possible to find intersection inside of the rectangle");let l,c;return Math.abs(i)*s>Math.abs(r)*a?(i<0&&(a=-a),l=a*r/i,c=a):(r<0&&(s=-s),l=s,c=s*i/r),{x:n+l,y:o+c}}function X1(e){let t=Lp(Vp(e)+1).map(()=>[]);return e.nodes().forEach(n=>{let o=e.node(n),r=o.rank;r!==void 0&&(t[r][o.order]=n)}),t}function Z1(e){let t=e.nodes().map(o=>{let r=e.node(o).rank;return r===void 0?Number.MAX_VALUE:r}),n=Qi(Math.min,t);e.nodes().forEach(o=>{let r=e.node(o);Object.hasOwn(r,"rank")&&(r.rank-=n)})}function J1(e){let t=e.nodes().map(s=>e.node(s).rank),n=Qi(Math.min,t),o=[];e.nodes().forEach(s=>{let a=e.node(s).rank-n;o[a]||(o[a]=[]),o[a].push(s)});let r=0,i=e.graph().nodeRankFactor;Array.from(o).forEach((s,a)=>{s===void 0&&a%i!==0?--r:s!==void 0&&r&&s.forEach(l=>e.node(l).rank+=r)})}function Q1(e,t,n,o){let r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=o),Mp(e,"border",r,t)}function ex(e,t=Pp){let n=[];for(let o=0;o<e.length;o+=t){let r=e.slice(o,o+t);n.push(r)}return n}var Pp=65535;function Qi(e,t){if(t.length>Pp){let n=ex(t);return e.apply(null,n.map(o=>e.apply(null,o)))}else return e.apply(null,t)}function Vp(e){let n=e.nodes().map(o=>{let r=e.node(o).rank;return r===void 0?Number.MIN_VALUE:r});return Qi(Math.max,n)}function tx(e,t){let n={lhs:[],rhs:[]};return e.forEach(o=>{t(o)?n.lhs.push(o):n.rhs.push(o)}),n}function nx(e,t){let n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}}function ox(e,t){return t()}var rx=0;function Rp(e){var t=++rx;return toString(e)+t}function Lp(e,t,n=1){t==null&&(t=e,e=0);let o=i=>i<t;n<0&&(o=i=>t<i);let r=[];for(let i=e;o(i);i+=n)r.push(i);return r}function ix(e,t){let n={};for(let o of t)e[o]!==void 0&&(n[o]=e[o]);return n}function sx(e,t){let n=t;return typeof t=="string"&&(n=o=>o[t]),Object.entries(e).reduce((o,[r,i])=>(o[r]=n(i,r),o),{})}function nl(e,t){return e.reduce((n,o,r)=>(n[o]=t[r],n),{})}});var Hp=ye((SD,$p)=>{"use strict";var ax=Ip(),lx=Je().uniqueId;$p.exports={run:cx,undo:dx};function cx(e){(e.graph().acyclicer==="greedy"?ax(e,n(e)):ux(e)).forEach(o=>{let r=e.edge(o);e.removeEdge(o),r.forwardName=o.name,r.reversed=!0,e.setEdge(o.w,o.v,r,lx("rev"))});function n(o){return r=>o.edge(r).weight}}function ux(e){let t=[],n={},o={};function r(i){Object.hasOwn(o,i)||(o[i]=!0,n[i]=!0,e.outEdges(i).forEach(s=>{Object.hasOwn(n,s.w)?t.push(s):r(s.w)}),delete n[i])}return e.nodes().forEach(r),t}function dx(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.reversed){e.removeEdge(t);let o=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,o)}})}});var zp=ye((OD,Bp)=>{"use strict";var fx=Je();Bp.exports={run:px,undo:mx};function px(e){e.graph().dummyChains=[],e.edges().forEach(t=>hx(e,t))}function hx(e,t){let n=t.v,o=e.node(n).rank,r=t.w,i=e.node(r).rank,s=t.name,a=e.edge(t),l=a.labelRank;if(i===o+1)return;e.removeEdge(t);let c,u,d;for(d=0,++o;o<i;++d,++o)a.points=[],u={width:0,height:0,edgeLabel:a,edgeObj:t,rank:o},c=fx.addDummyNode(e,"edge",u,"_d"),o===l&&(u.width=a.width,u.height=a.height,u.dummy="edge-label",u.labelpos=a.labelpos),e.setEdge(n,c,{weight:a.weight},s),d===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,r,{weight:a.weight},s)}function mx(e){e.graph().dummyChains.forEach(t=>{let n=e.node(t),o=n.edgeLabel,r;for(e.setEdge(n.edgeObj,o);n.dummy;)r=e.successors(t)[0],e.removeNode(t),o.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),t=r,n=e.node(t)})}});var kr=ye((CD,Up)=>{"use strict";var{applyWithChunking:gx}=Je();Up.exports={longestPath:vx,slack:_x};function vx(e){var t={};function n(o){var r=e.node(o);if(Object.hasOwn(t,o))return r.rank;t[o]=!0;let i=e.outEdges(o).map(a=>a==null?Number.POSITIVE_INFINITY:n(a.w)-e.edge(a).minlen);var s=gx(Math.min,i);return s===Number.POSITIVE_INFINITY&&(s=0),r.rank=s}e.sources().forEach(n)}function _x(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}});var ol=ye((kD,jp)=>{"use strict";var yx=Dt().Graph,es=kr().slack;jp.exports=Ex;function Ex(e){var t=new yx({directed:!1}),n=e.nodes()[0],o=e.nodeCount();t.setNode(n,{});for(var r,i;wx(t,e)<o;)r=bx(t,e),i=t.hasNode(r.v)?es(e,r):-es(e,r),Nx(t,e,i);return t}function wx(e,t){function n(o){t.nodeEdges(o).forEach(r=>{var i=r.v,s=o===i?r.w:i;!e.hasNode(s)&&!es(t,r)&&(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))})}return e.nodes().forEach(n),e.nodeCount()}function bx(e,t){return t.edges().reduce((o,r)=>{let i=Number.POSITIVE_INFINITY;return e.hasNode(r.v)!==e.hasNode(r.w)&&(i=es(t,r)),i<o[0]?[i,r]:o},[Number.POSITIVE_INFINITY,null])[1]}function Nx(e,t,n){e.nodes().forEach(o=>t.node(o).rank+=n)}});var Qp=ye((TD,Jp)=>{"use strict";var xx=ol(),Gp=kr().slack,Sx=kr().longestPath,Ox=Dt().alg.preorder,Cx=Dt().alg.postorder,kx=Je().simplify;Jp.exports=Xn;Xn.initLowLimValues=il;Xn.initCutValues=rl;Xn.calcCutValue=Yp;Xn.leaveEdge=Kp;Xn.enterEdge=Xp;Xn.exchangeEdges=Zp;function Xn(e){e=kx(e),Sx(e);var t=xx(e);il(t),rl(t,e);for(var n,o;n=Kp(t);)o=Xp(t,e,n),Zp(t,e,n,o)}function rl(e,t){var n=Cx(e,e.nodes());n=n.slice(0,n.length-1),n.forEach(o=>Tx(e,t,o))}function Tx(e,t,n){var o=e.node(n),r=o.parent;e.edge(n,r).cutvalue=Yp(e,t,n)}function Yp(e,t,n){var o=e.node(n),r=o.parent,i=!0,s=t.edge(n,r),a=0;return s||(i=!1,s=t.edge(r,n)),a=s.weight,t.nodeEdges(n).forEach(l=>{var c=l.v===n,u=c?l.w:l.v;if(u!==r){var d=c===i,f=t.edge(l).weight;if(a+=d?f:-f,Ix(e,n,u)){var m=e.edge(n,u).cutvalue;a+=d?-m:m}}}),a}function il(e,t){arguments.length<2&&(t=e.nodes()[0]),Wp(e,{},1,t)}function Wp(e,t,n,o,r){var i=n,s=e.node(o);return t[o]=!0,e.neighbors(o).forEach(a=>{Object.hasOwn(t,a)||(n=Wp(e,t,n,a,o))}),s.low=i,s.lim=n++,r?s.parent=r:delete s.parent,n}function Kp(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function Xp(e,t,n){var o=n.v,r=n.w;t.hasEdge(o,r)||(o=n.w,r=n.v);var i=e.node(o),s=e.node(r),a=i,l=!1;i.lim>s.lim&&(a=s,l=!0);var c=t.edges().filter(u=>l===qp(e,e.node(u.v),a)&&l!==qp(e,e.node(u.w),a));return c.reduce((u,d)=>Gp(t,d)<Gp(t,u)?d:u)}function Zp(e,t,n,o){var r=n.v,i=n.w;e.removeEdge(r,i),e.setEdge(o.v,o.w,{}),il(e),rl(e,t),Dx(e,t)}function Dx(e,t){var n=e.nodes().find(r=>!t.node(r).parent),o=Ox(e,n);o=o.slice(1),o.forEach(r=>{var i=e.node(r).parent,s=t.edge(r,i),a=!1;s||(s=t.edge(i,r),a=!0),t.node(r).rank=t.node(i).rank+(a?s.minlen:-s.minlen)})}function Ix(e,t,n){return e.hasEdge(t,n)}function qp(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}});var oh=ye((DD,nh)=>{"use strict";var Ax=kr(),th=Ax.longestPath,Mx=ol(),Px=Qp();nh.exports=Vx;function Vx(e){switch(e.graph().ranker){case"network-simplex":eh(e);break;case"tight-tree":Lx(e);break;case"longest-path":Rx(e);break;default:eh(e)}}var Rx=th;function Lx(e){th(e),Mx(e)}function eh(e){Px(e)}});var ih=ye((ID,rh)=>{rh.exports=Fx;function Fx(e){let t=Hx(e);e.graph().dummyChains.forEach(n=>{let o=e.node(n),r=o.edgeObj,i=$x(e,t,r.v,r.w),s=i.path,a=i.lca,l=0,c=s[l],u=!0;for(;n!==r.w;){if(o=e.node(n),u){for(;(c=s[l])!==a&&e.node(c).maxRank<o.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=o.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function $x(e,t,n,o){let r=[],i=[],s=Math.min(t[n].low,t[o].low),a=Math.max(t[n].lim,t[o].lim),l,c;l=n;do l=e.parent(l),r.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(c=l,l=o;(l=e.parent(l))!==c;)i.push(l);return{path:r.concat(i.reverse()),lca:c}}function Hx(e){let t={},n=0;function o(r){let i=n;e.children(r).forEach(o),t[r]={low:i,lim:n++}}return e.children().forEach(o),t}});var lh=ye((AD,ah)=>{var ts=Je();ah.exports={run:Bx,cleanup:jx};function Bx(e){let t=ts.addDummyNode(e,"root",{},"_root"),n=zx(e),o=Object.values(n),r=ts.applyWithChunking(Math.max,o)-1,i=2*r+1;e.graph().nestingRoot=t,e.edges().forEach(a=>e.edge(a).minlen*=i);let s=Ux(e)+1;e.children().forEach(a=>sh(e,t,i,s,r,n,a)),e.graph().nodeRankFactor=i}function sh(e,t,n,o,r,i,s){let a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}let l=ts.addBorderNode(e,"_bt"),c=ts.addBorderNode(e,"_bb"),u=e.node(s);e.setParent(l,s),u.borderTop=l,e.setParent(c,s),u.borderBottom=c,a.forEach(d=>{sh(e,t,n,o,r,i,d);let f=e.node(d),m=f.borderTop?f.borderTop:d,_=f.borderBottom?f.borderBottom:d,v=f.borderTop?o:2*o,E=m!==_?1:r-i[s]+1;e.setEdge(l,m,{weight:v,minlen:E,nestingEdge:!0}),e.setEdge(_,c,{weight:v,minlen:E,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:r+i[s]})}function zx(e){var t={};function n(o,r){var i=e.children(o);i&&i.length&&i.forEach(s=>n(s,r+1)),t[o]=r}return e.children().forEach(o=>n(o,1)),t}function Ux(e){return e.edges().reduce((t,n)=>t+e.edge(n).weight,0)}function jx(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(n=>{var o=e.edge(n);o.nestingEdge&&e.removeEdge(n)})}});var dh=ye((MD,uh)=>{var Gx=Je();uh.exports=qx;function qx(e){function t(n){let o=e.children(n),r=e.node(n);if(o.length&&o.forEach(t),Object.hasOwn(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(let i=r.minRank,s=r.maxRank+1;i<s;++i)ch(e,"borderLeft","_bl",n,r,i),ch(e,"borderRight","_br",n,r,i)}}e.children().forEach(t)}function ch(e,t,n,o,r,i){let s={width:0,height:0,rank:i,borderType:t},a=r[t][i-1],l=Gx.addDummyNode(e,"border",s,n);r[t][i]=l,e.setParent(l,o),a&&e.setEdge(a,l,{weight:1})}});var mh=ye((PD,hh)=>{"use strict";hh.exports={adjust:Yx,undo:Wx};function Yx(e){let t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&ph(e)}function Wx(e){let t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Kx(e),(t==="lr"||t==="rl")&&(Xx(e),ph(e))}function ph(e){e.nodes().forEach(t=>fh(e.node(t))),e.edges().forEach(t=>fh(e.edge(t)))}function fh(e){let t=e.width;e.width=e.height,e.height=t}function Kx(e){e.nodes().forEach(t=>sl(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(sl),Object.hasOwn(n,"y")&&sl(n)})}function sl(e){e.y=-e.y}function Xx(e){e.nodes().forEach(t=>al(e.node(t))),e.edges().forEach(t=>{let n=e.edge(t);n.points.forEach(al),Object.hasOwn(n,"x")&&al(n)})}function al(e){let t=e.x;e.x=e.y,e.y=t}});var _h=ye((VD,vh)=>{"use strict";var gh=Je();vh.exports=Zx;function Zx(e){let t={},n=e.nodes().filter(l=>!e.children(l).length),o=n.map(l=>e.node(l).rank),r=gh.applyWithChunking(Math.max,o),i=gh.range(r+1).map(()=>[]);function s(l){if(t[l])return;t[l]=!0;let c=e.node(l);i[c.rank].push(l),e.successors(l).forEach(s)}return n.sort((l,c)=>e.node(l).rank-e.node(c).rank).forEach(s),i}});var Eh=ye((RD,yh)=>{"use strict";var Jx=Je().zipObject;yh.exports=Qx;function Qx(e,t){let n=0;for(let o=1;o<t.length;++o)n+=eS(e,t[o-1],t[o]);return n}function eS(e,t,n){let o=Jx(n,n.map((c,u)=>u)),r=t.flatMap(c=>e.outEdges(c).map(u=>({pos:o[u.w],weight:e.edge(u).weight})).sort((u,d)=>u.pos-d.pos)),i=1;for(;i<n.length;)i<<=1;let s=2*i-1;i-=1;let a=new Array(s).fill(0),l=0;return r.forEach(c=>{let u=c.pos+i;a[u]+=c.weight;let d=0;for(;u>0;)u%2&&(d+=a[u+1]),u=u-1>>1,a[u]+=c.weight;l+=c.weight*d}),l}});var bh=ye((LD,wh)=>{wh.exports=tS;function tS(e,t=[]){return t.map(n=>{let o=e.inEdges(n);if(o.length){let r=o.reduce((i,s)=>{let a=e.edge(s),l=e.node(s.v);return{sum:i.sum+a.weight*l.order,weight:i.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:n}})}});var xh=ye((FD,Nh)=>{"use strict";var nS=Je();Nh.exports=oS;function oS(e,t){let n={};e.forEach((r,i)=>{let s=n[r.v]={indegree:0,in:[],out:[],vs:[r.v],i};r.barycenter!==void 0&&(s.barycenter=r.barycenter,s.weight=r.weight)}),t.edges().forEach(r=>{let i=n[r.v],s=n[r.w];i!==void 0&&s!==void 0&&(s.indegree++,i.out.push(n[r.w]))});let o=Object.values(n).filter(r=>!r.indegree);return rS(o)}function rS(e){let t=[];function n(r){return i=>{i.merged||(i.barycenter===void 0||r.barycenter===void 0||i.barycenter>=r.barycenter)&&iS(r,i)}}function o(r){return i=>{i.in.push(r),--i.indegree===0&&e.push(i)}}for(;e.length;){let r=e.pop();t.push(r),r.in.reverse().forEach(n(r)),r.out.forEach(o(r))}return t.filter(r=>!r.merged).map(r=>nS.pick(r,["vs","i","barycenter","weight"]))}function iS(e,t){let n=0,o=0;e.weight&&(n+=e.barycenter*e.weight,o+=e.weight),t.weight&&(n+=t.barycenter*t.weight,o+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0}});var Ch=ye(($D,Oh)=>{var sS=Je();Oh.exports=aS;function aS(e,t){let n=sS.partition(e,u=>Object.hasOwn(u,"barycenter")),o=n.lhs,r=n.rhs.sort((u,d)=>d.i-u.i),i=[],s=0,a=0,l=0;o.sort(lS(!!t)),l=Sh(i,r,l),o.forEach(u=>{l+=u.vs.length,i.push(u.vs),s+=u.barycenter*u.weight,a+=u.weight,l=Sh(i,r,l)});let c={vs:i.flat(!0)};return a&&(c.barycenter=s/a,c.weight=a),c}function Sh(e,t,n){let o;for(;t.length&&(o=t[t.length-1]).i<=n;)t.pop(),e.push(o.vs),n++;return n}function lS(e){return(t,n)=>t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}});var Dh=ye((HD,Th)=>{var cS=bh(),uS=xh(),dS=Ch();Th.exports=kh;function kh(e,t,n,o){let r=e.children(t),i=e.node(t),s=i?i.borderLeft:void 0,a=i?i.borderRight:void 0,l={};s&&(r=r.filter(f=>f!==s&&f!==a));let c=cS(e,r);c.forEach(f=>{if(e.children(f.v).length){let m=kh(e,f.v,n,o);l[f.v]=m,Object.hasOwn(m,"barycenter")&&pS(f,m)}});let u=uS(c,n);fS(u,l);let d=dS(u,o);if(s&&(d.vs=[s,d.vs,a].flat(!0),e.predecessors(s).length)){let f=e.node(e.predecessors(s)[0]),m=e.node(e.predecessors(a)[0]);Object.hasOwn(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+m.order)/(d.weight+2),d.weight+=2}return d}function fS(e,t){e.forEach(n=>{n.vs=n.vs.flatMap(o=>t[o]?t[o].vs:o)})}function pS(e,t){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)}});var Ah=ye((BD,Ih)=>{var hS=Dt().Graph,mS=Je();Ih.exports=gS;function gS(e,t,n){let o=vS(e),r=new hS({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(i=>e.node(i));return e.nodes().forEach(i=>{let s=e.node(i),a=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(r.setNode(i),r.setParent(i,a||o),e[n](i).forEach(l=>{let c=l.v===i?l.w:l.v,u=r.edge(c,i),d=u!==void 0?u.weight:0;r.setEdge(c,i,{weight:e.edge(l).weight+d})}),Object.hasOwn(s,"minRank")&&r.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),r}function vS(e){for(var t;e.hasNode(t=mS.uniqueId("_root")););return t}});var Ph=ye((zD,Mh)=>{Mh.exports=_S;function _S(e,t,n){let o={},r;n.forEach(i=>{let s=e.parent(i),a,l;for(;s;){if(a=e.parent(s),a?(l=o[a],o[a]=s):(l=r,r=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}});var $h=ye((UD,Fh)=>{"use strict";var yS=_h(),ES=Eh(),wS=Dh(),bS=Ah(),NS=Ph(),xS=Dt().Graph,ns=Je();Fh.exports=Lh;function Lh(e,t){if(t&&typeof t.customOrder=="function"){t.customOrder(e,Lh);return}let n=ns.maxRank(e),o=Vh(e,ns.range(1,n+1),"inEdges"),r=Vh(e,ns.range(n-1,-1,-1),"outEdges"),i=yS(e);if(Rh(e,i),t&&t.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,a;for(let l=0,c=0;c<4;++l,++c){SS(l%2?o:r,l%4>=2),i=ns.buildLayerMatrix(e);let u=ES(e,i);u<s&&(c=0,a=Object.assign({},i),s=u)}Rh(e,a)}function Vh(e,t,n){return t.map(function(o){return bS(e,o,n)})}function SS(e,t){let n=new xS;e.forEach(function(o){let r=o.graph().root,i=wS(o,r,n,t);i.vs.forEach((s,a)=>o.node(s).order=a),NS(o,n,i.vs)})}function Rh(e,t){Object.values(t).forEach(n=>n.forEach((o,r)=>e.node(o).order=r))}});var Kh=ye((jD,Wh)=>{"use strict";var OS=Dt().Graph,pn=Je();Wh.exports={positionX:TS,findType1Conflicts:Hh,findType2Conflicts:Bh,addConflict:ll,hasConflict:zh,verticalAlignment:Uh,horizontalCompaction:jh,alignCoordinates:qh,findSmallestWidthAlignment:Gh,balance:Yh};function Hh(e,t){let n={};function o(r,i){let s=0,a=0,l=r.length,c=i[i.length-1];return i.forEach((u,d)=>{let f=CS(e,u),m=f?e.node(f).order:l;(f||u===c)&&(i.slice(a,d+1).forEach(_=>{e.predecessors(_).forEach(v=>{let E=e.node(v),O=E.order;(O<s||m<O)&&!(E.dummy&&e.node(_).dummy)&&ll(n,v,_)})}),a=d+1,s=m)}),i}return t.length&&t.reduce(o),n}function Bh(e,t){let n={};function o(i,s,a,l,c){let u;pn.range(s,a).forEach(d=>{u=i[d],e.node(u).dummy&&e.predecessors(u).forEach(f=>{let m=e.node(f);m.dummy&&(m.order<l||m.order>c)&&ll(n,f,u)})})}function r(i,s){let a=-1,l,c=0;return s.forEach((u,d)=>{if(e.node(u).dummy==="border"){let f=e.predecessors(u);f.length&&(l=e.node(f[0]).order,o(s,c,d,a,l),c=d,a=l)}o(s,c,s.length,l,i.length)}),s}return t.length&&t.reduce(r),n}function CS(e,t){if(e.node(t).dummy)return e.predecessors(t).find(n=>e.node(n).dummy)}function ll(e,t,n){if(t>n){let r=t;t=n,n=r}let o=e[t];o||(e[t]=o={}),o[n]=!0}function zh(e,t,n){if(t>n){let o=t;t=n,n=o}return!!e[t]&&Object.hasOwn(e[t],n)}function Uh(e,t,n,o){let r={},i={},s={};return t.forEach(a=>{a.forEach((l,c)=>{r[l]=l,i[l]=l,s[l]=c})}),t.forEach(a=>{let l=-1;a.forEach(c=>{let u=o(c);if(u.length){u=u.sort((f,m)=>s[f]-s[m]);let d=(u.length-1)/2;for(let f=Math.floor(d),m=Math.ceil(d);f<=m;++f){let _=u[f];i[c]===c&&l<s[_]&&!zh(n,c,_)&&(i[_]=c,i[c]=r[c]=r[_],l=s[_])}}})}),{root:r,align:i}}function jh(e,t,n,o,r){let i={},s=kS(e,t,n,r),a=r?"borderLeft":"borderRight";function l(d,f){let m=s.nodes(),_=m.pop(),v={};for(;_;)v[_]?d(_):(v[_]=!0,m.push(_),m=m.concat(f(_))),_=m.pop()}function c(d){i[d]=s.inEdges(d).reduce((f,m)=>Math.max(f,i[m.v]+s.edge(m)),0)}function u(d){let f=s.outEdges(d).reduce((_,v)=>Math.min(_,i[v.w]-s.edge(v)),Number.POSITIVE_INFINITY),m=e.node(d);f!==Number.POSITIVE_INFINITY&&m.borderType!==a&&(i[d]=Math.max(i[d],f))}return l(c,s.predecessors.bind(s)),l(u,s.successors.bind(s)),Object.keys(o).forEach(d=>i[d]=i[n[d]]),i}function kS(e,t,n,o){let r=new OS,i=e.graph(),s=DS(i.nodesep,i.edgesep,o);return t.forEach(a=>{let l;a.forEach(c=>{let u=n[c];if(r.setNode(u),l){var d=n[l],f=r.edge(d,u);r.setEdge(d,u,Math.max(s(e,c,l),f||0))}l=c})}),r}function Gh(e,t){return Object.values(t).reduce((n,o)=>{let r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;Object.entries(o).forEach(([a,l])=>{let c=IS(e,a)/2;r=Math.max(l+c,r),i=Math.min(l-c,i)});let s=r-i;return s<n[0]&&(n=[s,o]),n},[Number.POSITIVE_INFINITY,null])[1]}function qh(e,t){let n=Object.values(t),o=pn.applyWithChunking(Math.min,n),r=pn.applyWithChunking(Math.max,n);["u","d"].forEach(i=>{["l","r"].forEach(s=>{let a=i+s,l=e[a];if(l===t)return;let c=Object.values(l),u=o-pn.applyWithChunking(Math.min,c);s!=="l"&&(u=r-pn.applyWithChunking(Math.max,c)),u&&(e[a]=pn.mapValues(l,d=>d+u))})})}function Yh(e,t){return pn.mapValues(e.ul,(n,o)=>{if(t)return e[t.toLowerCase()][o];{let r=Object.values(e).map(i=>i[o]).sort((i,s)=>i-s);return(r[1]+r[2])/2}})}function TS(e){let t=pn.buildLayerMatrix(e),n=Object.assign(Hh(e,t),Bh(e,t)),o={},r;["u","d"].forEach(s=>{r=s==="u"?t:Object.values(t).reverse(),["l","r"].forEach(a=>{a==="r"&&(r=r.map(d=>Object.values(d).reverse()));let l=(s==="u"?e.predecessors:e.successors).bind(e),c=Uh(e,r,n,l),u=jh(e,r,c.root,c.align,a==="r");a==="r"&&(u=pn.mapValues(u,d=>-d)),o[s+a]=u})});let i=Gh(e,o);return qh(o,i),Yh(o,e.graph().align)}function DS(e,t,n){return(o,r,i)=>{let s=o.node(r),a=o.node(i),l=0,c;if(l+=s.width/2,Object.hasOwn(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=-s.width/2;break;case"r":c=s.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(s.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,Object.hasOwn(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function IS(e,t){return e.node(t).width}});var Jh=ye((GD,Zh)=>{"use strict";var Xh=Je(),AS=Kh().positionX;Zh.exports=MS;function MS(e){e=Xh.asNonCompoundGraph(e),PS(e),Object.entries(AS(e)).forEach(([t,n])=>e.node(t).x=n)}function PS(e){let t=Xh.buildLayerMatrix(e),n=e.graph().ranksep,o=0;t.forEach(r=>{let i=r.reduce((s,a)=>{let l=e.node(a).height;return s>l?s:l},0);r.forEach(s=>e.node(s).y=o+i/2),o+=i+n})}});var im=ye((qD,rm)=>{"use strict";var Qh=Hp(),em=zp(),VS=oh(),RS=Je().normalizeRanks,LS=ih(),FS=Je().removeEmptyRanks,tm=lh(),$S=dh(),nm=mh(),HS=$h(),BS=Jh(),It=Je(),zS=Dt().Graph;rm.exports=US;function US(e,t){let n=t&&t.debugTiming?It.time:It.notime;n("layout",()=>{let o=n("  buildLayoutGraph",()=>QS(e));n("  runLayout",()=>jS(o,n,t)),n("  updateInputGraph",()=>GS(e,o))})}function jS(e,t,n){t("    makeSpaceForEdgeLabels",()=>eO(e)),t("    removeSelfEdges",()=>cO(e)),t("    acyclic",()=>Qh.run(e)),t("    nestingGraph.run",()=>tm.run(e)),t("    rank",()=>VS(It.asNonCompoundGraph(e))),t("    injectEdgeLabelProxies",()=>tO(e)),t("    removeEmptyRanks",()=>FS(e)),t("    nestingGraph.cleanup",()=>tm.cleanup(e)),t("    normalizeRanks",()=>RS(e)),t("    assignRankMinMax",()=>nO(e)),t("    removeEdgeLabelProxies",()=>oO(e)),t("    normalize.run",()=>em.run(e)),t("    parentDummyChains",()=>LS(e)),t("    addBorderSegments",()=>$S(e)),t("    order",()=>HS(e,n)),t("    insertSelfEdges",()=>uO(e)),t("    adjustCoordinateSystem",()=>nm.adjust(e)),t("    position",()=>BS(e)),t("    positionSelfEdges",()=>dO(e)),t("    removeBorderNodes",()=>lO(e)),t("    normalize.undo",()=>em.undo(e)),t("    fixupEdgeLabelCoords",()=>sO(e)),t("    undoCoordinateSystem",()=>nm.undo(e)),t("    translateGraph",()=>rO(e)),t("    assignNodeIntersects",()=>iO(e)),t("    reversePoints",()=>aO(e)),t("    acyclic.undo",()=>Qh.undo(e))}function GS(e,t){e.nodes().forEach(n=>{let o=e.node(n),r=t.node(n);o&&(o.x=r.x,o.y=r.y,o.rank=r.rank,t.children(n).length&&(o.width=r.width,o.height=r.height))}),e.edges().forEach(n=>{let o=e.edge(n),r=t.edge(n);o.points=r.points,Object.hasOwn(r,"x")&&(o.x=r.x,o.y=r.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var qS=["nodesep","edgesep","ranksep","marginx","marginy"],YS={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},WS=["acyclicer","ranker","rankdir","align"],KS=["width","height"],om={width:0,height:0},XS=["minlen","weight","width","height","labeloffset"],ZS={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},JS=["labelpos"];function QS(e){let t=new zS({multigraph:!0,compound:!0}),n=ul(e.graph());return t.setGraph(Object.assign({},YS,cl(n,qS),It.pick(n,WS))),e.nodes().forEach(o=>{let r=ul(e.node(o)),i=cl(r,KS);Object.keys(om).forEach(s=>{i[s]===void 0&&(i[s]=om[s])}),t.setNode(o,i),t.setParent(o,e.parent(o))}),e.edges().forEach(o=>{let r=ul(e.edge(o));t.setEdge(o,Object.assign({},ZS,cl(r,XS),It.pick(r,JS)))}),t}function eO(e){let t=e.graph();t.ranksep/=2,e.edges().forEach(n=>{let o=e.edge(n);o.minlen*=2,o.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?o.width+=o.labeloffset:o.height+=o.labeloffset)})}function tO(e){e.edges().forEach(t=>{let n=e.edge(t);if(n.width&&n.height){let o=e.node(t.v),i={rank:(e.node(t.w).rank-o.rank)/2+o.rank,e:t};It.addDummyNode(e,"edge-proxy",i,"_ep")}})}function nO(e){let t=0;e.nodes().forEach(n=>{let o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=Math.max(t,o.maxRank))}),e.graph().maxRank=t}function oO(e){e.nodes().forEach(t=>{let n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function rO(e){let t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,r=0,i=e.graph(),s=i.marginx||0,a=i.marginy||0;function l(c){let u=c.x,d=c.y,f=c.width,m=c.height;t=Math.min(t,u-f/2),n=Math.max(n,u+f/2),o=Math.min(o,d-m/2),r=Math.max(r,d+m/2)}e.nodes().forEach(c=>l(e.node(c))),e.edges().forEach(c=>{let u=e.edge(c);Object.hasOwn(u,"x")&&l(u)}),t-=s,o-=a,e.nodes().forEach(c=>{let u=e.node(c);u.x-=t,u.y-=o}),e.edges().forEach(c=>{let u=e.edge(c);u.points.forEach(d=>{d.x-=t,d.y-=o}),Object.hasOwn(u,"x")&&(u.x-=t),Object.hasOwn(u,"y")&&(u.y-=o)}),i.width=n-t+s,i.height=r-o+a}function iO(e){e.edges().forEach(t=>{let n=e.edge(t),o=e.node(t.v),r=e.node(t.w),i,s;n.points?(i=n.points[0],s=n.points[n.points.length-1]):(n.points=[],i=r,s=o),n.points.unshift(It.intersectRect(o,i)),n.points.push(It.intersectRect(r,s))})}function sO(e){e.edges().forEach(t=>{let n=e.edge(t);if(Object.hasOwn(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function aO(e){e.edges().forEach(t=>{let n=e.edge(t);n.reversed&&n.points.reverse()})}function lO(e){e.nodes().forEach(t=>{if(e.children(t).length){let n=e.node(t),o=e.node(n.borderTop),r=e.node(n.borderBottom),i=e.node(n.borderLeft[n.borderLeft.length-1]),s=e.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-i.x),n.height=Math.abs(r.y-o.y),n.x=i.x+n.width/2,n.y=o.y+n.height/2}}),e.nodes().forEach(t=>{e.node(t).dummy==="border"&&e.removeNode(t)})}function cO(e){e.edges().forEach(t=>{if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function uO(e){var t=It.buildLayerMatrix(e);t.forEach(n=>{var o=0;n.forEach((r,i)=>{var s=e.node(r);s.order=i+o,(s.selfEdges||[]).forEach(a=>{It.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:i+ ++o,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function dO(e){e.nodes().forEach(t=>{var n=e.node(t);if(n.dummy==="selfedge"){var o=e.node(n.e.v),r=o.x+o.width/2,i=o.y,s=n.x-r,a=o.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*s/3,y:i-a},{x:r+5*s/6,y:i-a},{x:r+s,y:i},{x:r+5*s/6,y:i+a},{x:r+2*s/3,y:i+a}],n.label.x=n.x,n.label.y=n.y}})}function cl(e,t){return It.mapValues(It.pick(e,t),Number)}function ul(e){var t={};return e&&Object.entries(e).forEach(([n,o])=>{typeof n=="string"&&(n=n.toLowerCase()),t[n]=o}),t}});var am=ye((YD,sm)=>{var fO=Je(),pO=Dt().Graph;sm.exports={debugOrdering:hO};function hO(e){let t=fO.buildLayerMatrix(e),n=new pO({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(o=>{n.setNode(o,{label:o}),n.setParent(o,"layer"+e.node(o).rank)}),e.edges().forEach(o=>n.setEdge(o.v,o.w,{},o.name)),t.forEach((o,r)=>{let i="layer"+r;n.setNode(i,{rank:"same"}),o.reduce((s,a)=>(n.setEdge(s,a,{style:"invis"}),a))}),n}});var cm=ye((WD,lm)=>{lm.exports="1.1.4"});var dm=ye((KD,um)=>{um.exports={graphlib:Dt(),layout:im(),debug:am(),util:{time:Je().time,notime:Je().notime},version:cm()}});var FO={};Rm(FO,{default:()=>ls});module.exports=Fm(FO);var cs=require("obsidian");var Ye={app:null,ctx:null,cahce_workspace:null,isDebug:!1};function Qn(e){let t=Object.create(null);for(let n of e.split(","))t[n]=1;return n=>n in t}var Fe={},Dn=[],Et=()=>{},vl=()=>!1,eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Io=e=>e.startsWith("onUpdate:"),We=Object.assign,Ao=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},$m=Object.prototype.hasOwnProperty,Pe=(e,t)=>$m.call(e,t),he=Array.isArray,In=e=>Mo(e)==="[object Map]",hn=e=>Mo(e)==="[object Set]",ml=e=>Mo(e)==="[object Date]";var ve=e=>typeof e=="function",Ue=e=>typeof e=="string",yt=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",ps=e=>(Le(e)||ve(e))&&ve(e.then)&&ve(e.catch),_l=Object.prototype.toString,Mo=e=>_l.call(e),hs=e=>Mo(e).slice(8,-1),Ir=e=>Mo(e)==="[object Object]",Ar=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,to=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");var Mr=e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Hm=/-(\w)/g,dt=Mr(e=>e.replace(Hm,(t,n)=>n?n.toUpperCase():"")),Bm=/\B([A-Z])/g,Zt=Mr(e=>e.replace(Bm,"-$1").toLowerCase()),An=Mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Po=Mr(e=>e?`on${An(e)}`:""),Mt=(e,t)=>!Object.is(e,t),no=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Pr=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},oo=e=>{let t=parseFloat(e);return isNaN(t)?e:t},ms=e=>{let t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t},gl,ro=()=>gl||(gl=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ke(e){if(he(e)){let t={};for(let n=0;n<e.length;n++){let o=e[n],r=Ue(o)?Gm(o):Ke(o);if(r)for(let i in r)t[i]=r[i]}return t}else if(Ue(e)||Le(e))return e}var zm=/;(?![^(]*\))/g,Um=/:([^]+)/,jm=/\/\*[^]*?\*\//g;function Gm(e){let t={};return e.replace(jm,"").split(zm).forEach(n=>{if(n){let o=n.split(Um);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Be(e){let t="";if(Ue(e))t=e;else if(he(e))for(let n=0;n<e.length;n++){let o=Be(e[n]);o&&(t+=o+" ")}else if(Le(e))for(let n in e)e[n]&&(t+=n+" ");return t.trim()}var yl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",El=Qn(yl),qm=Qn(yl+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Vr(e){return!!e||e===""}function Ym(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=io(e[o],t[o]);return n}function io(e,t){if(e===t)return!0;let n=ml(e),o=ml(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=yt(e),o=yt(t),n||o)return e===t;if(n=he(e),o=he(t),n||o)return n&&o?Ym(e,t):!1;if(n=Le(e),o=Le(t),n||o){if(!n||!o)return!1;let r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(let s in e){let a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!io(e[s],t[s]))return!1}}return String(e)===String(t)}function Rr(e,t){return e.findIndex(n=>io(n,t))}var wl=e=>!!(e&&e.__v_isRef===!0),Ce=e=>Ue(e)?e:e==null?"":he(e)||Le(e)&&(e.toString===_l||!ve(e.toString))?wl(e)?Ce(e.value):JSON.stringify(e,bl,2):String(e),bl=(e,t)=>wl(t)?bl(e,t.value):In(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],i)=>(n[fs(o,i)+" =>"]=r,n),{})}:hn(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>fs(n))}:yt(t)?fs(t):Le(t)&&!he(t)&&!Ir(t)?String(t):t,fs=(e,t="")=>{var n;return yt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};function Wm(e,...t){console.warn(`[Vue warn] ${e}`,...t)}var ht,ao=class{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ht,!t&&ht&&(this.index=(ht.scopes||(ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){let n=ht;try{return ht=this,t()}finally{ht=n}}}on(){ht=this}off(){ht=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){let r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}};function jr(e){return new ao(e)}function Ho(){return ht}function uo(e,t=!1){ht&&ht.cleanups.push(e)}var ze;var gs=new WeakSet,lo=class{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ht&&ht.active&&ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gs.has(this)&&(gs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ol(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Nl(this),Cl(this);let t=ze,n=Pt;ze=this,Pt=!0;try{return this.fn()}finally{kl(this),ze=t,Pt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)As(t);this.deps=this.depsTail=void 0,Nl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ys(this)&&this.run()}get dirty(){return ys(this)}},Sl=0,Ro,Lo;function Ol(e,t=!1){if(e.flags|=8,t){e.next=Lo,Lo=e;return}e.next=Ro,Ro=e}function Ds(){Sl++}function Is(){if(--Sl>0)return;if(Lo){let t=Lo;for(Lo=void 0;t;){let n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ro;){let t=Ro;for(Ro=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Cl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function kl(e){let t,n=e.depsTail,o=n;for(;o;){let r=o.prevDep;o.version===-1?(o===n&&(n=r),As(o),Km(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function ys(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Tl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Tl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fo))return;e.globalVersion=Fo;let t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ys(e)){e.flags&=-3;return}let n=ze,o=Pt;ze=e,Pt=!0;try{Cl(e);let r=e.fn(e._value);(t.version===0||Mt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ze=n,Pt=o,kl(e),e.flags&=-3}}function As(e,t=!1){let{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)As(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Km(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var Pt=!0,Dl=[];function en(){Dl.push(Pt),Pt=!1}function tn(){let e=Dl.pop();Pt=e===void 0?!0:e}function Nl(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let n=ze;ze=void 0;try{t()}finally{ze=n}}}var Fo=0,Es=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},co=class{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ze||!Pt||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Es(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,Il(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){let o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=o)}return n}trigger(t){this.version++,Fo++,this.notify(t)}notify(t){Ds();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Is()}}};function Il(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Il(o)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}var Hr=new WeakMap,Pn=Symbol(""),ws=Symbol(""),$o=Symbol("");function st(e,t,n){if(Pt&&ze){let o=Hr.get(e);o||Hr.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new co),r.map=o,r.key=n),r.track()}}function Bt(e,t,n,o,r,i){let s=Hr.get(e);if(!s){Fo++;return}let a=l=>{l&&l.trigger()};if(Ds(),t==="clear")s.forEach(a);else{let l=he(e),c=l&&Ar(n);if(l&&n==="length"){let u=Number(o);s.forEach((d,f)=>{(f==="length"||f===$o||!yt(f)&&f>=u)&&a(d)})}else switch((n!==void 0||s.has(void 0))&&a(s.get(n)),c&&a(s.get($o)),t){case"add":l?c&&a(s.get("length")):(a(s.get(Pn)),In(e)&&a(s.get(ws)));break;case"delete":l||(a(s.get(Pn)),In(e)&&a(s.get(ws)));break;case"set":In(e)&&a(s.get(Pn));break}}Is()}function Xm(e,t){let n=Hr.get(e);return n&&n.get(t)}function so(e){let t=Te(e);return t===e?t:(st(t,"iterate",$o),wt(e)?t:t.map(at))}function Bo(e){return st(e=Te(e),"iterate",$o),e}var Zm={__proto__:null,[Symbol.iterator](){return vs(this,Symbol.iterator,at)},concat(...e){return so(this).concat(...e.map(t=>he(t)?so(t):t))},entries(){return vs(this,"entries",e=>(e[1]=at(e[1]),e))},every(e,t){return Jt(this,"every",e,t,void 0,arguments)},filter(e,t){return Jt(this,"filter",e,t,n=>n.map(at),arguments)},find(e,t){return Jt(this,"find",e,t,at,arguments)},findIndex(e,t){return Jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jt(this,"findLast",e,t,at,arguments)},findLastIndex(e,t){return Jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return _s(this,"includes",e)},indexOf(...e){return _s(this,"indexOf",e)},join(e){return so(this).join(e)},lastIndexOf(...e){return _s(this,"lastIndexOf",e)},map(e,t){return Jt(this,"map",e,t,void 0,arguments)},pop(){return Vo(this,"pop")},push(...e){return Vo(this,"push",e)},reduce(e,...t){return xl(this,"reduce",e,t)},reduceRight(e,...t){return xl(this,"reduceRight",e,t)},shift(){return Vo(this,"shift")},some(e,t){return Jt(this,"some",e,t,void 0,arguments)},splice(...e){return Vo(this,"splice",e)},toReversed(){return so(this).toReversed()},toSorted(e){return so(this).toSorted(e)},toSpliced(...e){return so(this).toSpliced(...e)},unshift(...e){return Vo(this,"unshift",e)},values(){return vs(this,"values",at)}};function vs(e,t,n){let o=Bo(e),r=o[t]();return o!==e&&!wt(e)&&(r._next=r.next,r.next=()=>{let i=r._next();return i.value&&(i.value=n(i.value)),i}),r}var Jm=Array.prototype;function Jt(e,t,n,o,r,i){let s=Bo(e),a=s!==e&&!wt(e),l=s[t];if(l!==Jm[t]){let d=l.apply(e,i);return a?at(d):d}let c=n;s!==e&&(a?c=function(d,f){return n.call(this,at(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));let u=l.call(s,c,o);return a&&r?r(u):u}function xl(e,t,n,o){let r=Bo(e),i=n;return r!==e&&(wt(e)?n.length>3&&(i=function(s,a,l){return n.call(this,s,a,l,e)}):i=function(s,a,l){return n.call(this,s,at(a),l,e)}),r[t](i,...o)}function _s(e,t,n){let o=Te(e);st(o,"iterate",$o);let r=o[t](...n);return(r===-1||r===!1)&&Uo(n[0])?(n[0]=Te(n[0]),o[t](...n)):r}function Vo(e,t,n=[]){en(),Ds();let o=Te(e)[t].apply(e,n);return Is(),tn(),o}var Qm=Qn("__proto__,__v_isRef,__isVue"),Al=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(yt));function eg(e){yt(e)||(e=String(e));let t=Te(this);return st(t,"has",e),t.hasOwnProperty(e)}var Br=class{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){let r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(r?i?cg:Vl:i?Pl:Ml).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;let s=he(t);if(!r){let l;if(s&&(l=Zm[n]))return l;if(n==="hasOwnProperty")return eg}let a=Reflect.get(t,n,Ge(t)?t:o);return(yt(n)?Al.has(n):Qm(n))||(r||st(t,"get",n),i)?a:Ge(a)?s&&Ar(n)?a:a.value:Le(a)?r?zo(a):Vn(a):a}},zr=class extends Br{constructor(t=!1){super(!1,t)}set(t,n,o,r){let i=t[n];if(!this._isShallow){let l=Qt(i);if(!wt(o)&&!Qt(o)&&(i=Te(i),o=Te(o)),!he(t)&&Ge(i)&&!Ge(o))return l?!1:(i.value=o,!0)}let s=he(t)&&Ar(n)?Number(n)<t.length:Pe(t,n),a=Reflect.set(t,n,o,Ge(t)?t:r);return t===Te(r)&&(s?Mt(o,i)&&Bt(t,"set",n,o,i):Bt(t,"add",n,o)),a}deleteProperty(t,n){let o=Pe(t,n),r=t[n],i=Reflect.deleteProperty(t,n);return i&&o&&Bt(t,"delete",n,void 0,r),i}has(t,n){let o=Reflect.has(t,n);return(!yt(n)||!Al.has(n))&&st(t,"has",n),o}ownKeys(t){return st(t,"iterate",he(t)?"length":Pn),Reflect.ownKeys(t)}},bs=class extends Br{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}},tg=new zr,ng=new bs,og=new zr(!0);var Ns=e=>e,Lr=e=>Reflect.getPrototypeOf(e);function rg(e,t,n){return function(...o){let r=this.__v_raw,i=Te(r),s=In(i),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=r[e](...o),u=n?Ns:t?xs:at;return!t&&st(i,"iterate",l?ws:Pn),{next(){let{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Fr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ig(e,t){let n={get(r){let i=this.__v_raw,s=Te(i),a=Te(r);e||(Mt(r,a)&&st(s,"get",r),st(s,"get",a));let{has:l}=Lr(s),c=t?Ns:e?xs:at;if(l.call(s,r))return c(i.get(r));if(l.call(s,a))return c(i.get(a));i!==s&&i.get(r)},get size(){let r=this.__v_raw;return!e&&st(Te(r),"iterate",Pn),Reflect.get(r,"size",r)},has(r){let i=this.__v_raw,s=Te(i),a=Te(r);return e||(Mt(r,a)&&st(s,"has",r),st(s,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){let s=this,a=s.__v_raw,l=Te(a),c=t?Ns:e?xs:at;return!e&&st(l,"iterate",Pn),a.forEach((u,d)=>r.call(i,c(u),c(d),s))}};return We(n,e?{add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear")}:{add(r){!t&&!wt(r)&&!Qt(r)&&(r=Te(r));let i=Te(this);return Lr(i).has.call(i,r)||(i.add(r),Bt(i,"add",r,r)),this},set(r,i){!t&&!wt(i)&&!Qt(i)&&(i=Te(i));let s=Te(this),{has:a,get:l}=Lr(s),c=a.call(s,r);c||(r=Te(r),c=a.call(s,r));let u=l.call(s,r);return s.set(r,i),c?Mt(i,u)&&Bt(s,"set",r,i,u):Bt(s,"add",r,i),this},delete(r){let i=Te(this),{has:s,get:a}=Lr(i),l=s.call(i,r);l||(r=Te(r),l=s.call(i,r));let c=a?a.call(i,r):void 0,u=i.delete(r);return l&&Bt(i,"delete",r,void 0,c),u},clear(){let r=Te(this),i=r.size!==0,s=void 0,a=r.clear();return i&&Bt(r,"clear",void 0,void 0,s),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=rg(r,e,t)}),n}function Ms(e,t){let n=ig(e,t);return(o,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Pe(n,r)&&r in o?n:o,r,i)}var sg={get:Ms(!1,!1)},ag={get:Ms(!1,!0)},lg={get:Ms(!0,!1)};var Ml=new WeakMap,Pl=new WeakMap,Vl=new WeakMap,cg=new WeakMap;function ug(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dg(e){return e.__v_skip||!Object.isExtensible(e)?0:ug(hs(e))}function Vn(e){return Qt(e)?e:Vs(e,!1,tg,sg,Ml)}function Ps(e){return Vs(e,!1,og,ag,Pl)}function zo(e){return Vs(e,!0,ng,lg,Vl)}function Vs(e,t,n,o,r){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let i=r.get(e);if(i)return i;let s=dg(e);if(s===0)return e;let a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function mn(e){return Qt(e)?mn(e.__v_raw):!!(e&&e.__v_isReactive)}function Qt(e){return!!(e&&e.__v_isReadonly)}function wt(e){return!!(e&&e.__v_isShallow)}function Uo(e){return e?!!e.__v_raw:!1}function Te(e){let t=e&&e.__v_raw;return t?Te(t):e}function Ut(e){return!Pe(e,"__v_skip")&&Object.isExtensible(e)&&Pr(e,"__v_skip",!0),e}var at=e=>Le(e)?Vn(e):e,xs=e=>Le(e)?zo(e):e;function Ge(e){return e?e.__v_isRef===!0:!1}function ie(e){return fg(e,!1)}function fg(e,t){return Ge(e)?e:new Ss(e,t)}var Ss=class{constructor(t,n){this.dep=new co,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Te(t),this._value=n?t:at(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){let n=this._rawValue,o=this.__v_isShallow||wt(t)||Qt(t);t=o?t:Te(t),Mt(t,n)&&(this._rawValue=t,this._value=o?t:at(t),this.dep.trigger())}};function ae(e){return Ge(e)?e.value:e}function Ve(e){return ve(e)?e():ae(e)}var pg={get:(e,t,n)=>t==="__v_raw"?e:ae(Reflect.get(e,t,n)),set:(e,t,n,o)=>{let r=e[t];return Ge(r)&&!Ge(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function Gr(e){return mn(e)?e:new Proxy(e,pg)}var Os=class{constructor(t){this.__v_isRef=!0,this._value=void 0;let n=this.dep=new co,{get:o,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}};function qr(e){return new Os(e)}function Rs(e){let t=he(e)?new Array(e.length):{};for(let n in e)t[n]=Rl(e,n);return t}var Cs=class{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){let t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Xm(Te(this._object),this._key)}},ks=class{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}};function $e(e,t,n){return Ge(e)?e:ve(e)?new ks(e):Le(e)&&arguments.length>1?Rl(e,t,n):ie(e)}function Rl(e,t,n){let o=e[t];return Ge(o)?o:new Cs(e,t,n)}var Ts=class{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new co(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Ol(this,!0),!0}get value(){let t=this.dep.track();return Tl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}};function Ll(e,t,n=!1){let o,r;return ve(e)?o=e:(o=e.get,r=e.set),new Ts(o,r,n)}var $r={},Ur=new WeakMap,Mn;function Fl(e,t=!1,n=Mn){if(n){let o=Ur.get(n);o||Ur.set(n,o=[]),o.push(e)}}function $l(e,t,n=Fe){let{immediate:o,deep:r,once:i,scheduler:s,augmentJob:a,call:l}=n,c=I=>{(n.onWarn||Wm)("Invalid watch source: ",I,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=I=>r?I:wt(I)||r===!1||r===0?zt(I,1):zt(I),d,f,m,_,v=!1,E=!1;if(Ge(e)?(f=()=>e.value,v=wt(e)):mn(e)?(f=()=>u(e),v=!0):he(e)?(E=!0,v=e.some(I=>mn(I)||wt(I)),f=()=>e.map(I=>{if(Ge(I))return I.value;if(mn(I))return u(I);if(ve(I))return l?l(I,2):I()})):ve(e)?t?f=l?()=>l(e,2):e:f=()=>{if(m){en();try{m()}finally{tn()}}let I=Mn;Mn=d;try{return l?l(e,3,[_]):e(_)}finally{Mn=I}}:f=Et,t&&r){let I=f,U=r===!0?1/0:r;f=()=>zt(I(),U)}let O=Ho(),D=()=>{d.stop(),O&&Ao(O.effects,d)};if(i&&t){let I=t;t=(...U)=>{I(...U),D()}}let w=E?new Array(e.length).fill($r):$r,C=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(t){let U=d.run();if(r||v||(E?U.some((q,G)=>Mt(q,w[G])):Mt(U,w))){m&&m();let q=Mn;Mn=d;try{let G=[U,w===$r?void 0:E&&w[0]===$r?[]:w,_];l?l(t,3,G):t(...G),w=U}finally{Mn=q}}}else d.run()};return a&&a(C),d=new lo(f),d.scheduler=s?()=>s(C,!1):C,_=I=>Fl(I,!1,d),m=d.onStop=()=>{let I=Ur.get(d);if(I){if(l)l(I,4);else for(let U of I)U();Ur.delete(d)}},t?o?C(!0):w=d.run():s?s(C.bind(null,!0),!0):d.run(),D.pause=d.pause.bind(d),D.resume=d.resume.bind(d),D.stop=D,D}function zt(e,t=1/0,n){if(t<=0||!Le(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ge(e))zt(e.value,t,n);else if(he(e))for(let o=0;o<e.length;o++)zt(e[o],t,n);else if(hn(e)||In(e))e.forEach(o=>{zt(o,t,n)});else if(Ir(e)){for(let o in e)zt(e[o],t,n);for(let o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&zt(e[o],t,n)}return e}function Zo(e,t,n,o){try{return o?e(...o):e()}catch(r){oi(r,t,n)}}function Tt(e,t,n,o){if(ve(e)){let r=Zo(e,t,n,o);return r&&ps(r)&&r.catch(i=>{oi(i,t,n)}),r}if(he(e)){let r=[];for(let i=0;i<e.length;i++)r.push(Tt(e[i],t,n,o));return r}}function oi(e,t,n,o=!0){let r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Fe;if(t){let a=t.parent,l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){let u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){en(),Zo(i,null,10,[e,l,c]),tn();return}}mg(e,n,r,o,s)}function mg(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}var gt=[],Gt=-1,po=[],gn=null,fo=0,oc=Promise.resolve(),Jr=null;function ct(e){let t=Jr||oc;return e?t.then(this?e.bind(this):e):t}function gg(e){let t=Gt+1,n=gt.length;for(;t<n;){let o=t+n>>>1,r=gt[o],i=Wo(r);i<e||i===e&&r.flags&2?t=o+1:n=o}return t}function Ws(e){if(!(e.flags&1)){let t=Wo(e),n=gt[gt.length-1];!n||!(e.flags&2)&&t>=Wo(n)?gt.push(e):gt.splice(gg(t),0,e),e.flags|=1,rc()}}function rc(){Jr||(Jr=oc.then(sc))}function vg(e){he(e)?po.push(...e):gn&&e.id===-1?gn.splice(fo+1,0,e):e.flags&1||(po.push(e),e.flags|=1),rc()}function Hl(e,t,n=Gt+1){for(;n<gt.length;n++){let o=gt[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;gt.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function ic(e){if(po.length){let t=[...new Set(po)].sort((n,o)=>Wo(n)-Wo(o));if(po.length=0,gn){gn.push(...t);return}for(gn=t,fo=0;fo<gn.length;fo++){let n=gn[fo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}gn=null,fo=0}}var Wo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function sc(e){let t=Et;try{for(Gt=0;Gt<gt.length;Gt++){let n=gt[Gt];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Zo(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Gt<gt.length;Gt++){let n=gt[Gt];n&&(n.flags&=-2)}Gt=-1,gt.length=0,ic(e),Jr=null,(gt.length||po.length)&&sc(e)}}var rt=null,ac=null;function Qr(e){let t=rt;return rt=e,ac=e&&e.type.__scopeId||null,t}function je(e,t=rt,n){if(!t||e._n)return e;let o=(...r)=>{o._d&&Jl(-1);let i=Qr(t),s;try{s=e(...r)}finally{Qr(i),o._d&&Jl(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function qe(e,t){if(rt===null)return e;let n=ci(rt),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,s,a,l=Fe]=t[r];i&&(ve(i)&&(i={mounted:i,updated:i}),i.deep&&zt(s),o.push({dir:i,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Rn(e,t,n,o){let r=e.dirs,i=t&&t.dirs;for(let s=0;s<r.length;s++){let a=r[s];i&&(a.oldValue=i[s].value);let l=a.dir[o];l&&(en(),Tt(l,n,8,[e.el,a,e,t]),tn())}}var lc=Symbol("_vte"),cc=e=>e.__isTeleport,Go=e=>e&&(e.disabled||e.disabled===""),_g=e=>e&&(e.defer||e.defer===""),Bl=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,zl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Bs=(e,t)=>{let n=e&&e.to;return Ue(n)?t?t(n):null:n},yg={name:"Teleport",__isTeleport:!0,process(e,t,n,o,r,i,s,a,l,c){let{mc:u,pc:d,pbc:f,o:{insert:m,querySelector:_,createText:v,createComment:E}}=c,O=Go(t.props),{shapeFlag:D,children:w,dynamicChildren:C}=t;if(e==null){let I=t.el=v(""),U=t.anchor=v("");m(I,n,o),m(U,n,o);let q=($,P)=>{D&16&&(r&&r.isCE&&(r.ce._teleportTarget=$),u(w,$,P,r,i,s,a,l))},G=()=>{let $=t.target=Bs(t.props,_),P=dc($,t,v,m);$&&(s!=="svg"&&Bl($)?s="svg":s!=="mathml"&&zl($)&&(s="mathml"),O||(q($,P),Kr(t,!1)))};O&&(q(n,U),Kr(t,!0)),_g(t.props)?bt(G,i):G()}else{t.el=e.el,t.targetStart=e.targetStart;let I=t.anchor=e.anchor,U=t.target=e.target,q=t.targetAnchor=e.targetAnchor,G=Go(e.props),$=G?n:U,P=G?I:q;if(s==="svg"||Bl(U)?s="svg":(s==="mathml"||zl(U))&&(s="mathml"),C?(f(e.dynamicChildren,C,$,r,i,s,a),ta(e,t,!0)):l||d(e,t,$,P,r,i,s,a,!1),O)G?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Yr(t,n,I,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){let B=t.target=Bs(t.props,_);B&&Yr(t,B,null,c,0)}else G&&Yr(t,U,q,c,1);Kr(t,O)}},remove(e,t,n,{um:o,o:{remove:r}},i){let{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(r(c),r(u)),i&&r(l),s&16){let m=i||!Go(f);for(let _=0;_<a.length;_++){let v=a[_];o(v,t,n,m,!!v.dynamicChildren)}}},move:Yr,hydrate:Eg};function Yr(e,t,n,{o:{insert:o},m:r},i=2){i===0&&o(e.targetAnchor,t,n);let{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,d=i===2;if(d&&o(s,t,n),(!d||Go(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],t,n,2);d&&o(a,t,n)}function Eg(e,t,n,o,r,i,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},d){let f=t.target=Bs(t.props,l);if(f){let m=Go(t.props),_=f._lpa||f.firstChild;if(t.shapeFlag&16)if(m)t.anchor=d(s(e),t,a(e),n,o,r,i),t.targetStart=_,t.targetAnchor=_&&s(_);else{t.anchor=s(e);let v=_;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,f._lpa=t.targetAnchor&&s(t.targetAnchor);break}}v=s(v)}t.targetAnchor||dc(f,t,u,c),d(_&&s(_),t,f,n,o,r,i)}Kr(t,m)}return t.anchor&&s(t.anchor)}var uc=yg;function Kr(e,t){let n=e.ctx;if(n&&n.ut){let o,r;for(t?(o=e.el,r=e.anchor):(o=e.targetStart,r=e.targetAnchor);o&&o!==r;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function dc(e,t,n,o){let r=t.targetStart=n(""),i=t.targetAnchor=n("");return r[lc]=i,e&&(o(r,e),o(i,e)),i}var vn=Symbol("_leaveCb"),Wr=Symbol("_enterCb");function fc(){let e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nt(()=>{e.isMounted=!0}),$n(()=>{e.isUnmounting=!0}),e}var kt=[Function,Array],Ks={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kt,onEnter:kt,onAfterEnter:kt,onEnterCancelled:kt,onBeforeLeave:kt,onLeave:kt,onAfterLeave:kt,onLeaveCancelled:kt,onBeforeAppear:kt,onAppear:kt,onAfterAppear:kt,onAppearCancelled:kt},pc=e=>{let t=e.subTree;return t.component?pc(t.component):t},wg={name:"BaseTransition",props:Ks,setup(e,{slots:t}){let n=on(),o=fc();return()=>{let r=t.default&&Xs(t.default(),!0);if(!r||!r.length)return;let i=hc(r),s=Te(e),{mode:a}=s;if(o.isLeaving)return Ls(i);let l=Ul(i);if(!l)return Ls(i);let c=ei(l,s,o,n,f=>c=f);l.type!==vt&&go(l,c);let u=n.subTree,d=u&&Ul(u);if(d&&d.type!==vt&&!Fn(l,d)&&pc(n).type!==vt){let f=ei(d,s,o,n);if(go(d,f),a==="out-in"&&l.type!==vt)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},Ls(i);a==="in-out"&&l.type!==vt&&(f.delayLeave=(m,_,v)=>{let E=gc(o,d);E[String(d.key)]=d,m[vn]=()=>{_(),m[vn]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return i}}};function hc(e){let t=e[0];if(e.length>1){let n=!1;for(let o of e)if(o.type!==vt){t=o,n=!0;break}}return t}var mc=wg;function gc(e,t){let{leavingVNodes:n}=e,o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ei(e,t,n,o,r){let{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:m,onAfterLeave:_,onLeaveCancelled:v,onBeforeAppear:E,onAppear:O,onAfterAppear:D,onAppearCancelled:w}=t,C=String(e.key),I=gc(n,e),U=($,P)=>{$&&Tt($,o,9,P)},q=($,P)=>{let B=P[1];U($,P),he($)?$.every(N=>N.length<=1)&&B():$.length<=1&&B()},G={mode:s,persisted:a,beforeEnter($){let P=l;if(!n.isMounted)if(i)P=E||l;else return;$[vn]&&$[vn](!0);let B=I[C];B&&Fn(e,B)&&B.el[vn]&&B.el[vn](),U(P,[$])},enter($){let P=c,B=u,N=d;if(!n.isMounted)if(i)P=O||c,B=D||u,N=w||d;else return;let J=!1,S=$[Wr]=V=>{J||(J=!0,V?U(N,[$]):U(B,[$]),G.delayedLeave&&G.delayedLeave(),$[Wr]=void 0)};P?q(P,[$,S]):S()},leave($,P){let B=String(e.key);if($[Wr]&&$[Wr](!0),n.isUnmounting)return P();U(f,[$]);let N=!1,J=$[vn]=S=>{N||(N=!0,P(),S?U(v,[$]):U(_,[$]),$[vn]=void 0,I[B]===e&&delete I[B])};I[B]=e,m?q(m,[$,J]):J()},clone($){let P=ei($,t,n,o,r);return r&&r(P),P}};return G}function Ls(e){if(ri(e))return e=yn(e),e.children=null,e}function Ul(e){if(!ri(e))return cc(e.type)&&e.children?hc(e.children):e;let{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ve(n.default))return n.default()}}function go(e,t){e.shapeFlag&6&&e.component?(e.transition=t,go(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Xs(e,t=!1,n){let o=[],r=0;for(let i=0;i<e.length;i++){let s=e[i],a=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===xe?(s.patchFlag&128&&r++,o=o.concat(Xs(s.children,t,a))):(t||s.type!==vt)&&o.push(a!=null?yn(s,{key:a}):s)}if(r>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function me(e,t){return ve(e)?(()=>We({name:e.name},t,{setup:e}))():e}function vc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function zs(e,t,n,o,r=!1){if(he(e)){e.forEach((_,v)=>zs(_,t&&(he(t)?t[v]:t),n,o,r));return}if(ho(o)&&!r)return;let i=o.shapeFlag&4?ci(o.component):o.el,s=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Fe?a.refs={}:a.refs,d=a.setupState,f=Te(d),m=d===Fe?()=>!1:_=>Pe(f,_);if(c!=null&&c!==l&&(Ue(c)?(u[c]=null,m(c)&&(d[c]=null)):Ge(c)&&(c.value=null)),ve(l))Zo(l,a,12,[s,u]);else{let _=Ue(l),v=Ge(l);if(_||v){let E=()=>{if(e.f){let O=_?m(l)?d[l]:u[l]:l.value;r?he(O)&&Ao(O,i):he(O)?O.includes(i)||O.push(i):_?(u[l]=[i],m(l)&&(d[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else _?(u[l]=s,m(l)&&(d[l]=s)):v&&(l.value=s,e.k&&(u[e.k]=s))};s?(E.id=-1,bt(E,n)):E()}}}var dC=ro().requestIdleCallback||(e=>setTimeout(e,1)),fC=ro().cancelIdleCallback||(e=>clearTimeout(e));var ho=e=>!!e.type.__asyncLoader;var ri=e=>e.type.__isKeepAlive;function bg(e,t){_c(e,"a",t)}function Ng(e,t){_c(e,"da",t)}function _c(e,t,n=lt){let o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ii(t,o,n),n){let r=n.parent;for(;r&&r.parent;)ri(r.parent.vnode)&&xg(o,t,n,r),r=r.parent}}function xg(e,t,n,o){let r=ii(t,e,o,!0);_o(()=>{Ao(o[t],r)},n)}function ii(e,t,n=lt,o=!1){if(n){let r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{en();let a=Qo(n),l=Tt(t,n,e,s);return a(),tn(),l});return o?r.unshift(i):r.push(i),i}}var nn=e=>(t,n=lt)=>{(!Xo||e==="sp")&&ii(e,(...o)=>t(...o),n)},si=nn("bm"),nt=nn("m"),Sg=nn("bu"),yc=nn("u"),$n=nn("bum"),_o=nn("um"),Og=nn("sp"),Cg=nn("rtg"),kg=nn("rtc");function Tg(e,t=lt){ii("ec",e,t)}var Zs="components";function Jo(e,t){return bc(Zs,e,!0,t)||e}var Ec=Symbol.for("v-ndc");function wc(e){return Ue(e)?bc(Zs,e,!1)||e:e||Ec}function bc(e,t,n=!0,o=!1){let r=rt||lt;if(r){let i=r.type;if(e===Zs){let a=pv(i,!1);if(a&&(a===t||a===dt(t)||a===An(dt(t))))return i}let s=jl(r[e]||i[e],t)||jl(r.appContext[e],t);return!s&&o?i:s}}function jl(e,t){return e&&(e[t]||e[dt(t)]||e[An(dt(t))])}function Qe(e,t,n,o){let r,i=n&&n[o],s=he(e);if(s||Ue(e)){let a=s&&mn(e),l=!1;a&&(l=!wt(e),e=Bo(e)),r=new Array(e.length);for(let c=0,u=e.length;c<u;c++)r[c]=t(l?at(e[c]):e[c],c,void 0,i&&i[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i&&i[a])}else if(Le(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i&&i[l]));else{let a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){let u=a[l];r[l]=t(e[u],u,l,i&&i[l])}}else r=[];return n&&(n[o]=r),r}function it(e,t,n={},o,r){if(rt.ce||rt.parent&&ho(rt.parent)&&rt.parent.ce)return t!=="default"&&(n.name=t),z(),He(xe,null,[ce("slot",n,o&&o())],64);let i=e[t];i&&i._c&&(i._d=!1),z();let s=i&&Nc(i(n)),a=n.key||s&&s.key,l=He(xe,{key:(a&&!yt(a)?a:`_${t}`)+(!s&&o?"_fb":"")},s||(o?o():[]),s&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Nc(e){return e.some(t=>Ko(t)?!(t.type===vt||t.type===xe&&!Nc(t.children)):!0)?e:null}var Us=e=>e?qc(e)?ci(e):Us(e.parent):null,qo=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Us(e.parent),$root:e=>Us(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Qs(e),$forceUpdate:e=>e.f||(e.f=()=>{Ws(e.update)}),$nextTick:e=>e.n||(e.n=ct.bind(e.proxy)),$watch:e=>Xg.bind(e)});var Fs=(e,t)=>e!==Fe&&!e.__isScriptSetup&&Pe(e,t),Dg={get({_:e},t){if(t==="__v_skip")return!0;let{ctx:n,setupState:o,data:r,props:i,accessCache:s,type:a,appContext:l}=e,c;if(t[0]!=="$"){let m=s[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(Fs(o,t))return s[t]=1,o[t];if(r!==Fe&&Pe(r,t))return s[t]=2,r[t];if((c=e.propsOptions[0])&&Pe(c,t))return s[t]=3,i[t];if(n!==Fe&&Pe(n,t))return s[t]=4,n[t];js&&(s[t]=0)}}let u=qo[t],d,f;if(u)return t==="$attrs"&&st(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Fe&&Pe(n,t))return s[t]=4,n[t];if(f=l.config.globalProperties,Pe(f,t))return f[t]},set({_:e},t,n){let{data:o,setupState:r,ctx:i}=e;return Fs(r,t)?(r[t]=n,!0):o!==Fe&&Pe(o,t)?(o[t]=n,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:i}},s){let a;return!!n[s]||e!==Fe&&Pe(e,s)||Fs(t,s)||(a=i[0])&&Pe(a,s)||Pe(o,s)||Pe(qo,s)||Pe(r.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function xc(){return Oc().slots}function Sc(){return Oc().attrs}function Oc(){let e=on();return e.setupContext||(e.setupContext=Wc(e))}function Gl(e){return he(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Js(e,t){let n={};for(let o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}var js=!0;function Ig(e){let t=Qs(e),n=e.proxy,o=e.ctx;js=!1,t.beforeCreate&&ql(t.beforeCreate,e,"bc");let{data:r,computed:i,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:m,updated:_,activated:v,deactivated:E,beforeDestroy:O,beforeUnmount:D,destroyed:w,unmounted:C,render:I,renderTracked:U,renderTriggered:q,errorCaptured:G,serverPrefetch:$,expose:P,inheritAttrs:B,components:N,directives:J,filters:S}=t;if(c&&Ag(c,o,null),s)for(let F in s){let H=s[F];ve(H)&&(o[F]=H.bind(n))}if(r){let F=r.call(n,n);Le(F)&&(e.data=Vn(F))}if(js=!0,i)for(let F in i){let H=i[F],Y=ve(H)?H.bind(n,n):ve(H.get)?H.get.bind(n,n):Et,ee=!ve(H)&&ve(H.set)?H.set.bind(n):Et,te=ge({get:Y,set:ee});Object.defineProperty(o,F,{enumerable:!0,configurable:!0,get:()=>te.value,set:de=>te.value=de})}if(a)for(let F in a)Cc(a[F],o,n,F);if(l){let F=ve(l)?l.call(n):l;Reflect.ownKeys(F).forEach(H=>{En(H,F[H])})}u&&ql(u,e,"c");function k(F,H){he(H)?H.forEach(Y=>F(Y.bind(n))):H&&F(H.bind(n))}if(k(si,d),k(nt,f),k(Sg,m),k(yc,_),k(bg,v),k(Ng,E),k(Tg,G),k(kg,U),k(Cg,q),k($n,D),k(_o,C),k(Og,$),he(P))if(P.length){let F=e.exposed||(e.exposed={});P.forEach(H=>{Object.defineProperty(F,H,{get:()=>n[H],set:Y=>n[H]=Y})})}else e.exposed||(e.exposed={});I&&e.render===Et&&(e.render=I),B!=null&&(e.inheritAttrs=B),N&&(e.components=N),J&&(e.directives=J),$&&vc(e)}function Ag(e,t,n=Et){he(e)&&(e=Gs(e));for(let o in e){let r=e[o],i;Le(r)?"default"in r?i=Vt(r.from||o,r.default,!0):i=Vt(r.from||o):i=Vt(r),Ge(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[o]=i}}function ql(e,t,n){Tt(he(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Cc(e,t,n,o){let r=o.includes(".")?Bc(n,o):()=>n[o];if(Ue(e)){let i=t[e];ve(i)&&De(r,i)}else if(ve(e))De(r,e.bind(n));else if(Le(e))if(he(e))e.forEach(i=>Cc(i,t,n,o));else{let i=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(i)&&De(r,i,e)}}function Qs(e){let t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t),l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(c=>ti(l,c,s,!0)),ti(l,t,s)),Le(t)&&i.set(t,l),l}function ti(e,t,n,o=!1){let{mixins:r,extends:i}=t;i&&ti(e,i,n,!0),r&&r.forEach(s=>ti(e,s,n,!0));for(let s in t)if(!(o&&s==="expose")){let a=Mg[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}var Mg={data:Yl,props:Wl,emits:Wl,methods:jo,computed:jo,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:jo,directives:jo,watch:Vg,provide:Yl,inject:Pg};function Yl(e,t){return t?e?function(){return We(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function Pg(e,t){return jo(Gs(e),Gs(t))}function Gs(e){if(he(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function jo(e,t){return e?We(Object.create(null),e,t):t}function Wl(e,t){return e?he(e)&&he(t)?[...new Set([...e,...t])]:We(Object.create(null),Gl(e),Gl(t!=null?t:{})):t}function Vg(e,t){if(!e)return t;if(!t)return e;let n=We(Object.create(null),e);for(let o in t)n[o]=mt(e[o],t[o]);return n}function kc(){return{app:null,config:{isNativeTag:vl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var Rg=0;function Lg(e,t){return function(o,r=null){ve(o)||(o=We({},o)),r!=null&&!Le(r)&&(r=null);let i=kc(),s=new WeakSet,a=[],l=!1,c=i.app={_uid:Rg++,_component:o,_props:r,_container:null,_context:i,_instance:null,version:mv,get config(){return i.config},set config(u){},use(u,...d){return s.has(u)||(u&&ve(u.install)?(s.add(u),u.install(c,...d)):ve(u)&&(s.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){let m=c._ceVNode||ce(o,r);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(m,u):e(m,u,f),l=!0,c._container=u,u.__vue_app__=c,ci(m.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Tt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){let d=mo;mo=c;try{return u()}finally{mo=d}}};return c}}var mo=null;function En(e,t){if(lt){let n=lt.provides,o=lt.parent&&lt.parent.provides;o===n&&(n=lt.provides=Object.create(o)),n[e]=t}}function Vt(e,t,n=!1){let o=lt||rt;if(o||mo){let r=mo?mo._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ve(t)?t.call(o&&o.proxy):t}}var Tc={},Dc=()=>Object.create(Tc),Ic=e=>Object.getPrototypeOf(e)===Tc;function Fg(e,t,n,o=!1){let r={},i=Dc();e.propsDefaults=Object.create(null),Ac(e,t,r,i);for(let s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=o?r:Ps(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function $g(e,t,n,o){let{props:r,attrs:i,vnode:{patchFlag:s}}=e,a=Te(r),[l]=e.propsOptions,c=!1;if((o||s>0)&&!(s&16)){if(s&8){let u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ai(e.emitsOptions,f))continue;let m=t[f];if(l)if(Pe(i,f))m!==i[f]&&(i[f]=m,c=!0);else{let _=dt(f);r[_]=qs(l,a,_,m,e,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{Ac(e,t,r,i)&&(c=!0);let u;for(let d in a)(!t||!Pe(t,d)&&((u=Zt(d))===d||!Pe(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=qs(l,a,d,void 0,e,!0)):delete r[d]);if(i!==a)for(let d in i)(!t||!Pe(t,d)&&!0)&&(delete i[d],c=!0)}c&&Bt(e.attrs,"set","")}function Ac(e,t,n,o){let[r,i]=e.propsOptions,s=!1,a;if(t)for(let l in t){if(to(l))continue;let c=t[l],u;r&&Pe(r,u=dt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:ai(e.emitsOptions,l)||(!(l in o)||c!==o[l])&&(o[l]=c,s=!0)}if(i){let l=Te(n),c=a||Fe;for(let u=0;u<i.length;u++){let d=i[u];n[d]=qs(r,l,d,c[d],e,!Pe(c,d))}}return s}function qs(e,t,n,o,r,i){let s=e[n];if(s!=null){let a=Pe(s,"default");if(a&&o===void 0){let l=s.default;if(s.type!==Function&&!s.skipFactory&&ve(l)){let{propsDefaults:c}=r;if(n in c)o=c[n];else{let u=Qo(r);o=c[n]=l.call(null,t),u()}}else o=l;r.ce&&r.ce._setProp(n,o)}s[0]&&(i&&!a?o=!1:s[1]&&(o===""||o===Zt(n))&&(o=!0))}return o}var Hg=new WeakMap;function Mc(e,t,n=!1){let o=n?Hg:t.propsCache,r=o.get(e);if(r)return r;let i=e.props,s={},a=[],l=!1;if(!ve(e)){let u=d=>{l=!0;let[f,m]=Mc(d,t,!0);We(s,f),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Le(e)&&o.set(e,Dn),Dn;if(he(i))for(let u=0;u<i.length;u++){let d=dt(i[u]);Kl(d)&&(s[d]=Fe)}else if(i)for(let u in i){let d=dt(u);if(Kl(d)){let f=i[u],m=s[d]=he(f)||ve(f)?{type:f}:We({},f),_=m.type,v=!1,E=!0;if(he(_))for(let O=0;O<_.length;++O){let D=_[O],w=ve(D)&&D.name;if(w==="Boolean"){v=!0;break}else w==="String"&&(E=!1)}else v=ve(_)&&_.name==="Boolean";m[0]=v,m[1]=E,(v||Pe(m,"default"))&&a.push(d)}}let c=[s,a];return Le(e)&&o.set(e,c),c}function Kl(e){return e[0]!=="$"&&!to(e)}var Pc=e=>e[0]==="_"||e==="$stable",ea=e=>he(e)?e.map(qt):[qt(e)],Bg=(e,t,n)=>{if(t._n)return t;let o=je((...r)=>ea(t(...r)),n);return o._c=!1,o},Vc=(e,t,n)=>{let o=e._ctx;for(let r in e){if(Pc(r))continue;let i=e[r];if(ve(i))t[r]=Bg(r,i,o);else if(i!=null){let s=ea(i);t[r]=()=>s}}},Rc=(e,t)=>{let n=ea(t);e.slots.default=()=>n},Lc=(e,t,n)=>{for(let o in t)(n||o!=="_")&&(e[o]=t[o])},zg=(e,t,n)=>{let o=e.slots=Dc();if(e.vnode.shapeFlag&32){let r=t._;r?(Lc(o,t,n),n&&Pr(o,"_",r,!0)):Vc(t,o)}else t&&Rc(e,t)},Ug=(e,t,n)=>{let{vnode:o,slots:r}=e,i=!0,s=Fe;if(o.shapeFlag&32){let a=t._;a?n&&a===1?i=!1:Lc(r,t,n):(i=!t.$stable,Vc(t,r)),s=t}else t&&(Rc(e,t),s={default:1});if(i)for(let a in r)!Pc(a)&&s[a]==null&&delete r[a]};function jg(){let e=[];typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(ro().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}var bt=ov;function Fc(e){return Gg(e)}function Gg(e,t){jg();let n=ro();n.__VUE__=!0;let{insert:o,remove:r,patchProp:i,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:m=Et,insertStaticContent:_}=e,v=(p,h,g,y=null,b=null,T=null,x=void 0,M=null,L=!!h.dynamicChildren)=>{if(p===h)return;p&&!Fn(p,h)&&(y=Oe(p),Z(p,b,T,!0),p=null),h.patchFlag===-2&&(L=!1,h.dynamicChildren=null);let{type:R,ref:K,shapeFlag:j}=h;switch(R){case li:E(p,h,g,y);break;case vt:O(p,h,g,y);break;case Xr:p==null&&D(h,g,y,x);break;case xe:J(p,h,g,y,b,T,x,M,L);break;default:j&1?U(p,h,g,y,b,T,x,M,L):j&6?S(p,h,g,y,b,T,x,M,L):(j&64||j&128)&&R.process(p,h,g,y,b,T,x,M,L,se)}K!=null&&b&&zs(K,p&&p.ref,T,h||p,!h)},E=(p,h,g,y)=>{if(p==null)o(h.el=a(h.children),g,y);else{let b=h.el=p.el;h.children!==p.children&&c(b,h.children)}},O=(p,h,g,y)=>{p==null?o(h.el=l(h.children||""),g,y):h.el=p.el},D=(p,h,g,y)=>{[p.el,p.anchor]=_(p.children,h,g,y,p.el,p.anchor)},w=(p,h,g,y)=>{if(h.children!==p.children){let b=f(p.anchor);I(p),[h.el,h.anchor]=_(h.children,g,b,y)}else h.el=p.el,h.anchor=p.anchor},C=({el:p,anchor:h},g,y)=>{let b;for(;p&&p!==h;)b=f(p),o(p,g,y),p=b;o(h,g,y)},I=({el:p,anchor:h})=>{let g;for(;p&&p!==h;)g=f(p),r(p),p=g;r(h)},U=(p,h,g,y,b,T,x,M,L)=>{h.type==="svg"?x="svg":h.type==="math"&&(x="mathml"),p==null?q(h,g,y,b,T,x,M,L):P(p,h,b,T,x,M,L)},q=(p,h,g,y,b,T,x,M)=>{let L,R,{props:K,shapeFlag:j,transition:re,dirs:pe}=p;if(L=p.el=s(p.type,T,K&&K.is,K),j&8?u(L,p.children):j&16&&$(p.children,L,null,y,b,$s(p,T),x,M),pe&&Rn(p,null,y,"created"),G(L,p,p.scopeId,x,y),K){for(let Me in K)Me!=="value"&&!to(Me)&&i(L,Me,null,K[Me],T,y);"value"in K&&i(L,"value",null,K.value,T),(R=K.onVnodeBeforeMount)&&jt(R,y,p)}pe&&Rn(p,null,y,"beforeMount");let Se=qg(b,re);Se&&re.beforeEnter(L),o(L,h,g),((R=K&&K.onVnodeMounted)||Se||pe)&&bt(()=>{R&&jt(R,y,p),Se&&re.enter(L),pe&&Rn(p,null,y,"mounted")},b)},G=(p,h,g,y,b)=>{if(g&&m(p,g),y)for(let T=0;T<y.length;T++)m(p,y[T]);if(b){let T=b.subTree;if(h===T||Uc(T.type)&&(T.ssContent===h||T.ssFallback===h)){let x=b.vnode;G(p,x,x.scopeId,x.slotScopeIds,b.parent)}}},$=(p,h,g,y,b,T,x,M,L=0)=>{for(let R=L;R<p.length;R++){let K=p[R]=M?_n(p[R]):qt(p[R]);v(null,K,h,g,y,b,T,x,M)}},P=(p,h,g,y,b,T,x)=>{let M=h.el=p.el,{patchFlag:L,dynamicChildren:R,dirs:K}=h;L|=p.patchFlag&16;let j=p.props||Fe,re=h.props||Fe,pe;if(g&&Ln(g,!1),(pe=re.onVnodeBeforeUpdate)&&jt(pe,g,h,p),K&&Rn(h,p,g,"beforeUpdate"),g&&Ln(g,!0),(j.innerHTML&&re.innerHTML==null||j.textContent&&re.textContent==null)&&u(M,""),R?B(p.dynamicChildren,R,M,g,y,$s(h,b),T):x||Y(p,h,M,null,g,y,$s(h,b),T,!1),L>0){if(L&16)N(M,j,re,g,b);else if(L&2&&j.class!==re.class&&i(M,"class",null,re.class,b),L&4&&i(M,"style",j.style,re.style,b),L&8){let Se=h.dynamicProps;for(let Me=0;Me<Se.length;Me++){let Re=Se[Me],ft=j[Re],ot=re[Re];(ot!==ft||Re==="value")&&i(M,Re,ft,ot,b,g)}}L&1&&p.children!==h.children&&u(M,h.children)}else!x&&R==null&&N(M,j,re,g,b);((pe=re.onVnodeUpdated)||K)&&bt(()=>{pe&&jt(pe,g,h,p),K&&Rn(h,p,g,"updated")},y)},B=(p,h,g,y,b,T,x)=>{for(let M=0;M<h.length;M++){let L=p[M],R=h[M],K=L.el&&(L.type===xe||!Fn(L,R)||L.shapeFlag&70)?d(L.el):g;v(L,R,K,null,y,b,T,x,!0)}},N=(p,h,g,y,b)=>{if(h!==g){if(h!==Fe)for(let T in h)!to(T)&&!(T in g)&&i(p,T,h[T],null,b,y);for(let T in g){if(to(T))continue;let x=g[T],M=h[T];x!==M&&T!=="value"&&i(p,T,M,x,b,y)}"value"in g&&i(p,"value",h.value,g.value,b)}},J=(p,h,g,y,b,T,x,M,L)=>{let R=h.el=p?p.el:a(""),K=h.anchor=p?p.anchor:a(""),{patchFlag:j,dynamicChildren:re,slotScopeIds:pe}=h;pe&&(M=M?M.concat(pe):pe),p==null?(o(R,g,y),o(K,g,y),$(h.children||[],g,K,b,T,x,M,L)):j>0&&j&64&&re&&p.dynamicChildren?(B(p.dynamicChildren,re,g,b,T,x,M),(h.key!=null||b&&h===b.subTree)&&ta(p,h,!0)):Y(p,h,g,K,b,T,x,M,L)},S=(p,h,g,y,b,T,x,M,L)=>{h.slotScopeIds=M,p==null?h.shapeFlag&512?b.ctx.activate(h,g,y,x,L):V(h,g,y,b,T,x,L):k(p,h,L)},V=(p,h,g,y,b,T,x)=>{let M=p.component=cv(p,y,b);if(ri(p)&&(M.ctx.renderer=se),uv(M,!1,x),M.asyncDep){if(b&&b.registerDep(M,F,x),!p.el){let L=M.subTree=ce(vt);O(null,L,h,g)}}else F(M,p,h,g,b,T,x)},k=(p,h,g)=>{let y=h.component=p.component;if(tv(p,h,g))if(y.asyncDep&&!y.asyncResolved){H(y,h,g);return}else y.next=h,y.update();else h.el=p.el,y.vnode=h},F=(p,h,g,y,b,T,x)=>{let M=()=>{if(p.isMounted){let{next:j,bu:re,u:pe,parent:Se,vnode:Me}=p;{let St=$c(p);if(St){j&&(j.el=Me.el,H(p,j,x)),St.asyncDep.then(()=>{p.isUnmounted||M()});return}}let Re=j,ft;Ln(p,!1),j?(j.el=Me.el,H(p,j,x)):j=Me,re&&no(re),(ft=j.props&&j.props.onVnodeBeforeUpdate)&&jt(ft,Se,j,Me),Ln(p,!0);let ot=Hs(p),At=p.subTree;p.subTree=ot,v(At,ot,d(At.el),Oe(At),p,b,T),j.el=ot.el,Re===null&&nv(p,ot.el),pe&&bt(pe,b),(ft=j.props&&j.props.onVnodeUpdated)&&bt(()=>jt(ft,Se,j,Me),b)}else{let j,{el:re,props:pe}=h,{bm:Se,m:Me,parent:Re,root:ft,type:ot}=p,At=ho(h);if(Ln(p,!1),Se&&no(Se),!At&&(j=pe&&pe.onVnodeBeforeMount)&&jt(j,Re,h),Ln(p,!0),re&&we){let St=()=>{p.subTree=Hs(p),we(re,p.subTree,p,b,null)};At&&ot.__asyncHydrate?ot.__asyncHydrate(re,p,St):St()}else{ft.ce&&ft.ce._injectChildStyle(ot);let St=p.subTree=Hs(p);v(null,St,g,y,p,b,T),h.el=St.el}if(Me&&bt(Me,b),!At&&(j=pe&&pe.onVnodeMounted)){let St=h;bt(()=>jt(j,Re,St),b)}(h.shapeFlag&256||Re&&ho(Re.vnode)&&Re.vnode.shapeFlag&256)&&p.a&&bt(p.a,b),p.isMounted=!0,h=g=y=null}};p.scope.on();let L=p.effect=new lo(M);p.scope.off();let R=p.update=L.run.bind(L),K=p.job=L.runIfDirty.bind(L);K.i=p,K.id=p.uid,L.scheduler=()=>Ws(K),Ln(p,!0),R()},H=(p,h,g)=>{h.component=p;let y=p.vnode.props;p.vnode=h,p.next=null,$g(p,h.props,y,g),Ug(p,h.children,g),en(),Hl(p),tn()},Y=(p,h,g,y,b,T,x,M,L=!1)=>{let R=p&&p.children,K=p?p.shapeFlag:0,j=h.children,{patchFlag:re,shapeFlag:pe}=h;if(re>0){if(re&128){te(R,j,g,y,b,T,x,M,L);return}else if(re&256){ee(R,j,g,y,b,T,x,M,L);return}}pe&8?(K&16&&Ee(R,b,T),j!==R&&u(g,j)):K&16?pe&16?te(R,j,g,y,b,T,x,M,L):Ee(R,b,T,!0):(K&8&&u(g,""),pe&16&&$(j,g,y,b,T,x,M,L))},ee=(p,h,g,y,b,T,x,M,L)=>{p=p||Dn,h=h||Dn;let R=p.length,K=h.length,j=Math.min(R,K),re;for(re=0;re<j;re++){let pe=h[re]=L?_n(h[re]):qt(h[re]);v(p[re],pe,g,null,b,T,x,M,L)}R>K?Ee(p,b,T,!0,!1,j):$(h,g,y,b,T,x,M,L,j)},te=(p,h,g,y,b,T,x,M,L)=>{let R=0,K=h.length,j=p.length-1,re=K-1;for(;R<=j&&R<=re;){let pe=p[R],Se=h[R]=L?_n(h[R]):qt(h[R]);if(Fn(pe,Se))v(pe,Se,g,null,b,T,x,M,L);else break;R++}for(;R<=j&&R<=re;){let pe=p[j],Se=h[re]=L?_n(h[re]):qt(h[re]);if(Fn(pe,Se))v(pe,Se,g,null,b,T,x,M,L);else break;j--,re--}if(R>j){if(R<=re){let pe=re+1,Se=pe<K?h[pe].el:y;for(;R<=re;)v(null,h[R]=L?_n(h[R]):qt(h[R]),g,Se,b,T,x,M,L),R++}}else if(R>re)for(;R<=j;)Z(p[R],b,T,!0),R++;else{let pe=R,Se=R,Me=new Map;for(R=Se;R<=re;R++){let Ot=h[R]=L?_n(h[R]):qt(h[R]);Ot.key!=null&&Me.set(Ot.key,R)}let Re,ft=0,ot=re-Se+1,At=!1,St=0,To=new Array(ot);for(R=0;R<ot;R++)To[R]=0;for(R=pe;R<=j;R++){let Ot=p[R];if(ft>=ot){Z(Ot,b,T,!0);continue}let Ht;if(Ot.key!=null)Ht=Me.get(Ot.key);else for(Re=Se;Re<=re;Re++)if(To[Re-Se]===0&&Fn(Ot,h[Re])){Ht=Re;break}Ht===void 0?Z(Ot,b,T,!0):(To[Ht-Se]=R+1,Ht>=St?St=Ht:At=!0,v(Ot,h[Ht],g,null,b,T,x,M,L),ft++)}let dl=At?Yg(To):Dn;for(Re=dl.length-1,R=ot-1;R>=0;R--){let Ot=Se+R,Ht=h[Ot],fl=Ot+1<K?h[Ot+1].el:y;To[R]===0?v(null,Ht,g,fl,b,T,x,M,L):At&&(Re<0||R!==dl[Re]?de(Ht,g,fl,2):Re--)}}},de=(p,h,g,y,b=null)=>{let{el:T,type:x,transition:M,children:L,shapeFlag:R}=p;if(R&6){de(p.component.subTree,h,g,y);return}if(R&128){p.suspense.move(h,g,y);return}if(R&64){x.move(p,h,g,se);return}if(x===xe){o(T,h,g);for(let j=0;j<L.length;j++)de(L[j],h,g,y);o(p.anchor,h,g);return}if(x===Xr){C(p,h,g);return}if(y!==2&&R&1&&M)if(y===0)M.beforeEnter(T),o(T,h,g),bt(()=>M.enter(T),b);else{let{leave:j,delayLeave:re,afterLeave:pe}=M,Se=()=>o(T,h,g),Me=()=>{j(T,()=>{Se(),pe&&pe()})};re?re(T,Se,Me):Me()}else o(T,h,g)},Z=(p,h,g,y=!1,b=!1)=>{let{type:T,props:x,ref:M,children:L,dynamicChildren:R,shapeFlag:K,patchFlag:j,dirs:re,cacheIndex:pe}=p;if(j===-2&&(b=!1),M!=null&&zs(M,null,g,p,!0),pe!=null&&(h.renderCache[pe]=void 0),K&256){h.ctx.deactivate(p);return}let Se=K&1&&re,Me=!ho(p),Re;if(Me&&(Re=x&&x.onVnodeBeforeUnmount)&&jt(Re,h,p),K&6)ke(p.component,g,y);else{if(K&128){p.suspense.unmount(g,y);return}Se&&Rn(p,null,h,"beforeUnmount"),K&64?p.type.remove(p,h,g,se,y):R&&!R.hasOnce&&(T!==xe||j>0&&j&64)?Ee(R,h,g,!1,!0):(T===xe&&j&384||!b&&K&16)&&Ee(L,h,g),y&&Q(p)}(Me&&(Re=x&&x.onVnodeUnmounted)||Se)&&bt(()=>{Re&&jt(Re,h,p),Se&&Rn(p,null,h,"unmounted")},g)},Q=p=>{let{type:h,el:g,anchor:y,transition:b}=p;if(h===xe){ue(g,y);return}if(h===Xr){I(p);return}let T=()=>{r(g),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(p.shapeFlag&1&&b&&!b.persisted){let{leave:x,delayLeave:M}=b,L=()=>x(g,T);M?M(p.el,T,L):L()}else T()},ue=(p,h)=>{let g;for(;p!==h;)g=f(p),r(p),p=g;r(h)},ke=(p,h,g)=>{let{bum:y,scope:b,job:T,subTree:x,um:M,m:L,a:R}=p;Xl(L),Xl(R),y&&no(y),b.stop(),T&&(T.flags|=8,Z(x,p,h,g)),M&&bt(M,h),bt(()=>{p.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Ee=(p,h,g,y=!1,b=!1,T=0)=>{for(let x=T;x<p.length;x++)Z(p[x],h,g,y,b)},Oe=p=>{if(p.shapeFlag&6)return Oe(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();let h=f(p.anchor||p.el),g=h&&h[lc];return g?f(g):h},_e=!1,be=(p,h,g)=>{p==null?h._vnode&&Z(h._vnode,null,null,!0):v(h._vnode||null,p,h,null,null,null,g),h._vnode=p,_e||(_e=!0,Hl(),ic(),_e=!1)},se={p:v,um:Z,m:de,r:Q,mt:V,mc:$,pc:Y,pbc:B,n:Oe,o:e},fe,we;return t&&([fe,we]=t(se)),{render:be,hydrate:fe,createApp:Lg(be,fe)}}function $s({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ln({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function qg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ta(e,t,n=!1){let o=e.children,r=t.children;if(he(o)&&he(r))for(let i=0;i<o.length;i++){let s=o[i],a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=_n(r[i]),a.el=s.el),!n&&a.patchFlag!==-2&&ta(s,a)),a.type===li&&(a.el=s.el)}}function Yg(e){let t=e.slice(),n=[0],o,r,i,s,a,l=e.length;for(o=0;o<l;o++){let c=e[o];if(c!==0){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}function $c(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$c(t)}function Xl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}var Wg=Symbol.for("v-scx"),Kg=()=>{{let e=Vt(Wg);return e}};function De(e,t,n){return Hc(e,t,n)}function Hc(e,t,n=Fe){let{immediate:o,deep:r,flush:i,once:s}=n,a=We({},n),l=t&&o||!t&&i!=="post",c;if(Xo){if(i==="sync"){let m=Kg();c=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){let m=()=>{};return m.stop=Et,m.resume=Et,m.pause=Et,m}}let u=lt;a.call=(m,_,v)=>Tt(m,u,_,v);let d=!1;i==="post"?a.scheduler=m=>{bt(m,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(m,_)=>{_?m():Ws(m)}),a.augmentJob=m=>{t&&(m.flags|=4),d&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};let f=$l(e,t,a);return Xo&&(c?c.push(f):l&&f()),f}function Xg(e,t,n){let o=this.proxy,r=Ue(e)?e.includes(".")?Bc(o,e):()=>o[e]:e.bind(o,o),i;ve(t)?i=t:(i=t.handler,n=t);let s=Qo(this),a=Hc(r,i.bind(o),n);return s(),a}function Bc(e,t){let n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}var Zg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dt(t)}Modifiers`]||e[`${Zt(t)}Modifiers`];function Jg(e,t,...n){if(e.isUnmounted)return;let o=e.vnode.props||Fe,r=n,i=t.startsWith("update:"),s=i&&Zg(o,t.slice(7));s&&(s.trim&&(r=n.map(u=>Ue(u)?u.trim():u)),s.number&&(r=n.map(oo)));let a,l=o[a=Po(t)]||o[a=Po(dt(t))];!l&&i&&(l=o[a=Po(Zt(t))]),l&&Tt(l,e,6,r);let c=o[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Tt(c,e,6,r)}}function zc(e,t,n=!1){let o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;let i=e.emits,s={},a=!1;if(!ve(e)){let l=c=>{let u=zc(c,t,!0);u&&(a=!0,We(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Le(e)&&o.set(e,null),null):(he(i)?i.forEach(l=>s[l]=null):We(s,i),Le(e)&&o.set(e,s),s)}function ai(e,t){return!e||!eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Zt(t))||Pe(e,t))}function Hs(e){let{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[i],slots:s,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:m,ctx:_,inheritAttrs:v}=e,E=Qr(e),O,D;try{if(n.shapeFlag&4){let I=r||o,U=I;O=qt(c.call(U,I,u,d,m,f,_)),D=a}else{let I=t;O=qt(I.length>1?I(d,{attrs:a,slots:s,emit:l}):I(d,null)),D=t.props?a:Qg(a)}}catch(I){Yo.length=0,oi(I,e,1),O=ce(vt)}let w=O,C;if(D&&v!==!1){let I=Object.keys(D),{shapeFlag:U}=w;I.length&&U&7&&(i&&I.some(Io)&&(D=ev(D,i)),w=yn(w,D,!1,!0))}return n.dirs&&(w=yn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&go(w,n.transition),O=w,Qr(E),O}var Qg=e=>{let t;for(let n in e)(n==="class"||n==="style"||eo(n))&&((t||(t={}))[n]=e[n]);return t},ev=(e,t)=>{let n={};for(let o in e)(!Io(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function tv(e,t,n){let{props:o,children:r,component:i}=e,{props:s,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?Zl(o,s,c):!!s;if(l&8){let u=t.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(s[f]!==o[f]&&!ai(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?Zl(o,s,c):!0:!!s;return!1}function Zl(e,t,n){let o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){let i=o[r];if(t[i]!==e[i]&&!ai(n,i))return!0}return!1}function nv({vnode:e,parent:t},n){for(;t;){let o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}var Uc=e=>e.__isSuspense;function ov(e,t){t&&t.pendingBranch?he(e)?t.effects.push(...e):t.effects.push(e):vg(e)}var xe=Symbol.for("v-fgt"),li=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),Xr=Symbol.for("v-stc"),Yo=[],_t=null;function z(e=!1){Yo.push(_t=e?null:[])}function rv(){Yo.pop(),_t=Yo[Yo.length-1]||null}var vo=1;function Jl(e){vo+=e,e<0&&_t&&(_t.hasOnce=!0)}function jc(e){return e.dynamicChildren=vo>0?_t||Dn:null,rv(),vo>0&&_t&&_t.push(e),e}function X(e,t,n,o,r,i){return jc(A(e,t,n,o,r,i,!0))}function He(e,t,n,o,r){return jc(ce(e,t,n,o,r,!0))}function Ko(e){return e?e.__v_isVNode===!0:!1}function Fn(e,t){return e.type===t.type&&e.key===t.key}var Gc=({key:e})=>e!=null?e:null,Zr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||Ge(e)||ve(e)?{i:rt,r:e,k:t,f:!!n}:e:null);function A(e,t=null,n=null,o=0,r=null,i=e===xe?0:1,s=!1,a=!1){let l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gc(t),ref:t&&Zr(t),scopeId:ac,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:rt};return a?(na(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Ue(n)?8:16),vo>0&&!s&&_t&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&_t.push(l),l}var ce=iv;function iv(e,t=null,n=null,o=0,r=null,i=!1){if((!e||e===Ec)&&(e=vt),Ko(e)){let a=yn(e,t,!0);return n&&na(a,n),vo>0&&!i&&_t&&(a.shapeFlag&6?_t[_t.indexOf(e)]=a:_t.push(a)),a.patchFlag=-2,a}if(hv(e)&&(e=e.__vccOpts),t){t=sv(t);let{class:a,style:l}=t;a&&!Ue(a)&&(t.class=Be(a)),Le(l)&&(Uo(l)&&!he(l)&&(l=We({},l)),t.style=Ke(l))}let s=Ue(e)?1:Uc(e)?128:cc(e)?64:Le(e)?4:ve(e)?2:0;return A(e,t,n,o,r,s,i,!0)}function sv(e){return e?Uo(e)||Ic(e)?We({},e):e:null}function yn(e,t,n=!1,o=!1){let{props:r,ref:i,patchFlag:s,children:a,transition:l}=e,c=t?oa(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Gc(c),ref:t&&t.ref?n&&i?he(i)?i.concat(Zr(t)):[i,Zr(t)]:Zr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yn(e.ssContent),ssFallback:e.ssFallback&&yn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&go(u,l.clone(u)),u}function ut(e=" ",t=0){return ce(li,null,e,t)}function le(e="",t=!1){return t?(z(),He(vt,null,e)):ce(vt,null,e)}function qt(e){return e==null||typeof e=="boolean"?ce(vt):he(e)?ce(xe,null,e.slice()):Ko(e)?_n(e):ce(li,null,String(e))}function _n(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yn(e)}function na(e,t){let n=0,{shapeFlag:o}=e;if(t==null)t=null;else if(he(t))n=16;else if(typeof t=="object")if(o&65){let r=t.default;r&&(r._c&&(r._d=!1),na(e,r()),r._c&&(r._d=!0));return}else{n=32;let r=t._;!r&&!Ic(t)?t._ctx=rt:r===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:rt},n=32):(t=String(t),o&64?(n=16,t=[ut(t)]):n=8);e.children=t,e.shapeFlag|=n}function oa(...e){let t={};for(let n=0;n<e.length;n++){let o=e[n];for(let r in o)if(r==="class")t.class!==o.class&&(t.class=Be([t.class,o.class]));else if(r==="style")t.style=Ke([t.style,o.style]);else if(eo(r)){let i=t[r],s=o[r];s&&i!==s&&!(he(i)&&i.includes(s))&&(t[r]=i?[].concat(i,s):s)}else r!==""&&(t[r]=o[r])}return t}function jt(e,t,n,o=null){Tt(e,t,7,[n,o])}var av=kc(),lv=0;function cv(e,t,n){let o=e.type,r=(t?t.appContext:e.appContext)||av,i={uid:lv++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ao(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mc(o,r),emitsOptions:zc(o,r),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:o.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Jg.bind(null,i),e.ce&&e.ce(i),i}var lt=null,on=()=>lt||rt,ni,Ys;{let e=ro(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),i=>{r.length>1?r.forEach(s=>s(i)):r[0](i)}};ni=t("__VUE_INSTANCE_SETTERS__",n=>lt=n),Ys=t("__VUE_SSR_SETTERS__",n=>Xo=n)}var Qo=e=>{let t=lt;return ni(e),e.scope.on(),()=>{e.scope.off(),ni(t)}},Ql=()=>{lt&&lt.scope.off(),ni(null)};function qc(e){return e.vnode.shapeFlag&4}var Xo=!1;function uv(e,t=!1,n=!1){t&&Ys(t);let{props:o,children:r}=e.vnode,i=qc(e);Fg(e,o,i,t),zg(e,r,n);let s=i?dv(e,t):void 0;return t&&Ys(!1),s}function dv(e,t){var n;let o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Dg);let{setup:r}=o;if(r){en();let i=e.setupContext=r.length>1?Wc(e):null,s=Qo(e),a=Zo(r,e,0,[e.props,i]),l=ps(a);if(tn(),s(),(l||e.sp)&&!ho(e)&&vc(e),l){if(a.then(Ql,Ql),t)return a.then(c=>{ec(e,c,t)}).catch(c=>{oi(c,e,0)});e.asyncDep=a}else ec(e,a,t)}else Yc(e,t)}function ec(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Gr(t)),Yc(e,n)}var tc,nc;function Yc(e,t,n){let o=e.type;if(!e.render){if(!t&&tc&&!o.render){let r=o.template||Qs(e).template;if(r){let{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=o,c=We(We({isCustomElement:i,delimiters:a},s),l);o.render=tc(r,c)}}e.render=o.render||Et,nc&&nc(e)}{let r=Qo(e);en();try{Ig(e)}finally{tn(),r()}}}var fv={get(e,t){return st(e,"get",""),e[t]}};function Wc(e){let t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,fv),slots:e.slots,emit:e.emit,expose:t}}function ci(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gr(Ut(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qo)return qo[n](e)},has(t,n){return n in t||n in qo}})):e.proxy}function pv(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function hv(e){return ve(e)&&"__vccOpts"in e}var ge=(e,t)=>Ll(e,t,Xo);function Ie(e,t,n){let o=arguments.length;return o===2?Le(t)&&!he(t)?Ko(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Ko(n)&&(n=[n]),ce(e,t,n))}function Kc(e,t){let n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(Mt(n[o],t[o]))return!1;return vo>0&&_t&&_t.push(e),!0}var mv="3.5.12";var aa,Xc=typeof window!="undefined"&&window.trustedTypes;if(Xc)try{aa=Xc.createPolicy("vue",{createHTML:e=>e})}catch(e){}var mu=aa?e=>aa.createHTML(e):e=>e,gv="http://www.w3.org/2000/svg",vv="http://www.w3.org/1998/Math/MathML",rn=typeof document!="undefined"?document:null,Zc=rn&&rn.createElement("template"),_v={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{let r=t==="svg"?rn.createElementNS(gv,e):t==="mathml"?rn.createElementNS(vv,e):n?rn.createElement(e,{is:n}):rn.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>rn.createTextNode(e),createComment:e=>rn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,i){let s=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Zc.innerHTML=mu(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);let a=Zc.content;if(o==="svg"||o==="mathml"){let l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wn="transition",er="animation",nr=Symbol("_vtc"),gu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yv=We({},Ks,gu),Ev=e=>(e.displayName="Transition",e.props=yv,e),vu=Ev((e,{slots:t})=>Ie(mc,wv(e),t)),Hn=(e,t=[])=>{he(e)?e.forEach(n=>n(...t)):e&&e(...t)},Jc=e=>e?he(e)?e.some(t=>t.length>1):e.length>1:!1;function wv(e){let t={};for(let N in e)N in gu||(t[N]=e[N]);if(e.css===!1)return t;let{name:n="v",type:o,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,_=bv(r),v=_&&_[0],E=_&&_[1],{onBeforeEnter:O,onEnter:D,onEnterCancelled:w,onLeave:C,onLeaveCancelled:I,onBeforeAppear:U=O,onAppear:q=D,onAppearCancelled:G=w}=t,$=(N,J,S)=>{Bn(N,J?u:a),Bn(N,J?c:s),S&&S()},P=(N,J)=>{N._isLeaving=!1,Bn(N,d),Bn(N,m),Bn(N,f),J&&J()},B=N=>(J,S)=>{let V=N?q:D,k=()=>$(J,N,S);Hn(V,[J,k]),Qc(()=>{Bn(J,N?l:i),bn(J,N?u:a),Jc(V)||eu(J,o,v,k)})};return We(t,{onBeforeEnter(N){Hn(O,[N]),bn(N,i),bn(N,s)},onBeforeAppear(N){Hn(U,[N]),bn(N,l),bn(N,c)},onEnter:B(!1),onAppear:B(!0),onLeave(N,J){N._isLeaving=!0;let S=()=>P(N,J);bn(N,d),bn(N,f),Sv(),Qc(()=>{!N._isLeaving||(Bn(N,d),bn(N,m),Jc(C)||eu(N,o,E,S))}),Hn(C,[N,S])},onEnterCancelled(N){$(N,!1),Hn(w,[N])},onAppearCancelled(N){$(N,!0),Hn(G,[N])},onLeaveCancelled(N){P(N),Hn(I,[N])}})}function bv(e){if(e==null)return null;if(Le(e))return[ra(e.enter),ra(e.leave)];{let t=ra(e);return[t,t]}}function ra(e){return ms(e)}function bn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[nr]||(e[nr]=new Set)).add(t)}function Bn(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));let n=e[nr];n&&(n.delete(t),n.size||(e[nr]=void 0))}function Qc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}var Nv=0;function eu(e,t,n,o){let r=e._endId=++Nv,i=()=>{r===e._endId&&o()};if(n!=null)return setTimeout(i,n);let{type:s,timeout:a,propCount:l}=xv(e,t);if(!s)return o();let c=s+"end",u=0,d=()=>{e.removeEventListener(c,f),i()},f=m=>{m.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,f)}function xv(e,t){let n=window.getComputedStyle(e),o=_=>(n[_]||"").split(", "),r=o(`${wn}Delay`),i=o(`${wn}Duration`),s=tu(r,i),a=o(`${er}Delay`),l=o(`${er}Duration`),c=tu(a,l),u=null,d=0,f=0;t===wn?s>0&&(u=wn,d=s,f=i.length):t===er?c>0&&(u=er,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?wn:er:null,f=u?u===wn?i.length:l.length:0);let m=u===wn&&/\b(transform|all)(,|$)/.test(o(`${wn}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:m}}function tu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>nu(n)+nu(e[o])))}function nu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Sv(){return document.body.offsetHeight}function Ov(e,t,n){let o=e[nr];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}var di=Symbol("_vod"),_u=Symbol("_vsh"),an={beforeMount(e,{value:t},{transition:n}){e[di]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):tr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),tr(e,!0),o.enter(e)):o.leave(e,()=>{tr(e,!1)}):tr(e,t))},beforeUnmount(e,{value:t}){tr(e,t)}};function tr(e,t){e.style.display=t?e[di]:"none",e[_u]=!t}var Cv=Symbol("");var kv=/(^|;)\s*display\s*:/;function Tv(e,t,n){let o=e.style,r=Ue(n),i=!1;if(n&&!r){if(t)if(Ue(t))for(let s of t.split(";")){let a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&ui(o,a,"")}else for(let s in t)n[s]==null&&ui(o,s,"");for(let s in n)s==="display"&&(i=!0),ui(o,s,n[s])}else if(r){if(t!==n){let s=o[Cv];s&&(n+=";"+s),o.cssText=n,i=kv.test(n)}}else t&&e.removeAttribute("style");di in e&&(e[di]=i?o.display:"",e[_u]&&(o.display="none"))}var ou=/\s*!important$/;function ui(e,t,n){if(he(n))n.forEach(o=>ui(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{let o=Dv(e,t);ou.test(n)?e.setProperty(Zt(o),n.replace(ou,""),"important"):e[o]=n}}var ru=["Webkit","Moz","ms"],ia={};function Dv(e,t){let n=ia[t];if(n)return n;let o=dt(t);if(o!=="filter"&&o in e)return ia[t]=o;o=An(o);for(let r=0;r<ru.length;r++){let i=ru[r]+o;if(i in e)return ia[t]=i}return t}var iu="http://www.w3.org/1999/xlink";function su(e,t,n,o,r,i=El(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(iu,t.slice(6,t.length)):e.setAttributeNS(iu,t,n):n==null||i&&!Vr(n)?e.removeAttribute(t):e.setAttribute(t,i?"":yt(n)?String(n):n)}function au(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?mu(n):n);return}let i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){let a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){let a=typeof e[t];a==="boolean"?n=Vr(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch(a){}s&&e.removeAttribute(r||t)}function Nn(e,t,n,o){e.addEventListener(t,n,o)}function Iv(e,t,n,o){e.removeEventListener(t,n,o)}var lu=Symbol("_vei");function Av(e,t,n,o,r=null){let i=e[lu]||(e[lu]={}),s=i[t];if(o&&s)s.value=o;else{let[a,l]=Mv(t);if(o){let c=i[t]=Rv(o,r);Nn(e,a,c,l)}else s&&(Iv(e,a,s,l),i[t]=void 0)}}var cu=/(?:Once|Passive|Capture)$/;function Mv(e){let t;if(cu.test(e)){t={};let o;for(;o=e.match(cu);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}var sa=0,Pv=Promise.resolve(),Vv=()=>sa||(Pv.then(()=>sa=0),sa=Date.now());function Rv(e,t){let n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Tt(Lv(o,n.value),t,5,[o])};return n.value=e,n.attached=Vv(),n}function Lv(e,t){if(he(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}var uu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Fv=(e,t,n,o,r,i)=>{let s=r==="svg";t==="class"?Ov(e,o,s):t==="style"?Tv(e,n,o):eo(t)?Io(t)||Av(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):$v(e,t,o,s))?(au(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&su(e,t,o,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(o))?au(e,dt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),su(e,t,o,s))};function $v(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&uu(t)&&ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){let r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return uu(t)&&Ue(n)?!1:t in e}var CC=Symbol("_moveCb"),kC=Symbol("_enterCb");var yo=e=>{let t=e.props["onUpdate:modelValue"]||!1;return he(t)?n=>no(t,n):t};function Hv(e){e.target.composing=!0}function du(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var sn=Symbol("_assign"),yu={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[sn]=yo(r);let i=o||r.props&&r.props.type==="number";Nn(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=oo(a)),e[sn](a)}),n&&Nn(e,"change",()=>{e.value=e.value.trim()}),t||(Nn(e,"compositionstart",Hv),Nn(e,"compositionend",du),Nn(e,"change",du))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:i}},s){if(e[sn]=yo(s),e.composing)return;let a=(i||e.type==="number")&&!/^0\d/.test(e.value)?oo(e.value):e.value,l=t==null?"":t;a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Rt={deep:!0,created(e,t,n){e[sn]=yo(n),Nn(e,"change",()=>{let o=e._modelValue,r=or(e),i=e.checked,s=e[sn];if(he(o)){let a=Rr(o,r),l=a!==-1;if(i&&!l)s(o.concat(r));else if(!i&&l){let c=[...o];c.splice(a,1),s(c)}}else if(hn(o)){let a=new Set(o);i?a.add(r):a.delete(r),s(a)}else s(Eu(e,i))})},mounted:fu,beforeUpdate(e,t,n){e[sn]=yo(n),fu(e,t,n)}};function fu(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(he(t))r=Rr(t,o.props.value)>-1;else if(hn(t))r=t.has(o.props.value);else{if(t===n)return;r=io(t,Eu(e,!0))}e.checked!==r&&(e.checked=r)}var fi={deep:!0,created(e,{value:t,modifiers:{number:n}},o){let r=hn(t);Nn(e,"change",()=>{let i=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?oo(or(s)):or(s));e[sn](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,ct(()=>{e._assigning=!1})}),e[sn]=yo(o)},mounted(e,{value:t}){pu(e,t)},beforeUpdate(e,t,n){e[sn]=yo(n)},updated(e,{value:t}){e._assigning||pu(e,t)}};function pu(e,t){let n=e.multiple,o=he(t);if(!(n&&!o&&!hn(t))){for(let r=0,i=e.options.length;r<i;r++){let s=e.options[r],a=or(s);if(n)if(o){let l=typeof a;l==="string"||l==="number"?s.selected=t.some(c=>String(c)===String(a)):s.selected=Rr(t,a)>-1}else s.selected=t.has(a);else if(io(or(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function or(e){return"_value"in e?e._value:e.value}function Eu(e,t){let n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var Bv=We({patchProp:Fv},_v),hu;function zv(){return hu||(hu=Fc(Bv))}var wu=(...e)=>{let t=zv().createApp(...e),{mount:n}=t;return t.mount=o=>{let r=jv(o);if(!r)return;let i=t._component;!ve(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");let s=n(r,!1,Uv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function Uv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function jv(e){return Ue(e)?document.querySelector(e):e}function Pi(e){return Ho()?(uo(e),!0):!1}function cn(e){return typeof e=="function"?e():ae(e)}var Gv=typeof window!="undefined"&&typeof document!="undefined",qv=e=>typeof e!="undefined",Yv=Object.prototype.toString,Wv=e=>Yv.call(e)==="[object Object]",Kv=()=>{};function Xv(e,t){function n(...o){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(i)})}return n}var dd=e=>e();function Zv(e=dd){let t=ie(!0);function n(){t.value=!1}function o(){t.value=!0}let r=(...i)=>{t.value&&e(...i)};return{isActive:zo(t),pause:n,resume:o,eventFilter:r}}function bu(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function Jv(e,t,n={}){let i=n,{eventFilter:o=dd}=i,r=Jn(i,["eventFilter"]);return De(e,Xv(o,t),r)}function Eo(e,t,n={}){let u=n,{eventFilter:o}=u,r=Jn(u,["eventFilter"]),{eventFilter:i,pause:s,resume:a,isActive:l}=Zv(o);return{stop:Jv(e,t,Ne(W({},r),{eventFilter:i})),pause:s,resume:a,isActive:l}}function Qv(e,t={}){if(!Ge(e))return Rs(e);let n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(let o in e.value)n[o]=qr(()=>({get(){return e.value[o]},set(r){var i;if((i=cn(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){let a=[...e.value];a[o]=r,e.value=a}else{let a=Ne(W({},e.value),{[o]:r});Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=r}}));return n}function _a(e,t=!1){function n(d,{flush:f="sync",deep:m=!1,timeout:_,throwOnTimeout:v}={}){let E=null,D=[new Promise(w=>{E=De(e,C=>{d(C)!==t&&(E==null||E(),w(C))},{flush:f,deep:m,immediate:!0})})];return _!=null&&D.push(bu(_,v).then(()=>cn(e)).finally(()=>E==null?void 0:E())),Promise.race(D)}function o(d,f){if(!Ge(d))return n(C=>C===d,f);let{flush:m="sync",deep:_=!1,timeout:v,throwOnTimeout:E}=f!=null?f:{},O=null,w=[new Promise(C=>{O=De([e,d],([I,U])=>{t!==(I===U)&&(O==null||O(),C(I))},{flush:m,deep:_,immediate:!0})})];return v!=null&&w.push(bu(v,E).then(()=>cn(e)).finally(()=>(O==null||O(),cn(e)))),Promise.race(w)}function r(d){return n(f=>Boolean(f),d)}function i(d){return o(null,d)}function s(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(m=>{let _=Array.from(m);return _.includes(d)||_.includes(cn(d))},f)}function c(d){return u(1,d)}function u(d=1,f){let m=-1;return n(()=>(m+=1,m>=d),f)}return Array.isArray(cn(e))?{toMatch:n,toContains:l,changed:c,changedTimes:u,get not(){return _a(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:i,toBeNaN:a,toBeUndefined:s,changed:c,changedTimes:u,get not(){return _a(e,!t)}}}function ya(e){return _a(e)}function e_(e){var t;let n=cn(e);return(t=n==null?void 0:n.$el)!=null?t:n}var fd=Gv?window:void 0;function pd(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=fd):[t,n,o,r]=e,!t)return Kv;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);let i=[],s=()=>{i.forEach(u=>u()),i.length=0},a=(u,d,f,m)=>(u.addEventListener(d,f,m),()=>u.removeEventListener(d,f,m)),l=De(()=>[e_(t),cn(r)],([u,d])=>{if(s(),!u)return;let f=Wv(d)?W({},d):d;i.push(...n.flatMap(m=>o.map(_=>a(u,m,_,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return Pi(c),c}function t_(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Nu(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);let{target:r=fd,eventName:i="keydown",passive:s=!1,dedupe:a=!1}=o,l=t_(t);return pd(r,i,u=>{u.repeat&&cn(a)||l(u)&&n(u)},s)}function n_(e){return JSON.parse(JSON.stringify(e))}function la(e,t,n,o={}){var r,i,s;let{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=o,m=on(),_=n||(m==null?void 0:m.emit)||((r=m==null?void 0:m.$emit)==null?void 0:r.bind(m))||((s=(i=m==null?void 0:m.proxy)==null?void 0:i.$emit)==null?void 0:s.bind(m==null?void 0:m.proxy)),v=c;t||(t="modelValue"),v=v||`update:${t.toString()}`;let E=w=>a?typeof a=="function"?a(w):n_(w):w,O=()=>qv(e[t])?E(e[t]):d,D=w=>{f?f(w)&&_(v,w):_(v,w)};if(l){let w=O(),C=ie(w),I=!1;return De(()=>e[t],U=>{I||(I=!0,C.value=E(U),ct(()=>I=!1))}),De(C,U=>{!I&&(U!==e[t]||u)&&D(U)},{deep:u}),C}else return ge({get(){return O()},set(w){D(w)}})}var o_={value:()=>{}};function Vi(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new wi(n)}function wi(e){this._=e}function r_(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}wi.prototype=Vi.prototype={constructor:wi,on:function(e,t){var n=this._,o=r_(e+"",n),r,i=-1,s=o.length;if(arguments.length<2){for(;++i<s;)if((r=(e=o[i]).type)&&(r=i_(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(r=(e=o[i]).type)n[r]=xu(n[r],e.name,t);else if(t==null)for(r in n)n[r]=xu(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wi(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,i;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,r=i.length;o<r;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};function i_(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function xu(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=o_,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ea="http://www.w3.org/1999/xhtml",Su={svg:"http://www.w3.org/2000/svg",xhtml:Ea,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ri(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Su.hasOwnProperty(t)?{space:Su[t],local:e}:e}function s_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ea&&t.documentElement.namespaceURI===Ea?t.createElement(e):t.createElementNS(n,e)}}function a_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hd(e){var t=Ri(e);return(t.local?a_:s_)(t)}function l_(){}function Pa(e){return e==null?l_:function(){return this.querySelector(e)}}function c_(e){typeof e!="function"&&(e=Pa(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=new Array(s),l,c,u=0;u<s;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ct(o,this._parents)}function u_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function d_(){return[]}function md(e){return e==null?d_:function(){return this.querySelectorAll(e)}}function f_(e){return function(){return u_(e.apply(this,arguments))}}function p_(e){typeof e=="function"?e=f_(e):e=md(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var s=t[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(o.push(e.call(l,l.__data__,c,s)),r.push(l));return new Ct(o,r)}function gd(e){return function(){return this.matches(e)}}function vd(e){return function(t){return t.matches(e)}}var h_=Array.prototype.find;function m_(e){return function(){return h_.call(this.children,e)}}function g_(){return this.firstElementChild}function v_(e){return this.select(e==null?g_:m_(typeof e=="function"?e:vd(e)))}var __=Array.prototype.filter;function y_(){return Array.from(this.children)}function E_(e){return function(){return __.call(this.children,e)}}function w_(e){return this.selectAll(e==null?y_:E_(typeof e=="function"?e:vd(e)))}function b_(e){typeof e!="function"&&(e=gd(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=[],l,c=0;c<s;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new Ct(o,this._parents)}function _d(e){return new Array(e.length)}function N_(){return new Ct(this._enter||this._groups.map(_d),this._parents)}function Si(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Si.prototype={constructor:Si,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function x_(e){return function(){return e}}function S_(e,t,n,o,r,i){for(var s=0,a,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],o[s]=a):n[s]=new Si(e,i[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function O_(e,t,n,o,r,i,s){var a,l,c=new Map,u=t.length,d=i.length,f=new Array(u),m;for(a=0;a<u;++a)(l=t[a])&&(f[a]=m=s.call(l,l.__data__,a,t)+"",c.has(m)?r[a]=l:c.set(m,l));for(a=0;a<d;++a)m=s.call(e,i[a],a,i)+"",(l=c.get(m))?(o[a]=l,l.__data__=i[a],c.delete(m)):n[a]=new Si(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(r[a]=l)}function C_(e){return e.__data__}function k_(e,t){if(!arguments.length)return Array.from(this,C_);var n=t?O_:S_,o=this._parents,r=this._groups;typeof e!="function"&&(e=x_(e));for(var i=r.length,s=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=o[c],d=r[c],f=d.length,m=T_(e.call(u,u&&u.__data__,c,o)),_=m.length,v=a[c]=new Array(_),E=s[c]=new Array(_),O=l[c]=new Array(f);n(u,d,v,E,O,m,t);for(var D=0,w=0,C,I;D<_;++D)if(C=v[D]){for(D>=w&&(w=D+1);!(I=E[w])&&++w<_;);C._next=I||null}}return s=new Ct(s,o),s._enter=a,s._exit=l,s}function T_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function D_(){return new Ct(this._exit||this._groups.map(_d),this._parents)}function I_(e,t,n){var o=this.enter(),r=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),o&&r?o.merge(r).order():r}function A_(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var c=n[l],u=o[l],d=c.length,f=a[l]=new Array(d),m,_=0;_<d;++_)(m=c[_]||u[_])&&(f[_]=m);for(;l<r;++l)a[l]=n[l];return new Ct(a,this._parents)}function M_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,i=o[r],s;--r>=0;)(s=o[r])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function P_(e){e||(e=V_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var s=n[i],a=s.length,l=r[i]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new Ct(r,this._parents).order()}function V_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function R_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function L_(){return Array.from(this)}function F_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var s=o[r];if(s)return s}return null}function $_(){let e=0;for(let t of this)++e;return e}function H_(){return!this.node()}function B_(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],i=0,s=r.length,a;i<s;++i)(a=r[i])&&e.call(a,a.__data__,i,r);return this}function z_(e){return function(){this.removeAttribute(e)}}function U_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j_(e,t){return function(){this.setAttribute(e,t)}}function G_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function q_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Y_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function W_(e,t){var n=Ri(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?U_:z_:typeof t=="function"?n.local?Y_:q_:n.local?G_:j_)(n,t))}function yd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function K_(e){return function(){this.style.removeProperty(e)}}function X_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Z_(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function J_(e,t,n){return arguments.length>1?this.each((t==null?K_:typeof t=="function"?Z_:X_)(e,t,n==null?"":n)):xo(this.node(),e)}function xo(e,t){return e.style.getPropertyValue(t)||yd(e).getComputedStyle(e,null).getPropertyValue(t)}function Q_(e){return function(){delete this[e]}}function ey(e,t){return function(){this[e]=t}}function ty(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ny(e,t){return arguments.length>1?this.each((t==null?Q_:typeof t=="function"?ty:ey)(e,t)):this.node()[e]}function Ed(e){return e.trim().split(/^|\s+/)}function Va(e){return e.classList||new wd(e)}function wd(e){this._node=e,this._names=Ed(e.getAttribute("class")||"")}wd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bd(e,t){for(var n=Va(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Nd(e,t){for(var n=Va(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function oy(e){return function(){bd(this,e)}}function ry(e){return function(){Nd(this,e)}}function iy(e,t){return function(){(t.apply(this,arguments)?bd:Nd)(this,e)}}function sy(e,t){var n=Ed(e+"");if(arguments.length<2){for(var o=Va(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?iy:t?oy:ry)(n,t))}function ay(){this.textContent=""}function ly(e){return function(){this.textContent=e}}function cy(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function uy(e){return arguments.length?this.each(e==null?ay:(typeof e=="function"?cy:ly)(e)):this.node().textContent}function dy(){this.innerHTML=""}function fy(e){return function(){this.innerHTML=e}}function py(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function hy(e){return arguments.length?this.each(e==null?dy:(typeof e=="function"?py:fy)(e)):this.node().innerHTML}function my(){this.nextSibling&&this.parentNode.appendChild(this)}function gy(){return this.each(my)}function vy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _y(){return this.each(vy)}function yy(e){var t=typeof e=="function"?e:hd(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ey(){return null}function wy(e,t){var n=typeof e=="function"?e:hd(e),o=t==null?Ey:typeof t=="function"?t:Pa(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function by(){var e=this.parentNode;e&&e.removeChild(this)}function Ny(){return this.each(by)}function xy(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sy(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Oy(e){return this.select(e?Sy:xy)}function Cy(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ky(e){return function(t){e.call(this,t,this.__data__)}}function Ty(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Dy(e){return function(){var t=this.__on;if(!!t){for(var n=0,o=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Iy(e,t,n){return function(){var o=this.__on,r,i=ky(t);if(o){for(var s=0,a=o.length;s<a;++s)if((r=o[s]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Ay(e,t,n){var o=Ty(e+""),r,i=o.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<i;++r)if((s=o[r]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Iy:Dy,r=0;r<i;++r)this.each(a(o[r],t,n));return this}function xd(e,t,n){var o=yd(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function My(e,t){return function(){return xd(this,e,t)}}function Py(e,t){return function(){return xd(this,e,t.apply(this,arguments))}}function Vy(e,t){return this.each((typeof t=="function"?Py:My)(e,t))}function*Ry(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length,s;r<i;++r)(s=o[r])&&(yield s)}var Sd=[null];function Ct(e,t){this._groups=e,this._parents=t}function vr(){return new Ct([[document.documentElement]],Sd)}function Ly(){return this}Ct.prototype=vr.prototype={constructor:Ct,select:c_,selectAll:p_,selectChild:v_,selectChildren:w_,filter:b_,data:k_,enter:N_,exit:D_,join:I_,merge:A_,selection:Ly,order:M_,sort:P_,call:R_,nodes:L_,node:F_,size:$_,empty:H_,each:B_,attr:W_,style:J_,property:ny,classed:sy,text:uy,html:hy,raise:gy,lower:_y,append:yy,insert:wy,remove:Ny,clone:Oy,datum:Cy,on:Ay,dispatch:Vy,[Symbol.iterator]:Ry};function Lt(e){return typeof e=="string"?new Ct([[document.querySelector(e)]],[document.documentElement]):new Ct([[e]],Sd)}function Fy(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Yt(e,t){if(e=Fy(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var $y={passive:!1},dr={capture:!0,passive:!1};function ca(e){e.stopImmediatePropagation()}function wo(e){e.preventDefault(),e.stopImmediatePropagation()}function Od(e){var t=e.document.documentElement,n=Lt(e).on("dragstart.drag",wo,dr);"onselectstart"in t?n.on("selectstart.drag",wo,dr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Cd(e,t){var n=e.document.documentElement,o=Lt(e).on("dragstart.drag",null);t&&(o.on("click.drag",wo,dr),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var pi=e=>()=>e;function wa(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}wa.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Hy(e){return!e.ctrlKey&&!e.button}function By(){return this.parentNode}function zy(e,t){return t==null?{x:e.x,y:e.y}:t}function Uy(){return navigator.maxTouchPoints||"ontouchstart"in this}function jy(){var e=Hy,t=By,n=zy,o=Uy,r={},i=Vi("start","drag","end"),s=0,a,l,c,u,d=0;function f(C){C.on("mousedown.drag",m).filter(o).on("touchstart.drag",E).on("touchmove.drag",O,$y).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(C,I){if(!(u||!e.call(this,C,I))){var U=w(this,t.call(this,C,I),C,I,"mouse");!U||(Lt(C.view).on("mousemove.drag",_,dr).on("mouseup.drag",v,dr),Od(C.view),ca(C),c=!1,a=C.clientX,l=C.clientY,U("start",C))}}function _(C){if(wo(C),!c){var I=C.clientX-a,U=C.clientY-l;c=I*I+U*U>d}r.mouse("drag",C)}function v(C){Lt(C.view).on("mousemove.drag mouseup.drag",null),Cd(C.view,c),wo(C),r.mouse("end",C)}function E(C,I){if(!!e.call(this,C,I)){var U=C.changedTouches,q=t.call(this,C,I),G=U.length,$,P;for($=0;$<G;++$)(P=w(this,q,C,I,U[$].identifier,U[$]))&&(ca(C),P("start",C,U[$]))}}function O(C){var I=C.changedTouches,U=I.length,q,G;for(q=0;q<U;++q)(G=r[I[q].identifier])&&(wo(C),G("drag",C,I[q]))}function D(C){var I=C.changedTouches,U=I.length,q,G;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),q=0;q<U;++q)(G=r[I[q].identifier])&&(ca(C),G("end",C,I[q]))}function w(C,I,U,q,G,$){var P=i.copy(),B=Yt($||U,I),N,J,S;if((S=n.call(C,new wa("beforestart",{sourceEvent:U,target:f,identifier:G,active:s,x:B[0],y:B[1],dx:0,dy:0,dispatch:P}),q))!=null)return N=S.x-B[0]||0,J=S.y-B[1]||0,function V(k,F,H){var Y=B,ee;switch(k){case"start":r[G]=V,ee=s++;break;case"end":delete r[G],--s;case"drag":B=Yt(H||F,I),ee=s;break}P.call(k,C,new wa(k,{sourceEvent:F,subject:S,target:f,identifier:G,active:ee,x:B[0]+N,y:B[1]+J,dx:B[0]-Y[0],dy:B[1]-Y[1],dispatch:P}),q)}}return f.filter=function(C){return arguments.length?(e=typeof C=="function"?C:pi(!!C),f):e},f.container=function(C){return arguments.length?(t=typeof C=="function"?C:pi(C),f):t},f.subject=function(C){return arguments.length?(n=typeof C=="function"?C:pi(C),f):n},f.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:pi(!!C),f):o},f.on=function(){var C=i.on.apply(i,arguments);return C===i?f:C},f.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,f):Math.sqrt(d)},f}function Ra(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kd(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function _r(){}var fr=.7,Oi=1/fr,bo="\\s*([+-]?\\d+)\\s*",pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gy=/^#([0-9a-f]{3,8})$/,qy=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),Yy=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Wy=new RegExp(`^rgba\\(${bo},${bo},${bo},${pr}\\)$`),Ky=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${pr}\\)$`),Xy=new RegExp(`^hsl\\(${pr},${Wt},${Wt}\\)$`),Zy=new RegExp(`^hsla\\(${pr},${Wt},${Wt},${pr}\\)$`),Ou={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ra(_r,hr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cu,formatHex:Cu,formatHex8:Jy,formatHsl:Qy,formatRgb:ku,toString:ku});function Cu(){return this.rgb().formatHex()}function Jy(){return this.rgb().formatHex8()}function Qy(){return Td(this).formatHsl()}function ku(){return this.rgb().formatRgb()}function hr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Gy.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tu(t):n===3?new Nt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?hi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?hi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qy.exec(e))?new Nt(t[1],t[2],t[3],1):(t=Yy.exec(e))?new Nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wy.exec(e))?hi(t[1],t[2],t[3],t[4]):(t=Ky.exec(e))?hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Xy.exec(e))?Au(t[1],t[2]/100,t[3]/100,1):(t=Zy.exec(e))?Au(t[1],t[2]/100,t[3]/100,t[4]):Ou.hasOwnProperty(e)?Tu(Ou[e]):e==="transparent"?new Nt(NaN,NaN,NaN,0):null}function Tu(e){return new Nt(e>>16&255,e>>8&255,e&255,1)}function hi(e,t,n,o){return o<=0&&(e=t=n=NaN),new Nt(e,t,n,o)}function eE(e){return e instanceof _r||(e=hr(e)),e?(e=e.rgb(),new Nt(e.r,e.g,e.b,e.opacity)):new Nt}function ba(e,t,n,o){return arguments.length===1?eE(e):new Nt(e,t,n,o==null?1:o)}function Nt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Ra(Nt,ba,kd(_r,{brighter(e){return e=e==null?Oi:Math.pow(Oi,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fr:Math.pow(fr,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nt(jn(this.r),jn(this.g),jn(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Du,formatHex:Du,formatHex8:tE,formatRgb:Iu,toString:Iu}));function Du(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function tE(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iu(){let e=Ci(this.opacity);return`${e===1?"rgb(":"rgba("}${jn(this.r)}, ${jn(this.g)}, ${jn(this.b)}${e===1?")":`, ${e})`}`}function Ci(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=jn(e),(e<16?"0":"")+e.toString(16)}function Au(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ft(e,t,n,o)}function Td(e){if(e instanceof Ft)return new Ft(e.h,e.s,e.l,e.opacity);if(e instanceof _r||(e=hr(e)),!e)return new Ft;if(e instanceof Ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),s=NaN,a=i-r,l=(i+r)/2;return a?(t===i?s=(n-o)/a+(n<o)*6:n===i?s=(o-t)/a+2:s=(t-n)/a+4,a/=l<.5?i+r:2-i-r,s*=60):a=l>0&&l<1?0:s,new Ft(s,a,l,e.opacity)}function nE(e,t,n,o){return arguments.length===1?Td(e):new Ft(e,t,n,o==null?1:o)}function Ft(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Ra(Ft,nE,kd(_r,{brighter(e){return e=e==null?Oi:Math.pow(Oi,e),new Ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fr:Math.pow(fr,e),new Ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Nt(ua(e>=240?e-240:e+120,r,o),ua(e,r,o),ua(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ft(Mu(this.h),mi(this.s),mi(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Ci(this.opacity);return`${e===1?"hsl(":"hsla("}${Mu(this.h)}, ${mi(this.s)*100}%, ${mi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mu(e){return e=(e||0)%360,e<0?e+360:e}function mi(e){return Math.max(0,Math.min(1,e||0))}function ua(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Dd=e=>()=>e;function oE(e,t){return function(n){return e+n*t}}function rE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function iE(e){return(e=+e)==1?Id:function(t,n){return n-t?rE(t,n,e):Dd(isNaN(t)?n:t)}}function Id(e,t){var n=t-e;return n?oE(e,n):Dd(isNaN(e)?t:e)}var Pu=function e(t){var n=iE(t);function o(r,i){var s=n((r=ba(r)).r,(i=ba(i)).r),a=n(r.g,i.g),l=n(r.b,i.b),c=Id(r.opacity,i.opacity);return function(u){return r.r=s(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return o.gamma=e,o}(1);function On(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Na=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,da=new RegExp(Na.source,"g");function sE(e){return function(){return e}}function aE(e){return function(t){return e(t)+""}}function lE(e,t){var n=Na.lastIndex=da.lastIndex=0,o,r,i,s=-1,a=[],l=[];for(e=e+"",t=t+"";(o=Na.exec(e))&&(r=da.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(o=o[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:On(o,r)})),n=da.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?aE(l[0].x):sE(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var Vu=180/Math.PI,xa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ad(e,t,n,o,r,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Vu,skewX:Math.atan(l)*Vu,scaleX:s,scaleY:a}}var gi;function cE(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xa:Ad(t.a,t.b,t.c,t.d,t.e,t.f)}function uE(e){return e==null||(gi||(gi=document.createElementNS("http://www.w3.org/2000/svg","g")),gi.setAttribute("transform",e),!(e=gi.transform.baseVal.consolidate()))?xa:(e=e.matrix,Ad(e.a,e.b,e.c,e.d,e.e,e.f))}function Md(e,t,n,o){function r(c){return c.length?c.pop()+" ":""}function i(c,u,d,f,m,_){if(c!==d||u!==f){var v=m.push("translate(",null,t,null,n);_.push({i:v-4,x:On(c,d)},{i:v-2,x:On(u,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(r(d)+"rotate(",null,o)-2,x:On(c,u)})):u&&d.push(r(d)+"rotate("+u+o)}function a(c,u,d,f){c!==u?f.push({i:d.push(r(d)+"skewX(",null,o)-2,x:On(c,u)}):u&&d.push(r(d)+"skewX("+u+o)}function l(c,u,d,f,m,_){if(c!==d||u!==f){var v=m.push(r(m)+"scale(",null,",",null,")");_.push({i:v-4,x:On(c,d)},{i:v-2,x:On(u,f)})}else(d!==1||f!==1)&&m.push(r(m)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(m){for(var _=-1,v=f.length,E;++_<v;)d[(E=f[_]).i]=E.x(m);return d.join("")}}}var dE=Md(cE,"px, ","px)","deg)"),fE=Md(uE,", ",")",")"),pE=1e-12;function Ru(e){return((e=Math.exp(e))+1/e)/2}function hE(e){return((e=Math.exp(e))-1/e)/2}function mE(e){return((e=Math.exp(2*e))-1)/(e+1)}var gE=function e(t,n,o){function r(i,s){var a=i[0],l=i[1],c=i[2],u=s[0],d=s[1],f=s[2],m=u-a,_=d-l,v=m*m+_*_,E,O;if(v<pE)O=Math.log(f/c)/t,E=function(q){return[a+q*m,l+q*_,c*Math.exp(t*q*O)]};else{var D=Math.sqrt(v),w=(f*f-c*c+o*v)/(2*c*n*D),C=(f*f-c*c-o*v)/(2*f*n*D),I=Math.log(Math.sqrt(w*w+1)-w),U=Math.log(Math.sqrt(C*C+1)-C);O=(U-I)/t,E=function(q){var G=q*O,$=Ru(I),P=c/(n*D)*($*mE(t*G+I)-hE(I));return[a+P*m,l+P*_,c*$/Ru(t*G+I)]}}return E.duration=O*1e3*t/Math.SQRT2,E}return r.rho=function(i){var s=Math.max(.001,+i),a=s*s,l=a*a;return e(s,a,l)},r}(Math.SQRT2,2,4),So=0,sr=0,rr=0,Pd=1e3,ki,ar,Ti=0,qn=0,Li=0,mr=typeof performance=="object"&&performance.now?performance:Date,Vd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function La(){return qn||(Vd(vE),qn=mr.now()+Li)}function vE(){qn=0}function Di(){this._call=this._time=this._next=null}Di.prototype=Rd.prototype={constructor:Di,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?La():+n)+(t==null?0:+t),!this._next&&ar!==this&&(ar?ar._next=this:ki=this,ar=this),this._call=e,this._time=n,Sa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sa())}};function Rd(e,t,n){var o=new Di;return o.restart(e,t,n),o}function _E(){La(),++So;for(var e=ki,t;e;)(t=qn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--So}function Lu(){qn=(Ti=mr.now())+Li,So=sr=0;try{_E()}finally{So=0,EE(),qn=0}}function yE(){var e=mr.now(),t=e-Ti;t>Pd&&(Li-=t,Ti=e)}function EE(){for(var e,t=ki,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ki=n);ar=e,Sa(o)}function Sa(e){if(!So){sr&&(sr=clearTimeout(sr));var t=e-qn;t>24?(e<1/0&&(sr=setTimeout(Lu,e-mr.now()-Li)),rr&&(rr=clearInterval(rr))):(rr||(Ti=mr.now(),rr=setInterval(yE,Pd)),So=1,Vd(Lu))}}function Fu(e,t,n){var o=new Di;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var wE=Vi("start","end","cancel","interrupt"),bE=[],Ld=0,$u=1,Oa=2,bi=3,Hu=4,Ca=5,Ni=6;function Fi(e,t,n,o,r,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;NE(e,n,{name:t,index:o,group:r,on:wE,tween:bE,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ld})}function Fa(e,t){var n=$t(e,t);if(n.state>Ld)throw new Error("too late; already scheduled");return n}function Kt(e,t){var n=$t(e,t);if(n.state>bi)throw new Error("too late; already running");return n}function $t(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function NE(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=Rd(i,0,n.time);function i(c){n.state=$u,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,m;if(n.state!==$u)return l();for(u in o)if(m=o[u],m.name===n.name){if(m.state===bi)return Fu(s);m.state===Hu?(m.state=Ni,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete o[u]):+u<t&&(m.state=Ni,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete o[u])}if(Fu(function(){n.state===bi&&(n.state=Hu,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Oa,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Oa){for(n.state=bi,r=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=m);r.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Ca,1),d=-1,f=r.length;++d<f;)r[d].call(e,u);n.state===Ca&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ni,n.timer.stop(),delete o[t];for(var c in o)return;delete e.__transition}}function xi(e,t){var n=e.__transition,o,r,i=!0,s;if(!!n){t=t==null?null:t+"";for(s in n){if((o=n[s]).name!==t){i=!1;continue}r=o.state>Oa&&o.state<Ca,o.state=Ni,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[s]}i&&delete e.__transition}}function xE(e){return this.each(function(){xi(this,e)})}function SE(e,t){var n,o;return function(){var r=Kt(this,e),i=r.tween;if(i!==n){o=n=i;for(var s=0,a=o.length;s<a;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}r.tween=o}}function OE(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var i=Kt(this,e),s=i.tween;if(s!==o){r=(o=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}i.tween=r}}function CE(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=$t(this.node(),n).tween,r=0,i=o.length,s;r<i;++r)if((s=o[r]).name===e)return s.value;return null}return this.each((t==null?SE:OE)(n,e,t))}function $a(e,t,n){var o=e._id;return e.each(function(){var r=Kt(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return $t(r,o).value[t]}}function Fd(e,t){var n;return(typeof t=="number"?On:t instanceof hr?Pu:(n=hr(t))?(t=n,Pu):lE)(e,t)}function kE(e){return function(){this.removeAttribute(e)}}function TE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function DE(e,t,n){var o,r=n+"",i;return function(){var s=this.getAttribute(e);return s===r?null:s===o?i:i=t(o=s,n)}}function IE(e,t,n){var o,r=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===o?i:i=t(o=s,n)}}function AE(e,t,n){var o,r,i;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===o&&l===r?i:(r=l,i=t(o=s,a)))}}function ME(e,t,n){var o,r,i;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===o&&l===r?i:(r=l,i=t(o=s,a)))}}function PE(e,t){var n=Ri(e),o=n==="transform"?fE:Fd;return this.attrTween(e,typeof t=="function"?(n.local?ME:AE)(n,o,$a(this,"attr."+e,t)):t==null?(n.local?TE:kE)(n):(n.local?IE:DE)(n,o,t))}function VE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function RE(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LE(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&RE(e,i)),n}return r._value=t,r}function FE(e,t){var n,o;function r(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&VE(e,i)),n}return r._value=t,r}function $E(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Ri(e);return this.tween(n,(o.local?LE:FE)(o,t))}function HE(e,t){return function(){Fa(this,e).delay=+t.apply(this,arguments)}}function BE(e,t){return t=+t,function(){Fa(this,e).delay=t}}function zE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?HE:BE)(t,e)):$t(this.node(),t).delay}function UE(e,t){return function(){Kt(this,e).duration=+t.apply(this,arguments)}}function jE(e,t){return t=+t,function(){Kt(this,e).duration=t}}function GE(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?UE:jE)(t,e)):$t(this.node(),t).duration}function qE(e,t){if(typeof t!="function")throw new Error;return function(){Kt(this,e).ease=t}}function YE(e){var t=this._id;return arguments.length?this.each(qE(t,e)):$t(this.node(),t).ease}function WE(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,e).ease=n}}function KE(e){if(typeof e!="function")throw new Error;return this.each(WE(this._id,e))}function XE(e){typeof e!="function"&&(e=gd(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i=t[r],s=i.length,a=o[r]=[],l,c=0;c<s;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new fn(o,this._parents,this._name,this._id)}function ZE(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),s=new Array(o),a=0;a<i;++a)for(var l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),f,m=0;m<u;++m)(f=l[m]||c[m])&&(d[m]=f);for(;a<o;++a)s[a]=t[a];return new fn(s,this._parents,this._name,this._id)}function JE(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function QE(e,t,n){var o,r,i=JE(t)?Fa:Kt;return function(){var s=i(this,e),a=s.on;a!==o&&(r=(o=a).copy()).on(t,n),s.on=r}}function e0(e,t){var n=this._id;return arguments.length<2?$t(this.node(),n).on.on(e):this.each(QE(n,e,t))}function t0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function n0(){return this.on("end.remove",t0(this._id))}function o0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pa(e));for(var o=this._groups,r=o.length,i=new Array(r),s=0;s<r;++s)for(var a=o[s],l=a.length,c=i[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Fi(c[f],t,n,f,c,$t(u,n)));return new fn(i,this._parents,t,n)}function r0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=md(e));for(var o=this._groups,r=o.length,i=[],s=[],a=0;a<r;++a)for(var l=o[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),m,_=$t(u,n),v=0,E=f.length;v<E;++v)(m=f[v])&&Fi(m,t,n,v,f,_);i.push(f),s.push(u)}return new fn(i,s,t,n)}var i0=vr.prototype.constructor;function s0(){return new i0(this._groups,this._parents)}function a0(e,t){var n,o,r;return function(){var i=xo(this,e),s=(this.style.removeProperty(e),xo(this,e));return i===s?null:i===n&&s===o?r:r=t(n=i,o=s)}}function $d(e){return function(){this.style.removeProperty(e)}}function l0(e,t,n){var o,r=n+"",i;return function(){var s=xo(this,e);return s===r?null:s===o?i:i=t(o=s,n)}}function c0(e,t,n){var o,r,i;return function(){var s=xo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),xo(this,e))),s===l?null:s===o&&l===r?i:(r=l,i=t(o=s,a))}}function u0(e,t){var n,o,r,i="style."+t,s="end."+i,a;return function(){var l=Kt(this,e),c=l.on,u=l.value[i]==null?a||(a=$d(t)):void 0;(c!==n||r!==u)&&(o=(n=c).copy()).on(s,r=u),l.on=o}}function d0(e,t,n){var o=(e+="")=="transform"?dE:Fd;return t==null?this.styleTween(e,a0(e,o)).on("end.style."+e,$d(e)):typeof t=="function"?this.styleTween(e,c0(e,o,$a(this,"style."+e,t))).each(u0(this._id,e)):this.styleTween(e,l0(e,o,t),n).on("end.style."+e,null)}function f0(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function p0(e,t,n){var o,r;function i(){var s=t.apply(this,arguments);return s!==r&&(o=(r=s)&&f0(e,s,n)),o}return i._value=t,i}function h0(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,p0(e,t,n==null?"":n))}function m0(e){return function(){this.textContent=e}}function g0(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function v0(e){return this.tween("text",typeof e=="function"?g0($a(this,"text",e)):m0(e==null?"":e+""))}function _0(e){return function(t){this.textContent=e.call(this,t)}}function y0(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&_0(r)),t}return o._value=e,o}function E0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,y0(e))}function w0(){for(var e=this._name,t=this._id,n=Hd(),o=this._groups,r=o.length,i=0;i<r;++i)for(var s=o[i],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=$t(l,t);Fi(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new fn(o,this._parents,e,n)}function b0(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(i,s){var a={value:s},l={value:function(){--r===0&&i()}};n.each(function(){var c=Kt(this,o),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&i()})}var N0=0;function fn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Hd(){return++N0}var ln=vr.prototype;fn.prototype={constructor:fn,select:o0,selectAll:r0,selectChild:ln.selectChild,selectChildren:ln.selectChildren,filter:XE,merge:ZE,selection:s0,transition:w0,call:ln.call,nodes:ln.nodes,node:ln.node,size:ln.size,empty:ln.empty,each:ln.each,on:e0,attr:PE,attrTween:$E,style:d0,styleTween:h0,text:v0,textTween:E0,remove:n0,tween:CE,delay:zE,duration:GE,ease:YE,easeVarying:KE,end:b0,[Symbol.iterator]:ln[Symbol.iterator]};function x0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var S0={time:null,delay:0,duration:250,ease:x0};function O0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function C0(e){var t,n;e instanceof fn?(t=e._id,e=e._name):(t=Hd(),(n=S0).time=La(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var s=o[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&Fi(l,e,t,c,s,n||O0(l,t));return new fn(o,this._parents,e,t)}vr.prototype.interrupt=xE;vr.prototype.transition=C0;var vi=e=>()=>e;function k0(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function dn(e,t,n){this.k=e,this.x=t,this.y=n}dn.prototype={constructor:dn,scale:function(e){return e===1?this:new dn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oo=new dn(1,0,0);dn.prototype;function fa(e){e.stopImmediatePropagation()}function ir(e){e.preventDefault(),e.stopImmediatePropagation()}function T0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function D0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bu(){return this.__zoom||Oo}function I0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function A0(){return navigator.maxTouchPoints||"ontouchstart"in this}function M0(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function P0(){var e=T0,t=D0,n=M0,o=I0,r=A0,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=gE,c=Vi("start","zoom","end"),u,d,f,m=500,_=150,v=0,E=10;function O(S){S.property("__zoom",Bu).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",P).filter(r).on("touchstart.zoom",B).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function(S,V,k,F){var H=S.selection?S.selection():S;H.property("__zoom",Bu),S!==H?I(S,V,k,F):H.interrupt().each(function(){U(this,arguments).event(F).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},O.scaleBy=function(S,V,k,F){O.scaleTo(S,function(){var H=this.__zoom.k,Y=typeof V=="function"?V.apply(this,arguments):V;return H*Y},k,F)},O.scaleTo=function(S,V,k,F){O.transform(S,function(){var H=t.apply(this,arguments),Y=this.__zoom,ee=k==null?C(H):typeof k=="function"?k.apply(this,arguments):k,te=Y.invert(ee),de=typeof V=="function"?V.apply(this,arguments):V;return n(w(D(Y,de),ee,te),H,s)},k,F)},O.translateBy=function(S,V,k,F){O.transform(S,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),s)},null,F)},O.translateTo=function(S,V,k,F,H){O.transform(S,function(){var Y=t.apply(this,arguments),ee=this.__zoom,te=F==null?C(Y):typeof F=="function"?F.apply(this,arguments):F;return n(Oo.translate(te[0],te[1]).scale(ee.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof k=="function"?-k.apply(this,arguments):-k),Y,s)},F,H)};function D(S,V){return V=Math.max(i[0],Math.min(i[1],V)),V===S.k?S:new dn(V,S.x,S.y)}function w(S,V,k){var F=V[0]-k[0]*S.k,H=V[1]-k[1]*S.k;return F===S.x&&H===S.y?S:new dn(S.k,F,H)}function C(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function I(S,V,k,F){S.on("start.zoom",function(){U(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(F).end()}).tween("zoom",function(){var H=this,Y=arguments,ee=U(H,Y).event(F),te=t.apply(H,Y),de=k==null?C(te):typeof k=="function"?k.apply(H,Y):k,Z=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),Q=H.__zoom,ue=typeof V=="function"?V.apply(H,Y):V,ke=l(Q.invert(de).concat(Z/Q.k),ue.invert(de).concat(Z/ue.k));return function(Ee){if(Ee===1)Ee=ue;else{var Oe=ke(Ee),_e=Z/Oe[2];Ee=new dn(_e,de[0]-Oe[0]*_e,de[1]-Oe[1]*_e)}ee.zoom(null,Ee)}})}function U(S,V,k){return!k&&S.__zooming||new q(S,V)}function q(S,V){this.that=S,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,V),this.taps=0}q.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,V){return this.mouse&&S!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var V=Lt(this.that).datum();c.call(S,this.that,new k0(S,{sourceEvent:this.sourceEvent,target:O,type:S,transform:this.that.__zoom,dispatch:c}),V)}};function G(S,...V){if(!e.apply(this,arguments))return;var k=U(this,V).event(S),F=this.__zoom,H=Math.max(i[0],Math.min(i[1],F.k*Math.pow(2,o.apply(this,arguments)))),Y=Yt(S);if(k.wheel)(k.mouse[0][0]!==Y[0]||k.mouse[0][1]!==Y[1])&&(k.mouse[1]=F.invert(k.mouse[0]=Y)),clearTimeout(k.wheel);else{if(F.k===H)return;k.mouse=[Y,F.invert(Y)],xi(this),k.start()}ir(S),k.wheel=setTimeout(ee,_),k.zoom("mouse",n(w(D(F,H),k.mouse[0],k.mouse[1]),k.extent,s));function ee(){k.wheel=null,k.end()}}function $(S,...V){if(f||!e.apply(this,arguments))return;var k=S.currentTarget,F=U(this,V,!0).event(S),H=Lt(S.view).on("mousemove.zoom",de,!0).on("mouseup.zoom",Z,!0),Y=Yt(S,k),ee=S.clientX,te=S.clientY;Od(S.view),fa(S),F.mouse=[Y,this.__zoom.invert(Y)],xi(this),F.start();function de(Q){if(ir(Q),!F.moved){var ue=Q.clientX-ee,ke=Q.clientY-te;F.moved=ue*ue+ke*ke>v}F.event(Q).zoom("mouse",n(w(F.that.__zoom,F.mouse[0]=Yt(Q,k),F.mouse[1]),F.extent,s))}function Z(Q){H.on("mousemove.zoom mouseup.zoom",null),Cd(Q.view,F.moved),ir(Q),F.event(Q).end()}}function P(S,...V){if(!!e.apply(this,arguments)){var k=this.__zoom,F=Yt(S.changedTouches?S.changedTouches[0]:S,this),H=k.invert(F),Y=k.k*(S.shiftKey?.5:2),ee=n(w(D(k,Y),F,H),t.apply(this,V),s);ir(S),a>0?Lt(this).transition().duration(a).call(I,ee,F,S):Lt(this).call(O.transform,ee,F,S)}}function B(S,...V){if(!!e.apply(this,arguments)){var k=S.touches,F=k.length,H=U(this,V,S.changedTouches.length===F).event(S),Y,ee,te,de;for(fa(S),ee=0;ee<F;++ee)te=k[ee],de=Yt(te,this),de=[de,this.__zoom.invert(de),te.identifier],H.touch0?!H.touch1&&H.touch0[2]!==de[2]&&(H.touch1=de,H.taps=0):(H.touch0=de,Y=!0,H.taps=1+!!u);u&&(u=clearTimeout(u)),Y&&(H.taps<2&&(d=de[0],u=setTimeout(function(){u=null},m)),xi(this),H.start())}}function N(S,...V){if(!!this.__zooming){var k=U(this,V).event(S),F=S.changedTouches,H=F.length,Y,ee,te,de;for(ir(S),Y=0;Y<H;++Y)ee=F[Y],te=Yt(ee,this),k.touch0&&k.touch0[2]===ee.identifier?k.touch0[0]=te:k.touch1&&k.touch1[2]===ee.identifier&&(k.touch1[0]=te);if(ee=k.that.__zoom,k.touch1){var Z=k.touch0[0],Q=k.touch0[1],ue=k.touch1[0],ke=k.touch1[1],Ee=(Ee=ue[0]-Z[0])*Ee+(Ee=ue[1]-Z[1])*Ee,Oe=(Oe=ke[0]-Q[0])*Oe+(Oe=ke[1]-Q[1])*Oe;ee=D(ee,Math.sqrt(Ee/Oe)),te=[(Z[0]+ue[0])/2,(Z[1]+ue[1])/2],de=[(Q[0]+ke[0])/2,(Q[1]+ke[1])/2]}else if(k.touch0)te=k.touch0[0],de=k.touch0[1];else return;k.zoom("touch",n(w(ee,te,de),k.extent,s))}}function J(S,...V){if(!!this.__zooming){var k=U(this,V).event(S),F=S.changedTouches,H=F.length,Y,ee;for(fa(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),Y=0;Y<H;++Y)ee=F[Y],k.touch0&&k.touch0[2]===ee.identifier?delete k.touch0:k.touch1&&k.touch1[2]===ee.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(ee=Yt(ee,this),Math.hypot(d[0]-ee[0],d[1]-ee[1])<E)){var te=Lt(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return O.wheelDelta=function(S){return arguments.length?(o=typeof S=="function"?S:vi(+S),O):o},O.filter=function(S){return arguments.length?(e=typeof S=="function"?S:vi(!!S),O):e},O.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:vi(!!S),O):r},O.extent=function(S){return arguments.length?(t=typeof S=="function"?S:vi([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),O):t},O.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],O):[i[0],i[1]]},O.translateExtent=function(S){return arguments.length?(s[0][0]=+S[0][0],s[1][0]=+S[1][0],s[0][1]=+S[0][1],s[1][1]=+S[1][1],O):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},O.constrain=function(S){return arguments.length?(n=S,O):n},O.duration=function(S){return arguments.length?(a=+S,O):a},O.interpolate=function(S){return arguments.length?(l=S,O):l},O.on=function(){var S=c.on.apply(c,arguments);return S===c?O:S},O.clickDistance=function(S){return arguments.length?(v=(S=+S)*S,O):Math.sqrt(v)},O.tapDistance=function(S){return arguments.length?(E=+S,O):E},O}var ne=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ne||{}),Ha=(e=>(e.Partial="partial",e.Full="full",e))(Ha||{}),zn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(zn||{}),Yn=(e=>(e.Strict="strict",e.Loose="loose",e))(Yn||{}),ka=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(ka||{}),cr=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(cr||{});function Ta(e){var t,n;let o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,i=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||r||!!i}function V0(e){return e.ctrlKey||e.metaKey||e.shiftKey}function zu(e,t,n,o){let r=t.split("+").map(i=>i.trim().toLowerCase());return r.length===1?e.toLowerCase()===t.toLowerCase():(o?n.delete(e.toLowerCase()):n.add(e.toLowerCase()),r.every((i,s)=>n.has(i)&&Array.from(n.values())[s]===r[s]))}function R0(e,t){return n=>{if(!n.code&&!n.key)return!1;let o=L0(n.code,e);return Array.isArray(e)?e.some(r=>zu(n[o],r,t,n.type==="keyup")):zu(n[o],e,t,n.type==="keyup")}}function L0(e,t){return typeof t=="string"?e===t?"code":"key":t.includes(e)?"code":"key"}function ur(e,t){let n=$e(()=>{var u;return(u=Ve(t==null?void 0:t.actInsideInputWithModifier))!=null?u:!1}),o=$e(()=>{var u;return(u=Ve(t==null?void 0:t.target))!=null?u:window}),r=ie(Ve(e)===!0),i=!1,s=new Set,a=c(Ve(e));De(()=>Ve(e),(u,d)=>{typeof d=="boolean"&&typeof u!="boolean"&&l(),a=c(u)},{immediate:!0}),nt(()=>{pd(window,["blur","contextmenu"],l)}),Nu((...u)=>a(...u),u=>{i=V0(u),!((!i||i&&!n.value)&&Ta(u))&&(u.preventDefault(),r.value=!0)},{eventName:"keydown",target:o}),Nu((...u)=>a(...u),u=>{if(r.value){if((!i||i&&!n.value)&&Ta(u))return;l()}},{eventName:"keyup",target:o});function l(){i=!1,s.clear(),r.value=!1}function c(u){return u===null?(l(),()=>!1):typeof u=="boolean"?(l(),r.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?R0(u,s):u}return r}var Bd="vue-flow__node-desc",zd="vue-flow__edge-desc",F0="vue-flow__aria-live",Ud=["Enter"," ","Escape"],No={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Da(e){return Ne(W({},e.computedPosition||{x:0,y:0}),{width:e.dimensions.width||0,height:e.dimensions.height||0})}function Ia(e,t){let n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function $i(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Wn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function jd(e,t){return{x:Wn(e.x,t[0][0],t[1][0]),y:Wn(e.y,t[0][1],t[1][1])}}function Uu(e){let t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Tn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Gn(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Tn(e)}function lr(e){return Gn(e)&&"computedPosition"in e}function _i(e){return!Number.isNaN(e)&&Number.isFinite(e)}function $0(e){return _i(e.width)&&_i(e.height)&&_i(e.x)&&_i(e.y)}function H0(e,t,n){var r;let o={id:e.id.toString(),type:(r=e.type)!=null?r:"default",dimensions:Ut({width:0,height:0}),computedPosition:Ut(W({z:0},e.position)),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:et(e.data)?e.data:{},events:Ut(et(e.events)?e.events:{})};return Object.assign(t!=null?t:o,e,{id:e.id.toString(),parentNode:n})}function Gd(e,t,n){var s,a,l,c,u,d,f;var o,r;let i=W({id:e.id.toString(),type:(a=(s=e.type)!=null?s:t==null?void 0:t.type)!=null?a:"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:(l=e.updatable)!=null?l:n==null?void 0:n.updatable,selectable:(c=e.selectable)!=null?c:n==null?void 0:n.selectable,focusable:(u=e.focusable)!=null?u:n==null?void 0:n.focusable,data:et(e.data)?e.data:{},events:Ut(et(e.events)?e.events:{}),label:(d=e.label)!=null?d:"",interactionWidth:(f=e.interactionWidth)!=null?f:n==null?void 0:n.interactionWidth},n!=null?n:{});return Object.assign(t!=null?t:i,e,{id:e.id.toString()})}function qd(e,t,n,o){let r=typeof e=="string"?e:e.id,i=new Set,s=o==="source"?"target":"source";for(let a of n)a[s]===r&&i.add(a[o]);return t.filter(a=>i.has(a.id))}function B0(...e){if(e.length===3){let[i,s,a]=e;return qd(i,s,a,"target")}let[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>Tn(i)&&i.source===o).map(i=>n.find(s=>Gn(s)&&s.id===i.target))}function z0(...e){if(e.length===3){let[i,s,a]=e;return qd(i,s,a,"source")}let[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(i=>Tn(i)&&i.target===o).map(i=>n.find(s=>Gn(s)&&s.id===i.source))}function Yd({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t!=null?t:""}-${n}${o!=null?o:""}`}function U0(e,t){return t.some(n=>Tn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Wd({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Ii({x:e,y:t},{x:n,y:o,zoom:r},i=!1,[s,a]=[1,1]){let l={x:(e-n)/r,y:(t-o)/r};return i?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l}function j0(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Kd({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function G0({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Xd(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){let o=e[n];t=j0(t,Kd(W(W({},o.computedPosition),o.dimensions)))}return G0(t)}function Zd(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){var a,l,c,u;let i=Ne(W({},Ii(t,n)),{width:t.width/n.zoom,height:t.height/n.zoom}),s=[];for(let d of e){let{dimensions:f,selectable:m=!0,hidden:_=!1}=d,v=(l=(a=f.width)!=null?a:d.width)!=null?l:null,E=(u=(c=f.height)!=null?c:d.height)!=null?u:null;if(r&&!m||_)continue;let O=Ia(i,Da(d)),D=v===null||E===null,w=o&&O>0,C=(v!=null?v:0)*(E!=null?E:0);(D||w||O>=C||d.dragging)&&s.push(d)}return s}function Jd(e,t){let n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(let o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function ju(e,t,n,o,r,i=.1,s={x:0,y:0}){var v,E;let a=t/(e.width*(1+i)),l=n/(e.height*(1+i)),c=Math.min(a,l),u=Wn(c,o,r),d=e.x+e.width/2,f=e.y+e.height/2,m=t/2-d*u+((v=s.x)!=null?v:0),_=n/2-f*u+((E=s.y)!=null?E:0);return{x:m,y:_,zoom:u}}function q0(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Qd(e,t){if(!e.parentNode)return!1;let n=t(e.parentNode);return n?n.selected?!0:Qd(n,t):!1}function gr(e,t){return typeof e=="undefined"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function Gu(e,t,n){return e<t?Wn(Math.abs(e-t),1,t)/t:e>n?-Wn(Math.abs(e-n),1,t)/t:0}function ef(e,t,n=15,o=40){let r=Gu(e.x,o,t.width-o)*n,i=Gu(e.y,o,t.height-o)*n;return[r,i]}function pa(e,t){var n,o;if(t){let r=e.position.x+e.dimensions.width-t.dimensions.width,i=e.position.y+e.dimensions.height-t.dimensions.height;if(r>0||i>0||e.position.x<0||e.position.y<0){let s={};if(typeof t.style=="function"?s=W({},t.style(t)):t.style&&(s=W({},t.style)),s.width=(n=s.width)!=null?n:`${t.dimensions.width}px`,s.height=(o=s.height)!=null?o:`${t.dimensions.height}px`,r>0)if(typeof s.width=="string"){let a=Number(s.width.replace("px",""));s.width=`${a+r}px`}else s.width+=r;if(i>0)if(typeof s.height=="string"){let a=Number(s.height.replace("px",""));s.height=`${a+i}px`}else s.height+=i;if(e.position.x<0){let a=Math.abs(e.position.x);if(t.position.x=t.position.x-a,typeof s.width=="string"){let l=Number(s.width.replace("px",""));s.width=`${l+a}px`}else s.width+=a;e.position.x=0}if(e.position.y<0){let a=Math.abs(e.position.y);if(t.position.y=t.position.y-a,typeof s.height=="string"){let l=Number(s.height.replace("px",""));s.height=`${l+a}px`}else s.height+=a;e.position.y=0}t.dimensions.width=Number(s.width.toString().replace("px","")),t.dimensions.height=Number(s.height.toString().replace("px","")),typeof t.style=="function"?t.style=a=>{let l=t.style;return W(W({},l(a)),s)}:t.style=W(W({},t.style),s)}}}function qu(e,t){var n,o;let r=e.filter(s=>s.type==="add"||s.type==="remove");for(let s of r)if(s.type==="add")t.findIndex(l=>l.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){let a=t.findIndex(l=>l.id===s.id);a!==-1&&t.splice(a,1)}let i=t.map(s=>s.id);for(let s of t)for(let a of e)if(a.id===s.id)switch(a.type){case"select":s.selected=a.selected;break;case"position":if(lr(s)&&(typeof a.position!="undefined"&&(s.position=a.position),typeof a.dragging!="undefined"&&(s.dragging=a.dragging),s.expandParent&&s.parentNode)){let l=t[i.indexOf(s.parentNode)];l&&lr(l)&&pa(s,l)}break;case"dimensions":if(lr(s)&&(typeof a.dimensions!="undefined"&&(s.dimensions=a.dimensions),typeof a.updateStyle!="undefined"&&a.updateStyle&&(s.style=Ne(W({},s.style||{}),{width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(o=a.dimensions)==null?void 0:o.height}px`})),typeof a.resizing!="undefined"&&(s.resizing=a.resizing),s.expandParent&&s.parentNode)){let l=t[i.indexOf(s.parentNode)];l&&lr(l)&&(!!l.dimensions.width&&!!l.dimensions.height?pa(s,l):ct(()=>{pa(s,l)}))}break}return t}function Sn(e,t){return{id:e,type:"select",selected:t}}function Yu(e){return{item:e,type:"add"}}function Wu(e){return{id:e,type:"remove"}}function Ku(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function Cn(e,t=new Set,n=!1){let o=[];for(let[r,i]of e){let s=t.has(r);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),o.push(Sn(i.id,s)))}return o}function oe(e){let t=new Set,n=!1,o=()=>t.size>0;e&&(n=!0,t.add(e));let r=a=>{t.delete(a)};return{on:a=>{e&&n&&t.delete(e),t.add(a);let l=()=>{r(a),e&&n&&t.add(e)};return Pi(l),{off:l}},off:r,trigger:a=>Promise.all(Array.from(t).map(l=>l(a))),hasListeners:o,fns:t}}function Xu(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Y0(e,t,n,o,r){var i,s;let a=[];for(let l of e)(l.selected||l.id===r)&&(!l.parentNode||!Qd(l,o))&&(l.draggable||t&&typeof l.draggable=="undefined")&&a.push(Ut({id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((i=l.computedPosition)==null?void 0:i.x)||0,y:n.y-((s=l.computedPosition)==null?void 0:s.y)||0},from:l.computedPosition,extent:l.extent,parentNode:l.parentNode,dimensions:l.dimensions,expandParent:l.expandParent}));return a}function ha({id:e,dragItems:t,findNode:n}){let o=[];for(let r of t){let i=n(r.id);i&&o.push(i)}return[e?o.find(r=>r.id===e):o[0],o]}function tf(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function W0(e,t,n){let[o,r,i,s]=typeof e!="string"?tf(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x!="undefined"&&typeof n.computedPosition.y!="undefined"&&typeof n.dimensions.width!="undefined"&&typeof n.dimensions.height!="undefined"?[[n.computedPosition.x+s,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-i]]:!1}function K0(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){let i=W0(r,e,o);i&&(r=i)}else t(new Ze(tt.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){let i=(o==null?void 0:o.computedPosition.x)||0,s=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+i,r[0][1]+s],[r[1][0]+i,r[1][1]+s]]}else if(r!=="parent"&&(r==null?void 0:r.range)&&Array.isArray(r.range)){let[i,s,a,l]=tf(r.padding),c=(o==null?void 0:o.computedPosition.x)||0,u=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+c+l,r.range[0][1]+u+i],[r.range[1][0]+c-s,r.range[1][1]+u-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function X0({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Ba(e,t,n,o,r){let i=X0(e.dimensions,K0(e,n,o,r)),s=jd(t,i);return{position:{x:s.x-((r==null?void 0:r.computedPosition.x)||0),y:s.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:s}}function Ai(e,t,n=ne.Left){var l,c,u;let o=((l=t==null?void 0:t.x)!=null?l:0)+e.computedPosition.x,r=((c=t==null?void 0:t.y)!=null?c:0)+e.computedPosition.y,{width:i,height:s}=t!=null?t:Q0(e);switch((u=t==null?void 0:t.position)!=null?u:n){case ne.Top:return{x:o+i/2,y:r};case ne.Right:return{x:o+i,y:r+s/2};case ne.Bottom:return{x:o+i/2,y:r+s};case ne.Left:return{x:o,y:r+s/2}}}function Zu(e=[],t){return e.length&&(t?e.find(n=>n.id===t):e[0])||null}function Z0({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:i,width:s,height:a,viewport:l}){let c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let u=Kd({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:s/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function J0(e,t,n=!1){let o=typeof e.zIndex=="number",r=o?e.zIndex:0,i=t(e.source),s=t(e.target);return!i||!s?0:(n&&(r=o?e.zIndex:Math.max(i.computedPosition.z||0,s.computedPosition.z||0)),r)}var tt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(tt||{}),Ju={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"},Ze=class extends Error{constructor(t,...n){var o;super((o=Ju[t])==null?void 0:o.call(Ju,...n)),this.name="VueFlowError",this.code=t,this.args=n}};function za(e){return"clientX"in e}function kn(e,t){var a,l;var n,o;let r=za(e),i=r?e.clientX:(n=e.touches)==null?void 0:n[0].clientX,s=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:i-((a=t==null?void 0:t.left)!=null?a:0),y:s-((l=t==null?void 0:t.top)!=null?l:0)}}var Mi=()=>{var e;return typeof navigator!="undefined"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Q0(e){var o,r,i,s;var t,n;return{width:(r=(o=(t=e.dimensions)==null?void 0:t.width)!=null?o:e.width)!=null?r:0,height:(s=(i=(n=e.dimensions)==null?void 0:n.height)!=null?i:e.height)!=null?s:0}}function nf(){return{handleDomNode:null,isValid:!1,connection:{source:"",target:"",sourceHandle:null,targetHandle:null},endHandle:null}}function ma(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Qu(e,t,n,o){let r=[];for(let i of t[n]||[])if(`${e.id}-${i.id}-${n}`!==o){let{x:s,y:a}=Ai(e,i);r.push({id:i.id||null,type:n,nodeId:e.id,x:s,y:a})}return r}function ew(e,t,n,o,r,i){let{x:s,y:a}=kn(e),c=t.elementsFromPoint(s,a).find(_=>_.classList.contains("vue-flow__handle"));if(c){let _=c.getAttribute("data-nodeid");if(_){let v=Ua(void 0,c),E=c.getAttribute("data-handleid"),O=i({nodeId:_,id:E,type:v});if(O){let D=r.find(w=>w.nodeId===_&&w.type===v&&w.id===E);return{handle:{id:E,type:v,nodeId:_,x:(D==null?void 0:D.x)||n.x,y:(D==null?void 0:D.y)||n.y},validHandleResult:O}}}}let u=[],d=Number.POSITIVE_INFINITY;for(let _ of r){let v=Math.sqrt((_.x-n.x)**2+(_.y-n.y)**2);if(v<=o){let E=i(_);v<=d&&(v<d?u=[{handle:_,validHandleResult:E}]:v===d&&u.push({handle:_,validHandleResult:E}),d=v)}}if(!u.length)return{handle:null,validHandleResult:nf()};if(u.length===1)return u[0];let f=u.some(({validHandleResult:_})=>_.isValid),m=u.some(({handle:_})=>_.type==="target");return u.find(({handle:_,validHandleResult:v})=>m?_.type==="target":f?v.isValid:!0)||u[0]}function ed(e,t,n,o,r,i,s,a,l,c,u){let d=i==="target",f=a.querySelector(`.vue-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:m,y:_}=kn(e),v=a.elementFromPoint(m,_),E=v!=null&&v.classList.contains("vue-flow__handle")?v:f,O=nf();if(E){O.handleDomNode=E;let D=Ua(void 0,E),w=E.getAttribute("data-nodeid"),C=E.getAttribute("data-handleid"),I=E.classList.contains("connectable"),U=E.classList.contains("connectableend"),q={source:d?w:o,sourceHandle:d?C:r,target:d?o:w,targetHandle:d?r:C};O.connection=q,I&&U&&(n===Yn.Strict?d&&D==="source"||!d&&D==="target":w!==o||C!==r)&&(O.isValid=s(q,{edges:l,nodes:c,sourceNode:u(q.source),targetNode:u(q.target)}),O.endHandle={nodeId:w,handleId:C,type:D,position:O.isValid?E.getAttribute("data-handlepos"):null})}return O}function tw({nodes:e,nodeId:t,handleId:n,handleType:o}){let r=[];for(let i=0;i<e.length;i++){let s=e[i],{handleBounds:a}=s,l=[],c=[];a&&(l=Qu(s,a,"source",`${t}-${n}-${o}`),c=Qu(s,a,"target",`${t}-${n}-${o}`)),r.push(...l,...c)}return r}function Ua(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function nw(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}var ow=["production","prod"];function Hi(e,...t){of()&&console.warn(`[Vue Flow]: ${e}`,...t)}function of(){return!ow.includes("production")}function td(e,t,n,o){let r=t.querySelectorAll(`.vue-flow__handle${e}`);return Array.from(r).map(s=>{let a=s.getBoundingClientRect();return W({id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o},$i(s))})}function Aa(e,t,n,o,r,i=!1,s){r.value=!1,e.selected?(i||e.selected&&t)&&(o([e]),ct(()=>{s.blur()})):n([e])}function et(e){return typeof ae(e)!="undefined"}function rw(e,t,n,o){var i;if(!e||!e.source||!e.target)return n(new Ze(tt.EDGE_INVALID,(i=e==null?void 0:e.id)!=null?i:"[ID UNKNOWN]")),!1;let r;return Tn(e)?r=e:r=Ne(W({},e),{id:Yd(e)}),r=Gd(r,void 0,o),U0(r,t)?!1:r}function iw(e,t,n,o,r,i){if(!t.source||!t.target)return i(new Ze(tt.EDGE_INVALID,e.id)),!1;let s=o(e.id);if(!s)return i(new Ze(tt.EDGE_NOT_FOUND,e.id)),!1;let u=e,{id:a}=u,l=Jn(u,["id"]),c=Ne(W({},l),{id:r?Yd(t):a,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle});return n.splice(n.indexOf(s),1,c),c}function nd(e,t,n){let o={},r=[];for(let i=0;i<e.length;++i){let s=e[i];if(!Gn(s)){n(new Ze(tt.NODE_INVALID,s==null?void 0:s.id)||`[ID UNKNOWN|INDEX ${i}]`);continue}let a=H0(s,t(s.id),s.parentNode);s.parentNode&&(o[s.parentNode]=!0),r[i]=a}for(let i of r){let s=t(i.parentNode)||r.find(a=>a.id===i.parentNode);i.parentNode&&!s&&n(new Ze(tt.NODE_MISSING_PARENT,i.id,i.parentNode)),(i.parentNode||o[i.id])&&(o[i.id]&&(i.isParent=!0),s&&(s.isParent=!0))}return r}function od(e,t){e.clear();for(let n of t){let{id:o,source:r,target:i,sourceHandle:s=null,targetHandle:a=null}=n,l=`${r}-source-${s}`,c=`${i}-target-${a}`,u=e.get(l)||new Map,d=e.get(c)||new Map,f=Ut({edgeId:o,source:r,target:i,sourceHandle:s,targetHandle:a});e.set(l,u.set(`${i}-${a}`,f)),e.set(c,d.set(`${r}-${s}`,f))}}function rd(e,t,n,o,r,i,s,a){let l=[];for(let c of e){let u=Tn(c)?c:rw(c,a,r,i);if(!u)continue;let d=n(u.source),f=n(u.target);if(!d||!f){r(new Ze(tt.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!d){r(new Ze(tt.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!f){r(new Ze(tt.EDGE_TARGET_MISSING,u.id,u.target));continue}if(t&&!t(u,{edges:a,nodes:s,sourceNode:d,targetNode:f})){r(new Ze(tt.EDGE_INVALID,u.id));continue}let m=o(u.id);l.push(Ne(W({},Gd(u,m,i)),{sourceNode:d,targetNode:f}))}return l}var id=Symbol("vueFlow"),rf=Symbol("nodeId"),sf=Symbol("nodeRef"),sw=Symbol("edgeId"),aw=Symbol("edgeRef"),Bi=Symbol("slots");function af(e){let{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodes:i,nodeExtent:s,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:d,panBy:f,findNode:m,multiSelectionActive:_,nodesSelectionActive:v,selectNodesOnDrag:E,removeSelectedElements:O,addSelectedNodes:D,updateNodePositions:w,emits:C}=Ae(),{onStart:I,onDrag:U,onStop:q,onClick:G,el:$,disabled:P,id:B,selectable:N,dragHandle:J}=e,S=ie(!1),V=[],k,F=null,H={x:void 0,y:void 0},Y={x:0,y:0},ee=null,te=!1,de=0,Z=!1,Q=uw(),ue=({x:se,y:fe})=>{H={x:se,y:fe};let we=!1;if(V=V.map(p=>{let h={x:se-p.distance.x,y:fe-p.distance.y};n.value&&(h.x=o.value[0]*Math.round(h.x/o.value[0]),h.y=o.value[1]*Math.round(h.y/o.value[1]));let{computedPosition:g}=Ba(p,h,C.error,s.value,p.parentNode?m(p.parentNode):void 0);return we=we||p.position.x!==g.x||p.position.y!==g.y,p.position=g,p}),!!we&&(w(V,!0,!0),S.value=!0,ee)){let[p,h]=ha({id:B,dragItems:V,findNode:m});U({event:ee,node:p,nodes:h})}},ke=()=>{var we,p;if(!F)return;let[se,fe]=ef(Y,F,u.value);if(se!==0||fe!==0){let h={x:((we=H.x)!=null?we:0)-se/l.value.zoom,y:((p=H.y)!=null?p:0)-fe/l.value.zoom};f({x:se,y:fe})&&ue(h)}de=requestAnimationFrame(ke)},Ee=(se,fe)=>{te=!0;let we=m(B);!E.value&&!_.value&&we&&(we.selected||O()),we&&Ve(N)&&E.value&&Aa(we,_.value,D,O,v,!1,fe);let p=Q(se);if(H=p,V=Y0(i.value,d.value,p,m,B),V.length){let[h,g]=ha({id:B,dragItems:V,findNode:m});I({event:se.sourceEvent,node:h,nodes:g})}},Oe=(se,fe)=>{var we;se.sourceEvent.type==="touchmove"&&se.sourceEvent.touches.length>1||(a.value===0&&Ee(se,fe),H=Q(se),F=((we=t.value)==null?void 0:we.getBoundingClientRect())||null,Y=kn(se.sourceEvent,F))},_e=(se,fe)=>{var p,h;let we=Q(se);if(!Z&&te&&c.value&&(Z=!0,ke()),!te){let g=we.xSnapped-((p=H.x)!=null?p:0),y=we.ySnapped-((h=H.y)!=null?h:0);Math.sqrt(g*g+y*y)>a.value&&Ee(se,fe)}(H.x!==we.xSnapped||H.y!==we.ySnapped)&&V.length&&te&&(ee=se.sourceEvent,Y=kn(se.sourceEvent,F),ue(we))},be=se=>{var fe,we;if(!te&&!S.value&&!_.value){let p=Q(se),h=p.xSnapped-((fe=H.x)!=null?fe:0),g=p.ySnapped-((we=H.y)!=null?we:0),y=Math.sqrt(h*h+g*g);y!==0&&y<=a.value&&(G==null||G(se.sourceEvent));return}if(S.value=!1,Z=!1,te=!1,H={x:void 0,y:void 0},cancelAnimationFrame(de),V.length){w(V,!1,!1);let[p,h]=ha({id:B,dragItems:V,findNode:m});q({event:se.sourceEvent,node:p,nodes:h})}};return De([()=>Ve(P),$],([se,fe],we,p)=>{if(fe){let h=Lt(fe);se||(k=jy().on("start",g=>Oe(g,fe)).on("drag",g=>_e(g,fe)).on("end",g=>be(g)).filter(g=>{let y=g.target,b=Ve(J);return!g.button&&(!r.value||!Xu(y,`.${r.value}`,fe)&&(!b||Xu(y,b,fe)))}),h.call(k)),p(()=>{h.on(".drag",null),k&&(k.on("start",null),k.on("drag",null),k.on("end",null))})}}),S}function lw(){return{doubleClick:oe(),click:oe(),mouseEnter:oe(),mouseMove:oe(),mouseLeave:oe(),contextMenu:oe(),updateStart:oe(),update:oe(),updateEnd:oe()}}function cw(e,t){let n=lw();return n.doubleClick.on(o=>{var r,i;t.edgeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.edgeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.edgeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.edgeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.edgeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.edgeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.updateStart.on(o=>{var r,i;t.edgeUpdateStart(o),(i=(r=e.events)==null?void 0:r.updateStart)==null||i.call(r,o)}),n.update.on(o=>{var r,i;t.edgeUpdate(o),(i=(r=e.events)==null?void 0:r.update)==null||i.call(r,o)}),n.updateEnd.on(o=>{var r,i;t.edgeUpdateEnd(o),(i=(r=e.events)==null?void 0:r.updateEnd)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function uw(){let{viewport:e,snapGrid:t,snapToGrid:n}=Ae();return({sourceEvent:o})=>{let r=o.touches?o.touches[0].clientX:o.clientX,i=o.touches?o.touches[0].clientY:o.clientY,s={x:(r-e.value.x)/e.value.zoom,y:(i-e.value.y)/e.value.zoom};return W({xSnapped:n.value?t.value[0]*Math.round(s.x/t.value[0]):s.x,ySnapped:n.value?t.value[1]*Math.round(s.y/t.value[1]):s.y},s)}}function yi(){return!0}function lf({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:i,onEdgeUpdateEnd:s}){let{vueFlowRef:a,connectionMode:l,connectionRadius:c,connectOnClick:u,connectionClickStartHandle:d,nodesConnectable:f,autoPanOnConnect:m,autoPanSpeed:_,findNode:v,panBy:E,startConnection:O,updateConnection:D,endConnection:w,emits:C,viewport:I,edges:U,nodes:q,isValidConnection:G}=Ae(),$=null,P=!1,B=null,N=null;function J(V){var k;let F=Ve(n)==="target",H=za(V),Y=Uu(V.target);if(H&&V.button===0||!H){let ee=function(g){fe=kn(g,be);let{handle:y,validHandleResult:b}=ew(g,Y,Ii(fe,I.value,!1,[1,1]),c.value,p,T=>ed(g,T,l.value,Ve(t),Ve(e),F?"target":"source",Z,Y,U.value,q.value,v));if(Q=y,we||(h(),we=!0),$=b.connection,P=b.isValid,B=b.handleDomNode,!(P&&Q&&(N==null?void 0:N.endHandle)&&b.endHandle&&N.endHandle.type===b.endHandle.type&&N.endHandle.nodeId===b.endHandle.nodeId&&N.endHandle.handleId===b.endHandle.handleId)){if(D(Q&&P?Wd({x:Q.x,y:Q.y},I.value):fe,b.endHandle,nw(!!Q,P)),N=b,!Q&&!P&&!B)return ma(se);$&&$.source!==$.target&&B&&(ma(se),se=B,B.classList.add("connecting","vue-flow__handle-connecting"),B.classList.toggle("valid",P),B.classList.toggle("vue-flow__handle-valid",P))}},te=function(g){(Q||B)&&$&&P&&(i?i(g,$):C.connect($)),C.connectEnd(g),r&&(s==null||s(g)),ma(se),cancelAnimationFrame(ue),w(g),we=!1,P=!1,$=null,B=null,Y.removeEventListener("mousemove",ee),Y.removeEventListener("mouseup",te),Y.removeEventListener("touchmove",ee),Y.removeEventListener("touchend",te)},de=v(Ve(t)),Z=Ve(o)||G.value||yi;!Z&&de&&(Z=(F?de.isValidSourcePos:de.isValidTargetPos)||yi);let Q,ue=0,{x:ke,y:Ee}=kn(V),Oe=Y==null?void 0:Y.elementFromPoint(ke,Ee),_e=Ua(Ve(r),Oe),be=(k=a.value)==null?void 0:k.getBoundingClientRect();if(!be||!_e)return;let se,fe=kn(V,be),we=!1,p=tw({nodes:q.value,nodeId:Ve(t),handleId:Ve(e),handleType:_e}),h=()=>{if(!m.value)return;let[g,y]=ef(fe,be,_.value);E({x:g,y}),ue=requestAnimationFrame(h)};O({nodeId:Ve(t),handleId:Ve(e),type:_e,position:(Oe==null?void 0:Oe.getAttribute("data-handlepos"))||ne.Top},{x:ke-be.left,y:Ee-be.top}),C.connectStart({event:V,nodeId:Ve(t),handleId:Ve(e),handleType:_e}),Y.addEventListener("mousemove",ee),Y.addEventListener("mouseup",te),Y.addEventListener("touchmove",ee),Y.addEventListener("touchend",te)}}function S(V){if(!u.value)return;let k=Ve(n)==="target";if(!d.value)C.clickConnectStart({event:V,nodeId:Ve(t),handleId:Ve(e)}),O({nodeId:Ve(t),type:Ve(n),handleId:Ve(e)},void 0,!0);else{let F=Ve(o)||G.value||yi,H=v(Ve(t));if(!F&&H&&(F=(k?H.isValidSourcePos:H.isValidTargetPos)||yi),H&&(typeof H.connectable=="undefined"?f.value:H.connectable)===!1)return;let Y=Uu(V.target),{connection:ee,isValid:te}=ed(V,{nodeId:Ve(t),id:Ve(e),type:Ve(n)},l.value,d.value.nodeId,d.value.handleId||null,d.value.type,F,Y,U.value,q.value,v),de=ee.source===ee.target;te&&!de&&C.connect(ee),C.clickConnectEnd(V),w(V,!0)}}return{handlePointerDown:J,handleClick:S}}function dw(){return Vt(rf,"")}function cf(e){var a;let t=(a=e!=null?e:dw())!=null?a:"",n=Vt(sf,ie(null)),{findNode:o,edges:r,emits:i}=Ae(),s=o(t);return s||i.error(new Ze(tt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:ge(()=>o(s.parentNode)),connectedEdges:ge(()=>Jd([s],r.value))}}function fw(){return{doubleClick:oe(),click:oe(),mouseEnter:oe(),mouseMove:oe(),mouseLeave:oe(),contextMenu:oe(),dragStart:oe(),drag:oe(),dragStop:oe()}}function pw(e,t){let n=fw();return n.doubleClick.on(o=>{var r,i;t.nodeDoubleClick(o),(i=(r=e.events)==null?void 0:r.doubleClick)==null||i.call(r,o)}),n.click.on(o=>{var r,i;t.nodeClick(o),(i=(r=e.events)==null?void 0:r.click)==null||i.call(r,o)}),n.mouseEnter.on(o=>{var r,i;t.nodeMouseEnter(o),(i=(r=e.events)==null?void 0:r.mouseEnter)==null||i.call(r,o)}),n.mouseMove.on(o=>{var r,i;t.nodeMouseMove(o),(i=(r=e.events)==null?void 0:r.mouseMove)==null||i.call(r,o)}),n.mouseLeave.on(o=>{var r,i;t.nodeMouseLeave(o),(i=(r=e.events)==null?void 0:r.mouseLeave)==null||i.call(r,o)}),n.contextMenu.on(o=>{var r,i;t.nodeContextMenu(o),(i=(r=e.events)==null?void 0:r.contextMenu)==null||i.call(r,o)}),n.dragStart.on(o=>{var r,i;t.nodeDragStart(o),(i=(r=e.events)==null?void 0:r.dragStart)==null||i.call(r,o)}),n.drag.on(o=>{var r,i;t.nodeDrag(o),(i=(r=e.events)==null?void 0:r.drag)==null||i.call(r,o)}),n.dragStop.on(o=>{var r,i;t.nodeDragStop(o),(i=(r=e.events)==null?void 0:r.dragStop)==null||i.call(r,o)}),Object.entries(n).reduce((o,[r,i])=>(o.emit[r]=i.trigger,o.on[r]=i.on,o),{emit:{},on:{}})}function uf(){let{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:i,nodesDraggable:s,emits:a}=Ae();return(l,c=!1)=>{let u=i.value?r.value[0]:5,d=i.value?r.value[1]:5,f=c?4:1,m=l.x*u*f,_=l.y*d*f,v=[];for(let E of e.value)if(E.draggable||s&&typeof E.draggable=="undefined"){let O={x:E.computedPosition.x+m,y:E.computedPosition.y+_},{computedPosition:D}=Ba(E,O,a.error,t.value,E.parentNode?o(E.parentNode):void 0);v.push({id:E.id,position:D,from:E.position,distance:{x:l.x,y:l.y},dimensions:E.dimensions})}n(v,!0,!1)}}var ga=.1;function xn(){return Hi("Viewport not initialized yet."),Promise.resolve(!1)}var hw={zoomIn:xn,zoomOut:xn,zoomTo:xn,fitView:xn,setCenter:xn,fitBounds:xn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:xn,setTransform:xn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function mw(e){function t(o,r){return new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleBy(va(e.d3Selection,r,()=>{i(!0)}),o):i(!1)})}function n(o,r,i,s){return new Promise(a=>{let{x:l,y:c}=jd({x:-o,y:-r},e.translateExtent),u=Oo.translate(-l,-c).scale(i);e.d3Selection&&e.d3Zoom?e.d3Zoom.transform(va(e.d3Selection,s,()=>{a(!0)}),u):a(!1)})}return ge(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r==null?void 0:r.duration),zoomOut:r=>t(1/1.2,r==null?void 0:r.duration),zoomTo:(r,i)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.scaleTo(va(e.d3Selection,i==null?void 0:i.duration,()=>{s(!0)}),r):s(!1)}),setViewport:(r,i)=>n(r.x,r.y,r.zoom,i==null?void 0:i.duration),setTransform:(r,i)=>n(r.x,r.y,r.zoom,i==null?void 0:i.duration),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:ga,includeHiddenNodes:!1,duration:0})=>{var f,m,_;var i,s;let a=[];for(let v of e.nodes)v.dimensions.width&&v.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!v.hidden)&&(!((i=r.nodes)!=null&&i.length)||((s=r.nodes)==null?void 0:s.length)&&r.nodes.includes(v.id))&&a.push(v);if(!a.length)return Promise.resolve(!1);let l=Xd(a),{x:c,y:u,zoom:d}=ju(l,e.dimensions.width,e.dimensions.height,(f=r.minZoom)!=null?f:e.minZoom,(m=r.maxZoom)!=null?m:e.maxZoom,(_=r.padding)!=null?_:ga,r.offset);return n(c,u,d,r==null?void 0:r.duration)},setCenter:(r,i,s)=>{let a=typeof(s==null?void 0:s.zoom)!="undefined"?s.zoom:e.maxZoom,l=e.dimensions.width/2-r*a,c=e.dimensions.height/2-i*a;return n(l,c,a,s==null?void 0:s.duration)},fitBounds:(r,i={padding:ga})=>{let{x:s,y:a,zoom:l}=ju(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,i.padding);return n(s,a,l,i==null?void 0:i.duration)},project:r=>Ii(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){let{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x-i,y:r.y-s};return Ii(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){let{x:i,y:s}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x+i,y:r.y+s};return Wd(a,e.viewport)}return{x:0,y:0}}}:hw)}function va(e,t=0,n){return e.transition().duration(t).on("end",n)}function gw(e,t,n){let o=jr(!0);return o.run(()=>{let r=()=>{o.run(()=>{let v,E,O=!!(n.nodes.value.length||n.edges.value.length);v=Eo([e.modelValue,()=>{var D,w;return(w=(D=e.modelValue)==null?void 0:D.value)==null?void 0:w.length}],([D])=>{D&&Array.isArray(D)&&(E==null||E.pause(),n.setElements(D),!E&&!O&&D.length?O=!0:E==null||E.resume())}),E=Eo([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([D,w])=>{var C;((C=e.modelValue)==null?void 0:C.value)&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...D,...w],ct(()=>{v==null||v.resume()}))},{immediate:O}),uo(()=>{v==null||v.stop(),E==null||E.stop()})})},i=()=>{o.run(()=>{let v,E,O=!!n.nodes.value.length;v=Eo([e.nodes,()=>{var D,w;return(w=(D=e.nodes)==null?void 0:D.value)==null?void 0:w.length}],([D])=>{D&&Array.isArray(D)&&(E==null||E.pause(),n.setNodes(D),!E&&!O&&D.length?O=!0:E==null||E.resume())}),E=Eo([n.nodes,()=>n.nodes.value.length],([D])=>{var w;((w=e.nodes)==null?void 0:w.value)&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...D],ct(()=>{v==null||v.resume()}))},{immediate:O}),uo(()=>{v==null||v.stop(),E==null||E.stop()})})},s=()=>{o.run(()=>{let v,E,O=!!n.edges.value.length;v=Eo([e.edges,()=>{var D,w;return(w=(D=e.edges)==null?void 0:D.value)==null?void 0:w.length}],([D])=>{D&&Array.isArray(D)&&(E==null||E.pause(),n.setEdges(D),!E&&!O&&D.length?O=!0:E==null||E.resume())}),E=Eo([n.edges,()=>n.edges.value.length],([D])=>{var w;((w=e.edges)==null?void 0:w.value)&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...D],ct(()=>{v==null||v.resume()}))},{immediate:O}),uo(()=>{v==null||v.stop(),E==null||E.stop()})})},a=()=>{o.run(()=>{De(()=>t.maxZoom,()=>{t.maxZoom&&et(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{De(()=>t.minZoom,()=>{t.minZoom&&et(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{o.run(()=>{De(()=>t.translateExtent,()=>{t.translateExtent&&et(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},u=()=>{o.run(()=>{De(()=>t.nodeExtent,()=>{t.nodeExtent&&et(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{De(()=>t.applyDefault,()=>{et(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{o.run(()=>{let v=E=>pt(this,null,function*(){let O=E;typeof t.autoConnect=="function"&&(O=yield t.autoConnect(E)),O!==!1&&n.addEdges([O])});De(()=>t.autoConnect,()=>{et(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),De(n.autoConnect,(E,O,D)=>{E?n.onConnect(v):n.hooks.value.connect.off(v),D(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},m=()=>{let v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(let E of Object.keys(t)){let O=E;if(!v.includes(O)){let D=$e(()=>t[O]),w=n[O];Ge(w)&&o.run(()=>{De(D,C=>{et(C)&&(w.value=C)},{immediate:!0})})}}};(()=>{r(),i(),s(),l(),a(),c(),u(),d(),f(),m()})()}),()=>o.stop()}function vw(){return{edgesChange:oe(),nodesChange:oe(),nodeDoubleClick:oe(),nodeClick:oe(),nodeMouseEnter:oe(),nodeMouseMove:oe(),nodeMouseLeave:oe(),nodeContextMenu:oe(),nodeDragStart:oe(),nodeDrag:oe(),nodeDragStop:oe(),nodesInitialized:oe(),miniMapNodeClick:oe(),miniMapNodeDoubleClick:oe(),miniMapNodeMouseEnter:oe(),miniMapNodeMouseMove:oe(),miniMapNodeMouseLeave:oe(),connect:oe(),connectStart:oe(),connectEnd:oe(),clickConnectStart:oe(),clickConnectEnd:oe(),paneReady:oe(),init:oe(),move:oe(),moveStart:oe(),moveEnd:oe(),selectionDragStart:oe(),selectionDrag:oe(),selectionDragStop:oe(),selectionContextMenu:oe(),selectionStart:oe(),selectionEnd:oe(),viewportChangeStart:oe(),viewportChange:oe(),viewportChangeEnd:oe(),paneScroll:oe(),paneClick:oe(),paneContextMenu:oe(),paneMouseEnter:oe(),paneMouseMove:oe(),paneMouseLeave:oe(),edgeContextMenu:oe(),edgeMouseEnter:oe(),edgeMouseMove:oe(),edgeMouseLeave:oe(),edgeDoubleClick:oe(),edgeClick:oe(),edgeUpdateStart:oe(),edgeUpdate:oe(),edgeUpdateEnd:oe(),updateNodeInternals:oe(),error:oe(e=>Hi(e.message))}}function _w(e,t){si(()=>{for(let[n,o]of Object.entries(t.value)){let r=i=>{e(n,i)};o.fns.add(r),Pi(()=>{o.off(r)})}})}function df(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Ha.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:cr.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:zn.Bezier,style:{}},connectionMode:Yn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Mi()?"Meta":"Control",zoomActivationKeyCode:Mi()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:vw(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}var yw=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function Ew(e,t,n){let o=mw(e),r=p=>{let h=p!=null?p:[];e.hooks.updateNodeInternals.trigger(h)},i=p=>z0(p,e.nodes,e.edges),s=p=>B0(p,e.nodes,e.edges),a=p=>Jd(p,e.edges),l=({id:p,type:h,nodeId:g})=>{var b;var y;return Array.from((b=(y=e.connectionLookup.get(`${g}-${h}-${p!=null?p:null}`))==null?void 0:y.values())!=null?b:[])},c=p=>{if(!!p)return t.value.get(p)},u=p=>{if(!!p)return n.value.get(p)},d=(p,h,g)=>{var x,M;var y,b;let T=[];for(let L of p){let R={id:L.id,type:"position",dragging:g,from:L.from};if(h&&(R.position=L.position,L.parentNode)){let K=c(L.parentNode);R.position={x:R.position.x-((x=(y=K==null?void 0:K.computedPosition)==null?void 0:y.x)!=null?x:0),y:R.position.y-((M=(b=K==null?void 0:K.computedPosition)==null?void 0:b.y)!=null?M:0)}}T.push(R)}T!=null&&T.length&&e.hooks.nodesChange.trigger(T)},f=p=>{if(!e.vueFlowRef)return;let h=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!h)return;let g=window.getComputedStyle(h),{m22:y}=new window.DOMMatrixReadOnly(g.transform),b=[];for(let T=0;T<p.length;++T){let x=p[T],M=c(x.id);if(M){let L=$i(x.nodeElement);if(!!(L.width&&L.height&&(M.dimensions.width!==L.width||M.dimensions.height!==L.height||x.forceUpdate))){let K=x.nodeElement.getBoundingClientRect();M.dimensions=L,M.handleBounds.source=td(".source",x.nodeElement,K,y),M.handleBounds.target=td(".target",x.nodeElement,K,y),b.push({id:M.id,type:"dimensions",dimensions:L})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),b.length&&e.hooks.nodesChange.trigger(b)},m=(p,h)=>{let g=new Set,y=new Set;for(let x of p)Gn(x)?g.add(x.id):Tn(x)&&y.add(x.id);let b=Cn(t.value,g,!0),T=Cn(n.value,y);if(e.multiSelectionActive){for(let x of g)b.push(Sn(x,h));for(let x of y)T.push(Sn(x,h))}b.length&&e.hooks.nodesChange.trigger(b),T.length&&e.hooks.edgesChange.trigger(T)},_=p=>{if(e.multiSelectionActive){let h=p.map(g=>Sn(g.id,!0));e.hooks.nodesChange.trigger(h);return}e.hooks.nodesChange.trigger(Cn(t.value,new Set(p.map(h=>h.id)),!0)),e.hooks.edgesChange.trigger(Cn(n.value))},v=p=>{if(e.multiSelectionActive){let h=p.map(g=>Sn(g.id,!0));e.hooks.edgesChange.trigger(h);return}e.hooks.edgesChange.trigger(Cn(n.value,new Set(p.map(h=>h.id)))),e.hooks.nodesChange.trigger(Cn(t.value,new Set,!0))},E=p=>{m(p,!0)},O=p=>{let g=(p||e.nodes).map(y=>(y.selected=!1,Sn(y.id,!1)));e.hooks.nodesChange.trigger(g)},D=p=>{let g=(p||e.edges).map(y=>(y.selected=!1,Sn(y.id,!1)));e.hooks.edgesChange.trigger(g)},w=p=>{if(!p||!p.length)return m([],!1);let h=p.reduce((g,y)=>{let b=Sn(y.id,!1);return Gn(y)?g.nodes.push(b):g.edges.push(b),g},{nodes:[],edges:[]});h.nodes.length&&e.hooks.nodesChange.trigger(h.nodes),h.edges.length&&e.hooks.edgesChange.trigger(h.edges)},C=p=>{var h;(h=e.d3Zoom)==null||h.scaleExtent([p,e.maxZoom]),e.minZoom=p},I=p=>{var h;(h=e.d3Zoom)==null||h.scaleExtent([e.minZoom,p]),e.maxZoom=p},U=p=>{var h;(h=e.d3Zoom)==null||h.translateExtent(p),e.translateExtent=p},q=p=>{e.nodeExtent=p,r()},G=p=>{var h;(h=e.d3Zoom)==null||h.clickDistance(p)},$=p=>{e.nodesDraggable=p,e.nodesConnectable=p,e.elementsSelectable=p},P=p=>{let h=p instanceof Function?p(e.nodes):p;!e.initialized&&!h.length||(e.nodes=nd(h,c,e.hooks.error.trigger))},B=p=>{let h=p instanceof Function?p(e.edges):p;if(!e.initialized&&!h.length)return;let g=rd(h,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);od(e.connectionLookup,g),e.edges=g},N=p=>{let h=p instanceof Function?p([...e.nodes,...e.edges]):p;!e.initialized&&!h.length||(P(h.filter(Gn)),B(h.filter(Tn)))},J=p=>{let h=p instanceof Function?p(e.nodes):p;h=Array.isArray(h)?h:[h];let g=nd(h,c,e.hooks.error.trigger),y=[];for(let b of g)y.push(Yu(b));y.length&&e.hooks.nodesChange.trigger(y)},S=p=>{let h=p instanceof Function?p(e.edges):p;h=Array.isArray(h)?h:[h];let g=rd(h,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),y=[];for(let b of g)y.push(Yu(b));y.length&&e.hooks.edgesChange.trigger(y)},V=(p,h=!0,g=!1)=>{let y=p instanceof Function?p(e.nodes):p,b=Array.isArray(y)?y:[y],T=[],x=[];function M(R){let K=a(R);for(let j of K)(!et(j.deletable)||j.deletable)&&x.push(Ku(j.id,j.source,j.target,j.sourceHandle,j.targetHandle))}function L(R){let K=[];for(let j of e.nodes)j.parentNode===R&&K.push(j);if(K.length){for(let j of K)T.push(Wu(j.id));h&&M(K);for(let j of K)L(j.id)}}for(let R of b){let K=typeof R=="string"?c(R):R;!K||et(K.deletable)&&!K.deletable||(T.push(Wu(K.id)),h&&M([K]),g&&L(K.id))}x.length&&e.hooks.edgesChange.trigger(x),T.length&&e.hooks.nodesChange.trigger(T)},k=p=>{let h=p instanceof Function?p(e.edges):p,g=Array.isArray(h)?h:[h],y=[];for(let b of g){let T=typeof b=="string"?u(b):b;!T||et(T.deletable)&&!T.deletable||y.push(Ku(typeof b=="string"?b:b.id,T.source,T.target,T.sourceHandle,T.targetHandle))}e.hooks.edgesChange.trigger(y)},F=(p,h,g=!0)=>iw(p,h,e.edges,u,g,e.hooks.error.trigger),H=(p,h,g={replace:!1})=>{let y=u(p);if(!y)return;let b=typeof h=="function"?h(y):h;y.data=g.replace?b:W(W({},y.data),b)},Y=p=>qu(p,e.nodes),ee=p=>{let h=qu(p,e.edges);return od(e.connectionLookup,h),h},te=(p,h,g={replace:!1})=>{let y=c(p);if(!y)return;let b=typeof h=="function"?h(y):h;g.replace?e.nodes.splice(e.nodes.indexOf(y),1,b):Object.assign(y,b)},de=(p,h,g={replace:!1})=>{let y=c(p);if(!y)return;let b=typeof h=="function"?h(y):h;y.data=g.replace?b:W(W({},y.data),b)},Z=(p,h,g=!1)=>{g?e.connectionClickStartHandle=p:e.connectionStartHandle=p,e.connectionEndHandle=null,e.connectionStatus=null,h&&(e.connectionPosition=h)},Q=(p,h=null,g=null)=>{e.connectionStartHandle&&(e.connectionPosition=p,e.connectionEndHandle=h,e.connectionStatus=g)},ue=(p,h)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,h?e.connectionClickStartHandle=null:e.connectionStartHandle=null},ke=p=>{let h=$0(p),g=h?null:lr(p)?p:c(p.id);return!h&&!g?[null,null,h]:[h?p:Da(g),g,h]},Ee=(p,h=!0,g=e.nodes)=>{let[y,b,T]=ke(p);if(!y)return[];let x=[];for(let M of g||e.nodes){if(!T&&(M.id===b.id||!M.computedPosition))continue;let L=Da(M),R=Ia(L,y);(h&&R>0||R>=Number(y.width)*Number(y.height))&&x.push(M)}return x},Oe=(p,h,g=!0)=>{let[y]=ke(p);if(!y)return!1;let b=Ia(y,h);return g&&b>0||b>=Number(y.width)*Number(y.height)},_e=p=>{let{viewport:h,dimensions:g,d3Zoom:y,d3Selection:b,translateExtent:T}=e;if(!y||!b||!p.x&&!p.y)return!1;let x=Oo.translate(h.x+p.x,h.y+p.y).scale(h.zoom),M=[[0,0],[g.width,g.height]],L=y.constrain()(x,M,T),R=e.viewport.x!==L.x||e.viewport.y!==L.y||e.viewport.zoom!==L.k;return y.transform(b,L),R},be=p=>{let h=p instanceof Function?p(e):p,g=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];et(h.defaultEdgeOptions)&&(e.defaultEdgeOptions=h.defaultEdgeOptions);let y=h.modelValue||h.nodes||h.edges?[]:void 0;y&&(h.modelValue&&y.push(...h.modelValue),h.nodes&&y.push(...h.nodes),h.edges&&y.push(...h.edges),N(y));let b=()=>{et(h.maxZoom)&&I(h.maxZoom),et(h.minZoom)&&C(h.minZoom),et(h.translateExtent)&&U(h.translateExtent)};for(let T of Object.keys(h)){let x=T,M=h[x];![...yw,...g].includes(x)&&et(M)&&(e[x]=M)}ya(()=>e.d3Zoom).not.toBeNull().then(b),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:N,setNodes:P,setEdges:B,addNodes:J,addEdges:S,removeNodes:V,removeEdges:k,findNode:c,findEdge:u,updateEdge:F,updateEdgeData:H,updateNode:te,updateNodeData:de,applyEdgeChanges:ee,applyNodeChanges:Y,addSelectedElements:E,addSelectedNodes:_,addSelectedEdges:v,setMinZoom:C,setMaxZoom:I,setTranslateExtent:U,setNodeExtent:q,setPaneClickDistance:G,removeSelectedElements:w,removeSelectedNodes:O,removeSelectedEdges:D,startConnection:Z,updateConnection:Q,endConnection:ue,setInteractive:$,setState:be,getIntersectingNodes:Ee,getIncomers:i,getOutgoers:s,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:Oe,panBy:_e,fitView:p=>o.value.fitView(p),zoomIn:p=>o.value.zoomIn(p),zoomOut:p=>o.value.zoomOut(p),zoomTo:(p,h)=>o.value.zoomTo(p,h),setViewport:(p,h)=>o.value.setViewport(p,h),setTransform:(p,h)=>o.value.setTransform(p,h),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(p,h,g)=>o.value.setCenter(p,h,g),fitBounds:(p,h)=>o.value.fitBounds(p,h),project:p=>o.value.project(p),screenToFlowCoordinate:p=>o.value.screenToFlowCoordinate(p),flowToScreenCoordinate:p=>o.value.flowToScreenCoordinate(p),toObject:()=>{let p=[],h=[];for(let b of e.nodes){let g=b,{computedPosition:T,handleBounds:x,selected:M,dimensions:L,isParent:R,resizing:K,dragging:j,events:re}=g,pe=Jn(g,["computedPosition","handleBounds","selected","dimensions","isParent","resizing","dragging","events"]);p.push(pe)}for(let b of e.edges){let y=b,{selected:T,sourceNode:x,targetNode:M,events:L}=y,R=Jn(y,["selected","sourceNode","targetNode","events"]);h.push(R)}return JSON.parse(JSON.stringify({nodes:p,edges:h,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:p=>new Promise(h=>{let{nodes:g,edges:y,position:b,zoom:T,viewport:x}=p;if(g&&P(g),y&&B(y),(x==null?void 0:x.x)&&(x==null?void 0:x.y)||b){let M=(x==null?void 0:x.x)||b[0],L=(x==null?void 0:x.y)||b[1],R=(x==null?void 0:x.zoom)||T||e.viewport.zoom;return ya(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:M,y:L,zoom:R}).then(()=>{h(!0)})})}else h(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{var h,g,y;let p=df();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){let b=Oo.translate((h=p.defaultViewport.x)!=null?h:0,(g=p.defaultViewport.y)!=null?g:0).scale(Wn((y=p.defaultViewport.zoom)!=null?y:1,p.minZoom,p.maxZoom)),T=e.viewportRef.getBoundingClientRect(),x=[[0,0],[T.width,T.height]],M=e.d3Zoom.constrain()(b,x,p.translateExtent);e.d3Zoom.transform(e.d3Selection,M)}be(p)},$destroy:()=>{}}}var ww=["data-id","data-handleid","data-nodeid","data-handlepos"],bw={name:"Handle",compatConfig:{MODE:3}},xt=me(Ne(W({},bw),{props:{id:{default:null},type:{},position:{default:()=>ne.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){let n=Js(e,["position","connectable","connectableStart","connectableEnd","id"]),o=$e(()=>{var P;return(P=n.type)!=null?P:"source"}),r=$e(()=>{var P;return(P=n.isValidConnection)!=null?P:null}),{connectionStartHandle:i,connectionClickStartHandle:s,connectionEndHandle:a,vueFlowRef:l,nodesConnectable:c,noDragClassName:u,noPanClassName:d}=Ae(),{id:f,node:m,nodeEl:_,connectedEdges:v}=cf(),E=ie(),O=$e(()=>typeof e.connectableStart!="undefined"?e.connectableStart:!0),D=$e(()=>typeof e.connectableEnd!="undefined"?e.connectableEnd:!0),w=$e(()=>{var P,B,N,J,S,V;return((P=i.value)==null?void 0:P.nodeId)===f&&((B=i.value)==null?void 0:B.handleId)===e.id&&((N=i.value)==null?void 0:N.type)===o.value||((J=a.value)==null?void 0:J.nodeId)===f&&((S=a.value)==null?void 0:S.handleId)===e.id&&((V=a.value)==null?void 0:V.type)===o.value}),C=$e(()=>{var P,B,N;return((P=s.value)==null?void 0:P.nodeId)===f&&((B=s.value)==null?void 0:B.handleId)===e.id&&((N=s.value)==null?void 0:N.type)===o.value}),{handlePointerDown:I,handleClick:U}=lf({nodeId:f,handleId:e.id,isValidConnection:r,type:o}),q=ge(()=>typeof e.connectable=="string"&&e.connectable==="single"?!v.value.some(P=>{let B=P[`${o.value}Handle`];return P[o.value]!==f?!1:B?B===e.id:!0}):typeof e.connectable=="number"?v.value.filter(P=>{let B=P[`${o.value}Handle`];return P[o.value]!==f?!1:B?B===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(m,v.value):et(e.connectable)?e.connectable:c.value);nt(()=>{var H;var P;if(!m.dimensions.width||!m.dimensions.height)return;let B=(P=m.handleBounds[o.value])==null?void 0:P.find(Y=>Y.id===e.id);if(!l.value||B)return;let N=l.value.querySelector(".vue-flow__transformationpane");if(!_.value||!E.value||!N||!e.id)return;let J=_.value.getBoundingClientRect(),S=E.value.getBoundingClientRect(),V=window.getComputedStyle(N),{m22:k}=new window.DOMMatrixReadOnly(V.transform),F=W({id:e.id,position:e.position,x:(S.left-J.left)/k,y:(S.top-J.top)/k},$i(E.value));m.handleBounds[o.value]=[...(H=m.handleBounds[o.value])!=null?H:[],F]}),_o(()=>{let P=m.handleBounds[o.value];P&&(m.handleBounds[o.value]=P.filter(B=>B.id!==e.id))});function G(P){let B=za(P);q.value&&O.value&&(B&&P.button===0||!B)&&I(P)}function $(P){!f||!s.value&&!O.value||q.value&&U(P)}return t({handleClick:U,handlePointerDown:I,onClick:$,onPointerDown:G}),(P,B)=>(z(),X("div",{ref_key:"handle",ref:E,"data-id":`${ae(f)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":ae(f),"data-handlepos":P.position,class:Be(["vue-flow__handle",[`vue-flow__handle-${P.position}`,`vue-flow__handle-${e.id}`,ae(u),ae(d),o.value,{connectable:q.value,connecting:C.value,connectablestart:O.value,connectableend:D.value,connectionindicator:q.value&&(O.value&&!w.value||D.value&&w.value)}]]),onMousedown:G,onTouchstartPassive:G,onClick:$},[it(P.$slots,"default",{id:P.id})],42,ww))}})),zi=function({sourcePosition:e=ne.Bottom,targetPosition:t=ne.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:i,data:s}){let a=s.label||n;return[Ie(xt,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof a!="string"&&a?Ie(a):Ie("div",{innerHTML:a}),Ie(xt,{type:"source",position:e,connectable:o,isValidConnection:i})]};zi.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];zi.inheritAttrs=!1;zi.compatConfig={MODE:3};var Nw=zi,Ui=function({targetPosition:e=ne.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){let i=r.label||t;return[Ie(xt,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof i!="string"&&i?Ie(i):Ie("div",{innerHTML:i})]};Ui.props=["targetPosition","label","isValidTargetPos","connectable","data"];Ui.inheritAttrs=!1;Ui.compatConfig={MODE:3};var xw=Ui,ji=function({sourcePosition:e=ne.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){let i=r.label||t;return[typeof i!="string"&&i?Ie(i):Ie("div",{innerHTML:i}),Ie(xt,{type:"source",position:e,connectable:n,isValidConnection:o})]};ji.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ji.inheritAttrs=!1;ji.compatConfig={MODE:3};var Sw=ji,Ow=["transform"],Cw=["width","height","x","y","rx","ry"],kw=["y"],Tw={name:"EdgeText",compatConfig:{MODE:3}},Dw=me(Ne(W({},Tw),{props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){let t=ie({x:0,y:0,width:0,height:0}),n=ie(null),o=ge(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);nt(r),De([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;let i=n.value.getBBox();(i.width!==t.value.width||i.height!==t.value.height)&&(t.value=i)}return(i,s)=>(z(),X("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[i.labelShowBg?(z(),X("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*i.labelBgPadding[0]}px`,height:`${t.value.height+2*i.labelBgPadding[1]}px`,x:-i.labelBgPadding[0],y:-i.labelBgPadding[1],style:Ke(i.labelBgStyle),rx:i.labelBgBorderRadius,ry:i.labelBgBorderRadius},null,12,Cw)):le("",!0),A("text",oa(i.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:i.labelStyle}),[it(i.$slots,"default",{},()=>[typeof i.label!="string"?(z(),He(wc(i.label),{key:0})):(z(),X(xe,{key:1},[ut(Ce(i.label),1)],64))])],16,kw)],8,Ow))}})),Iw=["id","d","marker-end","marker-start"],Aw=["d","stroke-width"],Mw={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Gi=me(Ne(W({},Mw),{props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},style:{},labelStyle:{},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){let n=Js(e,["interactionWidth","labelShowBg"]),o=ie(null),r=ie(null),i=ie(null),s=Sc();return t({pathEl:o,interactionEl:r,labelEl:i}),(a,l)=>(z(),X(xe,null,[A("path",{id:a.id,ref_key:"pathEl",ref:o,d:a.path,style:Ke(n.style),class:Be(["vue-flow__edge-path",ae(s).class]),"marker-end":a.markerEnd,"marker-start":a.markerStart},null,14,Iw),a.interactionWidth?(z(),X("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Aw)):le("",!0),a.label&&a.labelX&&a.labelY?(z(),He(Dw,{key:1,ref_key:"labelEl",ref:i,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):le("",!0)],64))}}));function ff({sourceX:e,sourceY:t,targetX:n,targetY:o}){let r=Math.abs(n-e)/2,i=n<e?n+r:n-r,s=Math.abs(o-t)/2,a=o<t?o+s:o-s;return[i,a,r,s]}function pf({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:s,targetControlY:a}){let l=e*.125+r*.375+s*.375+n*.125,c=t*.125+i*.375+a*.375+o*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function Ei(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function sd({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){let s,a;switch(e){case ne.Left:s=t-Ei(t-o,i),a=n;break;case ne.Right:s=t+Ei(o-t,i),a=n;break;case ne.Top:s=t,a=n-Ei(n-r,i);break;case ne.Bottom:s=t,a=n+Ei(r-n,i);break}return[s,a]}function hf(e){let{sourceX:t,sourceY:n,sourcePosition:o=ne.Bottom,targetX:r,targetY:i,targetPosition:s=ne.Top,curvature:a=.25}=e,[l,c]=sd({pos:o,x1:t,y1:n,x2:r,y2:i,c:a}),[u,d]=sd({pos:s,x1:r,y1:i,x2:t,y2:n,c:a}),[f,m,_,v]=pf({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${n} C${l},${c} ${u},${d} ${r},${i}`,f,m,_,v]}function ad({pos:e,x1:t,y1:n,x2:o,y2:r}){let i,s;switch(e){case ne.Left:case ne.Right:i=.5*(t+o),s=n;break;case ne.Top:case ne.Bottom:i=t,s=.5*(n+r);break}return[i,s]}function mf(e){let{sourceX:t,sourceY:n,sourcePosition:o=ne.Bottom,targetX:r,targetY:i,targetPosition:s=ne.Top}=e,[a,l]=ad({pos:o,x1:t,y1:n,x2:r,y2:i}),[c,u]=ad({pos:s,x1:r,y1:i,x2:t,y2:n}),[d,f,m,_]=pf({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${t},${n} C${a},${l} ${c},${u} ${r},${i}`,d,f,m,_]}var ld={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}};function Pw({source:e,sourcePosition:t=ne.Bottom,target:n}){return t===ne.Left||t===ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function cd(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Vw({source:e,sourcePosition:t=ne.Bottom,target:n,targetPosition:o=ne.Top,center:r,offset:i}){var q,G;let s=ld[t],a=ld[o],l={x:e.x+s.x*i,y:e.y+s.y*i},c={x:n.x+a.x*i,y:n.y+a.y*i},u=Pw({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d],m,_,v,E={x:0,y:0},O={x:0,y:0},[D,w,C,I]=ff({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){_=(q=r.x)!=null?q:D,v=(G=r.y)!=null?G:w;let $=[{x:_,y:l.y},{x:_,y:c.y}],P=[{x:l.x,y:v},{x:c.x,y:v}];s[d]===f?m=d==="x"?$:P:m=d==="x"?P:$}else{let $=[{x:l.x,y:c.y}],P=[{x:c.x,y:l.y}];if(d==="x"?m=s.x===f?P:$:m=s.y===f?$:P,t===o){let V=Math.abs(e[d]-n[d]);if(V<=i){let k=Math.min(i-1,i-V);s[d]===f?E[d]=(l[d]>e[d]?-1:1)*k:O[d]=(c[d]>n[d]?-1:1)*k}}if(t!==o){let V=d==="x"?"y":"x",k=s[d]===a[V],F=l[V]>c[V],H=l[V]<c[V];(s[d]===1&&(!k&&F||k&&H)||s[d]!==1&&(!k&&H||k&&F))&&(m=d==="x"?$:P)}let B={x:l.x+E.x,y:l.y+E.y},N={x:c.x+O.x,y:c.y+O.y},J=Math.max(Math.abs(B.x-m[0].x),Math.abs(N.x-m[0].x)),S=Math.max(Math.abs(B.y-m[0].y),Math.abs(N.y-m[0].y));J>=S?(_=(B.x+N.x)/2,v=m[0].y):(_=m[0].x,v=(B.y+N.y)/2)}return[[e,{x:l.x+E.x,y:l.y+E.y},...m,{x:c.x+O.x,y:c.y+O.y},n],_,v,C,I]}function Rw(e,t,n,o){let r=Math.min(cd(e,t)/2,cd(t,n)/2,o),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){let c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${i+r*c},${s}Q ${i},${s} ${i},${s+r*u}`}let a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${s+r*l}Q ${i},${s} ${i+r*a},${s}`}function Ma(e){let{sourceX:t,sourceY:n,sourcePosition:o=ne.Bottom,targetX:r,targetY:i,targetPosition:s=ne.Top,borderRadius:a=5,centerX:l,centerY:c,offset:u=20}=e,[d,f,m,_,v]=Vw({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:i},targetPosition:s,center:{x:l,y:c},offset:u});return[d.reduce((O,D,w)=>{let C;return w>0&&w<d.length-1?C=Rw(d[w-1],D,d[w+1],a):C=`${w===0?"M":"L"}${D.x} ${D.y}`,O+=C,O},""),f,m,_,v]}function Lw(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[i,s,a,l]=ff({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,i,s,a,l]}var Fw=me({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{let[n,o,r]=Lw(e);return Ie(Gi,W(W({path:n,labelX:o,labelY:r},t),e))}}}),$w=Fw,Hw=me({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,s;let[n,o,r]=Ma(Ne(W({},e),{sourcePosition:(i=e.sourcePosition)!=null?i:ne.Bottom,targetPosition:(s=e.targetPosition)!=null?s:ne.Top}));return Ie(Gi,W(W({path:n,labelX:o,labelY:r},t),e))}}}),gf=Hw,Bw=me({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Ie(gf,Ne(W(W({},e),t),{borderRadius:0}))}}),zw=Bw,Uw=me({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,s;let[n,o,r]=hf(Ne(W({},e),{sourcePosition:(i=e.sourcePosition)!=null?i:ne.Bottom,targetPosition:(s=e.targetPosition)!=null?s:ne.Top}));return Ie(Gi,W(W({path:n,labelX:o,labelY:r},t),e))}}}),jw=Uw,Gw=me({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{var i,s;let[n,o,r]=mf(Ne(W({},e),{sourcePosition:(i=e.sourcePosition)!=null?i:ne.Bottom,targetPosition:(s=e.targetPosition)!=null?s:ne.Top}));return Ie(Gi,W(W({path:n,labelX:o,labelY:r},t),e))}}}),qw=Gw,Yw={input:Sw,default:Nw,output:xw},Ww={default:jw,straight:$w,step:zw,smoothstep:gf,simplebezier:qw};function Kw(e,t,n){let o=ge(()=>v=>t.value.get(v)),r=ge(()=>v=>n.value.get(v)),i=ge(()=>{let v=W(W({},Ww),e.edgeTypes),E=Object.keys(v);for(let O of e.edges)O.type&&!E.includes(O.type)&&(v[O.type]=O.type);return v}),s=ge(()=>{let v=W(W({},Yw),e.nodeTypes),E=Object.keys(v);for(let O of e.nodes)O.type&&!E.includes(O.type)&&(v[O.type]=O.type);return v}),a=ge(()=>e.onlyRenderVisibleElements?Zd(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=ge(()=>{if(e.onlyRenderVisibleElements){let v=[];for(let E of e.edges){let O=t.value.get(E.source),D=t.value.get(E.target);Z0({sourcePos:O.computedPosition||{x:0,y:0},targetPos:D.computedPosition||{x:0,y:0},sourceWidth:O.dimensions.width,sourceHeight:O.dimensions.height,targetWidth:D.dimensions.width,targetHeight:D.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(E)}return v}return e.edges}),c=ge(()=>[...a.value,...l.value]),u=ge(()=>{let v=[];for(let E of e.nodes)E.selected&&v.push(E);return v}),d=ge(()=>{let v=[];for(let E of e.edges)E.selected&&v.push(E);return v}),f=ge(()=>[...u.value,...d.value]),m=ge(()=>{let v=[];for(let E of e.nodes)!!E.dimensions.width&&!!E.dimensions.height&&E.handleBounds!==void 0&&v.push(E);return v}),_=ge(()=>a.value.length>0&&m.value.length===a.value.length);return{getNode:o,getEdge:r,getElements:c,getEdgeTypes:i,getNodeTypes:s,getEdges:l,getNodes:a,getSelectedElements:f,getSelectedNodes:u,getSelectedEdges:d,getNodesInitialized:m,areNodesInitialized:_}}var un=class{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var r;var t;let n=(t=on())==null?void 0:t.appContext.app,o=(r=n==null?void 0:n.config.globalProperties.$vueFlowStorage)!=null?r:un.instance;return un.instance=o!=null?o:new un,n&&(n.config.globalProperties.$vueFlowStorage=un.instance),un.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){let o=df(),r=Vn(o),i={};for(let[f,m]of Object.entries(r.hooks)){let _=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;i[_]=m.on}let s={};for(let[f,m]of Object.entries(r.hooks))s[f]=m.trigger;let a=ge(()=>{let f=new Map;for(let m of r.nodes)f.set(m.id,m);return f}),l=ge(()=>{let f=new Map;for(let m of r.edges)f.set(m.id,m);return f}),c=Kw(r,a,l),u=Ew(r,a,l);u.setState(W(W({},r),n));let d=Ne(W(W(W(W({},i),c),u),Qv(r)),{nodeLookup:a,edgeLookup:l,emits:s,id:t,vueFlowVersion:"1.41.2",$destroy:()=>{this.remove(t)}});return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}};function Ae(e){let t=un.getInstance(),n=Ho(),o=typeof e=="object",r=o?e:{id:e},i=r.id,s=i!=null?i:n==null?void 0:n.vueFlowId,a;if(n){let l=Vt(id,null);typeof l!="undefined"&&l!==null&&(!s||l.id===s)&&(a=l)}if(a||s&&(a=t.get(s)),!a||s&&a.id!==s){let l=i!=null?i:t.getId(),c=t.create(l,r);a=c,(n!=null?n:jr(!0)).run(()=>{De(c.applyDefault,(d,f,m)=>{let _=E=>{c.applyNodeChanges(E)},v=E=>{c.applyEdgeChanges(E)};d?(c.onNodesChange(_),c.onEdgesChange(v)):(c.hooks.value.nodesChange.off(_),c.hooks.value.edgesChange.off(v)),m(()=>{c.hooks.value.nodesChange.off(_),c.hooks.value.edgesChange.off(v)})},{immediate:!0}),Pi(()=>{if(a){let d=t.get(a.id);d?d.$destroy():Hi(`No store instance found for id ${a.id} in storage.`)}})})}else o&&a.setState(r);if(n&&(En(id,a),n.vueFlowId=a.id),o){let l=on();(l==null?void 0:l.type.name)!=="VueFlow"&&a.emits.error(new Ze(tt.USEVUEFLOW_OPTIONS))}return a}function Xw(e){let{emits:t,dimensions:n}=Ae(),o;nt(()=>{let r=e.value,i=()=>{if(!r)return;let s=$i(r);(s.width===0||s.height===0)&&t.error(new Ze(tt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};i(),window.addEventListener("resize",i),r&&(o=new ResizeObserver(()=>i()),o.observe(r)),$n(()=>{window.removeEventListener("resize",i),o&&r&&o.unobserve(r)})})}var Zw={name:"UserSelection",compatConfig:{MODE:3}},Jw=me(Ne(W({},Zw),{props:{userSelectionRect:{}},setup(e){return(t,n)=>(z(),X("div",{class:"vue-flow__selection vue-flow__container",style:Ke({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}})),Qw=["tabIndex"],eb={name:"NodesSelection",compatConfig:{MODE:3}},tb=me(Ne(W({},eb),{setup(e){let{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:i,userSelectionActive:s}=Ae(),a=uf(),l=ie(null),c=af({el:l,onStart(_){t.selectionDragStart(_)},onDrag(_){t.selectionDrag(_)},onStop(_){t.selectionDragStop(_)}});nt(()=>{var _;i.value||(_=l.value)==null||_.focus({preventScroll:!0})});let u=ge(()=>Xd(o.value)),d=ge(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}));function f(_){t.selectionContextMenu({event:_,nodes:o.value})}function m(_){i||No[_.key]&&a({x:No[_.key].x,y:No[_.key].y},_.shiftKey)}return(_,v)=>!ae(s)&&u.value.width&&u.value.height?(z(),X("div",{key:0,class:Be(["vue-flow__nodesselection vue-flow__container",ae(r)]),style:Ke({transform:`translate(${ae(n).x}px,${ae(n).y}px) scale(${ae(n).zoom})`})},[A("div",{ref_key:"el",ref:l,class:Be([{dragging:ae(c)},"vue-flow__nodesselection-rect"]),style:Ke(d.value),tabIndex:ae(i)?void 0:-1,onContextmenu:f,onKeydown:m},null,46,Qw)],6)):le("",!0)}}));function nb(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var ob={name:"Pane",compatConfig:{MODE:3}},rb=me(Ne(W({},ob),{props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){let{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:i,removeSelectedElements:s,panOnDrag:a,userSelectionRect:l,elementsSelectable:c,nodesSelectionActive:u,getSelectedEdges:d,getSelectedNodes:f,removeNodes:m,removeEdges:_,selectionMode:v,deleteKeyCode:E,multiSelectionKeyCode:O,multiSelectionActive:D,edgeLookup:w,nodeLookup:C}=Ae(),I=ie(null),U=ie(0),q=ie(0),G=ie(),$=ie(new Map),P=$e(()=>c.value&&(e.isSelecting||i.value)),B=!1,N=!1,J=ur(E,{actInsideInputWithModifier:!1}),S=ur(O);De(J,Z=>{!Z||(m(f.value),_(d.value),u.value=!1)}),De(S,Z=>{D.value=Z});function V(Z,Q){return ue=>{ue.target===Q&&(Z==null||Z(ue))}}function k(){i.value=!1,l.value=null,U.value=0,q.value=0}function F(Z){if(B){B=!1;return}r.paneClick(Z),s(),u.value=!1}function H(Z){var Q;if(Array.isArray(a.value)&&((Q=a.value)==null?void 0:Q.includes(2))){Z.preventDefault();return}r.paneContextMenu(Z)}function Y(Z){r.paneScroll(Z)}function ee(Z){var Q,ue,ke,Ee,Oe;if(G.value=(Q=t.value)==null?void 0:Q.getBoundingClientRect(),!c.value||!e.isSelecting||Z.button!==0||Z.target!==I.value||!G.value)return;(ke=(ue=Z.target)==null?void 0:ue.setPointerCapture)==null||ke.call(ue,Z.pointerId);let{x:_e,y:be}=nb(Z,G.value);N=!0,B=!1,$.value=new Map;for(let[se,fe]of w.value)$.value.set(fe.source,((Ee=$.value.get(fe.source))==null?void 0:Ee.add(se))||new Set([se])),$.value.set(fe.target,((Oe=$.value.get(fe.target))==null?void 0:Oe.add(se))||new Set([se]));s(),l.value={width:0,height:0,startX:_e,startY:be,x:_e,y:be},r.selectionStart(Z)}function te(Z){if(!G.value||!l.value)return;B=!0;let{x:Q,y:ue}=kn(Z,G.value),{startX:ke=0,startY:Ee=0}=l.value,Oe={startX:ke,startY:Ee,x:Q<ke?Q:ke,y:ue<Ee?ue:Ee,width:Math.abs(Q-ke),height:Math.abs(ue-Ee)},_e=Zd(n.value,Oe,o.value,v.value===Ha.Partial,!0),be=new Set,se=new Set;for(let fe of _e){se.add(fe.id);let we=$.value.get(fe.id);if(we)for(let p of we)be.add(p)}if(U.value!==se.size){U.value=se.size;let fe=Cn(C.value,se,!0);r.nodesChange(fe)}if(q.value!==be.size){q.value=be.size;let fe=Cn(w.value,be);r.edgesChange(fe)}l.value=Oe,i.value=!0,u.value=!1}function de(Z){var Q;Z.button!==0||!N||((Q=Z.target)==null||Q.releasePointerCapture(Z.pointerId),!i.value&&l.value&&Z.target===I.value&&F(Z),U.value>0&&(u.value=!0),k(),r.selectionEnd(Z),e.selectionKeyPressed&&(B=!1),N=!1)}return(Z,Q)=>(z(),X("div",{ref_key:"container",ref:I,class:Be(["vue-flow__pane vue-flow__container",{selection:Z.isSelecting}]),onClick:Q[0]||(Q[0]=ue=>P.value?void 0:V(F,I.value)(ue)),onContextmenu:Q[1]||(Q[1]=ue=>V(H,I.value)(ue)),onWheelPassive:Q[2]||(Q[2]=ue=>V(Y,I.value)(ue)),onPointerenter:Q[3]||(Q[3]=ue=>P.value?void 0:ae(r).paneMouseEnter(ue)),onPointerdown:Q[4]||(Q[4]=ue=>P.value?ee(ue):ae(r).paneMouseMove(ue)),onPointermove:Q[5]||(Q[5]=ue=>P.value?te(ue):ae(r).paneMouseMove(ue)),onPointerup:Q[6]||(Q[6]=ue=>P.value?de(ue):void 0),onPointerleave:Q[7]||(Q[7]=ue=>ae(r).paneMouseLeave(ue))},[it(Z.$slots,"default"),ae(i)&&ae(l)?(z(),He(Jw,{key:0,"user-selection-rect":ae(l)},null,8,["user-selection-rect"])):le("",!0),ae(u)&&ae(f).length?(z(),He(tb,{key:1})):le("",!0)],34))}})),ib={name:"Transform",compatConfig:{MODE:3}},sb=me(Ne(W({},ib),{setup(e){let{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Ae(),r=ge(()=>n.value?!o.value:!1),i=ge(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,a)=>(z(),X("div",{class:"vue-flow__transformationpane vue-flow__container",style:Ke({transform:i.value,opacity:r.value?0:void 0})},[it(s.$slots,"default")],4))}})),ab={name:"Viewport",compatConfig:{MODE:3}},lb=me(Ne(W({},ab),{setup(e){let{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:i,selectionKeyCode:s,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:m,zoomOnScroll:_,preventScrolling:v,noWheelClassName:E,noPanClassName:O,emits:D,connectionStartHandle:w,userSelectionActive:C,paneDragging:I,d3Zoom:U,d3Selection:q,d3ZoomHandler:G,viewport:$,viewportRef:P,paneClickDistance:B}=Ae();Xw(P);let N=ie(!1),J=ie(!1),S=null,V=!1,k=0,F={x:0,y:0,zoom:0},H=ur(a),Y=ur(s),ee=ur(i),te=$e(()=>!Y.value&&(H.value||d.value)),de=$e(()=>H.value||l.value),Z=$e(()=>Y.value||s.value===!0&&te.value!==!0);nt(()=>{var y,b,T;if(!P.value){Hi("Viewport element is missing");return}let _e=P.value,be=_e.getBoundingClientRect(),se=P0().clickDistance(B.value).scaleExtent([t.value,n.value]).translateExtent(r.value),fe=Lt(_e).call(se),we=fe.on("wheel.zoom"),p=Oo.translate((y=o.value.x)!=null?y:0,(b=o.value.y)!=null?b:0).scale(Wn((T=o.value.zoom)!=null?T:1,t.value,n.value)),h=[[0,0],[be.width,be.height]],g=se.constrain()(p,h,r.value);se.transform(fe,g),se.wheelDelta(ue),U.value=se,q.value=fe,G.value=we,$.value={x:g.x,y:g.y,zoom:g.k},se.on("start",x=>{var M;if(!x.sourceEvent)return null;k=x.sourceEvent.button,N.value=!0;let L=Ee(x.transform);((M=x.sourceEvent)==null?void 0:M.type)==="mousedown"&&(I.value=!0),F=L,D.viewportChangeStart(L),D.moveStart({event:x,flowTransform:L})}),se.on("end",x=>{if(!x.sourceEvent)return null;if(N.value=!1,I.value=!1,Q(te.value,k!=null?k:0)&&!V&&D.paneContextMenu(x.sourceEvent),V=!1,ke(F,x.transform)){let M=Ee(x.transform);F=M,D.viewportChangeEnd(M),D.moveEnd({event:x,flowTransform:M})}}),se.filter(x=>{var M,L,R;let K=ee.value||_.value,j=m.value&&x.ctrlKey,re=x.button;if((te.value===!0||Array.isArray(te.value)&&te.value.includes(1))&&re===1&&x.type==="mousedown"&&(((M=x.target)==null?void 0:M.closest(".vue-flow__node"))||((L=x.target)==null?void 0:L.closest(".vue-flow__edge"))))return!0;if(!te.value&&!K&&!de.value&&!f.value&&!m.value||C.value||!f.value&&x.type==="dblclick"||Oe(x,E.value)&&x.type==="wheel"||Oe(x,O.value)&&(x.type!=="wheel"||de.value&&x.type==="wheel"&&!ee.value)||!m.value&&x.ctrlKey&&x.type==="wheel"||!K&&!de.value&&!j&&x.type==="wheel")return!1;if(!m&&x.type==="touchstart"&&((R=x.touches)==null?void 0:R.length)>1)return x.preventDefault(),!1;if(!te.value&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(te.value)&&!te.value.includes(re)&&(x.type==="mousedown"||x.type==="touchstart"))return!1;let pe=Array.isArray(te.value)&&te.value.includes(re)||!re||re<=1;return(!x.ctrlKey||x.type==="wheel")&&pe}),De([C,te],()=>{C.value&&!N.value?se.on("zoom",null):C.value||se.on("zoom",x=>{$.value={x:x.transform.x,y:x.transform.y,zoom:x.transform.k};let M=Ee(x.transform);V=Q(te.value,k!=null?k:0),D.viewportChange(M),D.move({event:x,flowTransform:M})})},{immediate:!0}),De([C,de,c,ee,m,v,E],()=>{de.value&&!ee.value&&!C.value?fe.on("wheel.zoom",x=>{if(Oe(x,E.value))return!1;let M=ee.value||_.value,L=m.value&&x.ctrlKey;if(!(!v.value||de.value||M||L))return!1;x.preventDefault(),x.stopImmediatePropagation();let K=fe.property("__zoom").k||1,j=Mi();if(x.ctrlKey&&m.value&&j){let Re=Yt(x),ft=ue(x),ot=K*2**ft;se.scaleTo(fe,ot,Re,x);return}let re=x.deltaMode===1?20:1,pe=c.value===cr.Vertical?0:x.deltaX*re,Se=c.value===cr.Horizontal?0:x.deltaY*re;!j&&x.shiftKey&&c.value!==cr.Vertical&&!pe&&Se&&(pe=Se,Se=0),se.translateBy(fe,-(pe/K)*u.value,-(Se/K)*u.value);let Me=Ee(fe.property("__zoom"));S&&clearTimeout(S),J.value?(D.move({event:x,flowTransform:Me}),D.viewportChange(Me),S=setTimeout(()=>{D.moveEnd({event:x,flowTransform:Me}),D.viewportChangeEnd(Me),J.value=!1},150)):(J.value=!0,D.moveStart({event:x,flowTransform:Me}),D.viewportChangeStart(Me))},{passive:!1}):typeof we!="undefined"&&fe.on("wheel.zoom",function(x,M){let L=!v.value&&x.type==="wheel"&&!x.ctrlKey,R=ee.value||_.value,K=m.value&&x.ctrlKey;if(!R&&!l.value&&!K&&x.type==="wheel"||L||Oe(x,E.value))return null;x.preventDefault(),we.call(this,x,M)},{passive:!1})},{immediate:!0})});function Q(_e,be){return be===2&&Array.isArray(_e)&&_e.includes(2)}function ue(_e){let be=_e.ctrlKey&&Mi()?10:1;return-_e.deltaY*(_e.deltaMode===1?.05:_e.deltaMode?1:.002)*be}function ke(_e,be){return _e.x!==be.x&&!Number.isNaN(be.x)||_e.y!==be.y&&!Number.isNaN(be.y)||_e.zoom!==be.k&&!Number.isNaN(be.k)}function Ee(_e){return{x:_e.x,y:_e.y,zoom:_e.k}}function Oe(_e,be){return _e.target.closest(`.${be}`)}return(_e,be)=>(z(),X("div",{ref_key:"viewportRef",ref:P,class:"vue-flow__viewport vue-flow__container"},[ce(rb,{"is-selecting":Z.value,"selection-key-pressed":ae(Y),class:Be({connecting:!!ae(w),dragging:ae(I),draggable:ae(d)===!0||Array.isArray(ae(d))&&ae(d).includes(0)})},{default:je(()=>[ce(sb,null,{default:je(()=>[it(_e.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}})),cb=["id"],ub=["id"],db=["id"],fb={name:"A11yDescriptions",compatConfig:{MODE:3}},pb=me(Ne(W({},fb),{setup(e){let{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Ae();return(r,i)=>(z(),X(xe,null,[A("div",{id:`${ae(Bd)}-${ae(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ce(ae(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,cb),A("div",{id:`${ae(zd)}-${ae(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,ub),ae(n)?le("",!0):(z(),X("div",{key:0,id:`${ae(F0)}-${ae(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Ce(ae(o)),9,db))],64))}}));function hb(){let e=Ae();De(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function mb(e,t,n){return n===ne.Left?e-t:n===ne.Right?e+t:e}function gb(e,t,n){return n===ne.Top?e-t:n===ne.Bottom?e+t:e}var ja=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=ne.Top,type:r}){return Ie("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:mb(t,e,o),cy:gb(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};ja.props=["radius","centerX","centerY","position","type"];ja.compatConfig={MODE:3};var ud=ja,vb=me({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){let{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:i,nodesSelectionActive:s,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:c,findEdge:u,findNode:d,isValidConnection:f,multiSelectionActive:m,disableKeyboardA11y:_,elementsSelectable:v,edgesUpdatable:E,edgesFocusable:O,hooks:D}=Ae(),w=ge(()=>u(e.id)),{emit:C,on:I}=cw(w.value,i),U=Vt(Bi),q=on(),G=ie(!1),$=ie(!1),P=ie(""),B=ie(null),N=ie("source"),J=ie(null),S=$e(()=>typeof w.value.selectable=="undefined"?v.value:w.value.selectable),V=$e(()=>typeof w.value.updatable=="undefined"?E.value:w.value.updatable),k=$e(()=>typeof w.value.focusable=="undefined"?O.value:w.value.focusable);En(sw,e.id),En(aw,J);let F=ge(()=>w.value.class instanceof Function?w.value.class(w.value):w.value.class),H=ge(()=>w.value.style instanceof Function?w.value.style(w.value):w.value.style),Y=ge(()=>{var b;let h=w.value.type||"default",g=U==null?void 0:U[`edge-${h}`];if(g)return g;let y=(b=w.value.template)!=null?b:l.value[h];if(typeof y=="string"&&q){let T=Object.keys(q.appContext.components);T&&T.includes(h)&&(y=Jo(h,!1))}return y&&typeof y!="string"?y:(i.error(new Ze(tt.EDGE_TYPE_MISSING,y)),!1)}),{handlePointerDown:ee}=lf({nodeId:P,handleId:B,type:N,isValidConnection:f,edgeUpdaterType:N,onEdgeUpdate:Z,onEdgeUpdateEnd:Q});return()=>{let h=d(w.value.source),g=d(w.value.target),y="pathOptions"in w.value?w.value.pathOptions:{};if(!h&&!g)return i.error(new Ze(tt.EDGE_SOURCE_TARGET_MISSING,w.value.id,w.value.source,w.value.target)),null;if(!h)return i.error(new Ze(tt.EDGE_SOURCE_MISSING,w.value.id,w.value.source)),null;if(!g)return i.error(new Ze(tt.EDGE_TARGET_MISSING,w.value.id,w.value.target)),null;if(!w.value||w.value.hidden||h.hidden||g.hidden)return null;let b;o.value===Yn.Strict?b=h.handleBounds.source:b=[...h.handleBounds.source||[],...h.handleBounds.target||[]];let T=Zu(b,w.value.sourceHandle),x;o.value===Yn.Strict?x=g.handleBounds.target:x=[...g.handleBounds.target||[],...g.handleBounds.source||[]];let M=Zu(x,w.value.targetHandle),L=(T==null?void 0:T.position)||ne.Bottom,R=(M==null?void 0:M.position)||ne.Top,{x:K,y:j}=Ai(h,T,L),{x:re,y:pe}=Ai(g,M,R);return w.value.sourceX=K,w.value.sourceY=j,w.value.targetX=re,w.value.targetY=pe,Ie("g",{ref:J,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${Y.value===!1?"default":w.value.type||"default"}`,a.value,F.value,{updating:G.value,selected:w.value.selected,animated:w.value.animated,inactive:!S.value&&!D.value.edgeClick.hasListeners()}],onClick:ke,onContextmenu:Ee,onDblclick:Oe,onMouseenter:_e,onMousemove:be,onMouseleave:se,onKeyDown:k.value?p:void 0,tabIndex:k.value?0:void 0,"aria-label":w.value.ariaLabel===null?void 0:w.value.ariaLabel||`Edge from ${w.value.source} to ${w.value.target}`,"aria-describedby":k.value?`${zd}-${t}`:void 0,role:k.value?"button":"img"},[$.value?null:Ie(Y.value===!1?l.value.default:Y.value,W({id:e.id,sourceNode:h,targetNode:g,source:w.value.source,target:w.value.target,type:w.value.type,updatable:V.value,selected:w.value.selected,animated:w.value.animated,label:w.value.label,labelStyle:w.value.labelStyle,labelShowBg:w.value.labelShowBg,labelBgStyle:w.value.labelBgStyle,labelBgPadding:w.value.labelBgPadding,labelBgBorderRadius:w.value.labelBgBorderRadius,data:w.value.data,events:W(W({},w.value.events),I),style:H.value,markerStart:`url('#${gr(w.value.markerStart,t)}')`,markerEnd:`url('#${gr(w.value.markerEnd,t)}')`,sourcePosition:L,targetPosition:R,sourceX:K,sourceY:j,targetX:re,targetY:pe,sourceHandleId:w.value.sourceHandle,targetHandleId:w.value.targetHandle,interactionWidth:w.value.interactionWidth},y)),[V.value==="source"||V.value===!0?[Ie("g",{onMousedown:fe,onMouseenter:te,onMouseout:de},Ie(ud,{position:L,centerX:K,centerY:j,radius:r.value,type:"source","data-type":"source"}))]:null,V.value==="target"||V.value===!0?[Ie("g",{onMousedown:we,onMouseenter:te,onMouseout:de},Ie(ud,{position:R,centerX:re,centerY:pe,radius:r.value,type:"target","data-type":"target"}))]:null]])};function te(){G.value=!0}function de(){G.value=!1}function Z(h,g){C.update({event:h,edge:w.value,connection:g})}function Q(h){C.updateEnd({event:h,edge:w.value}),$.value=!1}function ue(h,g){var y;h.button===0&&($.value=!0,P.value=g?w.value.target:w.value.source,B.value=(y=g?w.value.targetHandle:w.value.sourceHandle)!=null?y:"",N.value=g?"target":"source",C.updateStart({event:h,edge:w.value}),ee(h))}function ke(h){var g;let y={event:h,edge:w.value};S.value&&(s.value=!1,w.value.selected&&m.value?(c([w.value]),(g=J.value)==null||g.blur()):n([w.value])),C.click(y)}function Ee(h){C.contextMenu({event:h,edge:w.value})}function Oe(h){C.doubleClick({event:h,edge:w.value})}function _e(h){C.mouseEnter({event:h,edge:w.value})}function be(h){C.mouseMove({event:h,edge:w.value})}function se(h){C.mouseLeave({event:h,edge:w.value})}function fe(h){ue(h,!0)}function we(h){ue(h,!1)}function p(h){var g;!_.value&&Ud.includes(h.key)&&S.value&&(h.key==="Escape"?((g=J.value)==null||g.blur(),c([u(e.id)])):n([u(e.id)]))}}}),_b=vb,yb={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top},Eb=me({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;let{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:i,connectionLineType:s,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:c,viewport:u,findNode:d}=Ae(),f=(e=Vt(Bi))==null?void 0:e["connection-line"],m=ge(()=>{var D;return d((D=o.value)==null?void 0:D.nodeId)}),_=ge(()=>{var w;var D;return(w=d((D=r.value)==null?void 0:D.nodeId))!=null?w:null}),v=ge(()=>({x:(i.value.x-u.value.x)/u.value.zoom,y:(i.value.y-u.value.y)/u.value.zoom})),E=ge(()=>l.value.markerStart?`url(#${gr(l.value.markerStart,t)})`:""),O=ge(()=>l.value.markerEnd?`url(#${gr(l.value.markerEnd,t)})`:"");return()=>{var Y,ee,te,de;var D,w,C,I;if(!m.value||!o.value)return null;let U=o.value.handleId,q=o.value.type,G=m.value.handleBounds,$=G==null?void 0:G[q];if(n.value===Yn.Loose&&($=$||(G==null?void 0:G[q==="source"?"target":"source"])),!$)return null;let P=(Y=U?$.find(Z=>Z.id===U):$[0])!=null?Y:null,B=(P==null?void 0:P.position)||ne.Top,{x:N,y:J}=Ai(m.value,P,B),S=null;_.value&&((D=r.value)==null?void 0:D.handleId)&&(n.value===Yn.Strict?S=((w=_.value.handleBounds[q==="source"?"target":"source"])==null?void 0:w.find(Z=>{var Q;return Z.id===((Q=r.value)==null?void 0:Q.handleId)}))||null:S=((C=[..._.value.handleBounds.source||[],..._.value.handleBounds.target||[]])==null?void 0:C.find(Z=>{var Q;return Z.id===((Q=r.value)==null?void 0:Q.handleId)}))||null);let V=(ee=(I=r.value)==null?void 0:I.position)!=null?ee:B?yb[B]:null;if(!B||!V)return null;let k=(de=(te=s.value)!=null?te:l.value.type)!=null?de:zn.Bezier,F="",H={sourceX:N,sourceY:J,sourcePosition:B,targetX:v.value.x,targetY:v.value.y,targetPosition:V};return k===zn.Bezier?[F]=hf(H):k===zn.Step?[F]=Ma(Ne(W({},H),{borderRadius:0})):k===zn.SmoothStep?[F]=Ma(H):k===zn.SimpleBezier?[F]=mf(H):F=`M${N},${J} ${v.value.x},${v.value.y}`,Ie("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ie("g",{class:"vue-flow__connection"},f?Ie(f,{sourceX:N,sourceY:J,sourcePosition:B,targetX:v.value.x,targetY:v.value.y,targetPosition:V,sourceNode:m.value,sourceHandle:P,targetNode:_.value,targetHandle:S,markerEnd:O.value,markerStart:E.value,connectionStatus:c.value}):Ie("path",{d:F,class:[l.value.class,c,"vue-flow__connection-path"],style:W(W({},a.value),l.value.style),"marker-end":O.value,"marker-start":E.value})))}}}),wb=Eb,bb=["id","markerWidth","markerHeight","markerUnits","orient"],Nb={name:"MarkerType",compatConfig:{MODE:3}},xb=me(Ne(W({},Nb),{props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(z(),X("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ae(ka).ArrowClosed?(z(),X("polyline",{key:0,style:Ke({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):le("",!0),t.type===ae(ka).Arrow?(z(),X("polyline",{key:1,style:Ke({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):le("",!0)],8,bb))}})),Sb={class:"vue-flow__marker vue-flow__container"},Ob={name:"MarkerDefinitions",compatConfig:{MODE:3}},Cb=me(Ne(W({},Ob),{setup(e){let{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=Ae(),i=ge(()=>{let s=new Set,a=[],l=c=>{if(c){let u=gr(c,t);s.has(u)||(typeof c=="object"?a.push(Ne(W({},c),{id:u,color:c.color||r.value})):a.push({id:u,color:r.value,type:c}),s.add(u))}};for(let c of[o.value.markerEnd,o.value.markerStart])l(c);for(let c of n.value)for(let u of[c.markerStart,c.markerEnd])l(u);return a.sort((c,u)=>c.id.localeCompare(u.id))});return(s,a)=>(z(),X("svg",Sb,[A("defs",null,[(z(!0),X(xe,null,Qe(i.value,l=>(z(),He(xb,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}})),kb={name:"Edges",compatConfig:{MODE:3}},Tb=me(Ne(W({},kb),{setup(e){let{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Ae();return(r,i)=>(z(),X(xe,null,[ce(Cb),(z(!0),X(xe,null,Qe(ae(n),s=>(z(),X("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:Ke({zIndex:ae(J0)(s,ae(t),ae(o))})},[ce(ae(_b),{id:s.id},null,8,["id"])],4))),128)),ce(ae(wb))],64))}})),Db=me({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){let{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:i,emits:s,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:m,disableKeyboardA11y:_,ariaLiveMessage:v,snapToGrid:E,snapGrid:O,nodeDragThreshold:D,nodesDraggable:w,elementsSelectable:C,nodesConnectable:I,nodesFocusable:U,hooks:q}=Ae(),G=ie(null);En(sf,G),En(rf,e.id);let $=Vt(Bi),P=on(),B=uf(),{node:N,parentNode:J}=cf(e.id),{emit:S,on:V}=pw(N,s),k=$e(()=>typeof N.draggable=="undefined"?w.value:N.draggable),F=$e(()=>typeof N.selectable=="undefined"?C.value:N.selectable),H=$e(()=>typeof N.connectable=="undefined"?I.value:N.connectable),Y=$e(()=>typeof N.focusable=="undefined"?U.value:N.focusable),ee=$e(()=>F.value||k.value||q.value.nodeClick.hasListeners()||q.value.nodeDoubleClick.hasListeners()||q.value.nodeMouseEnter.hasListeners()||q.value.nodeMouseMove.hasListeners()||q.value.nodeMouseLeave.hasListeners()),te=$e(()=>!!N.dimensions.width&&!!N.dimensions.height),de=ge(()=>{let g=N.type||"default",y=$==null?void 0:$[`node-${g}`];if(y)return y;let b=N.template||d.value[g];if(typeof b=="string"&&P){let T=Object.keys(P.appContext.components);T&&T.includes(g)&&(b=Jo(g,!1))}return b&&typeof b!="string"?b:(s.error(new Ze(tt.NODE_TYPE_MISSING,b)),!1)}),Z=af({id:e.id,el:G,disabled:()=>!k.value,selectable:F,dragHandle:()=>N.dragHandle,onStart(g){S.dragStart(g)},onDrag(g){S.drag(g)},onStop(g){S.dragStop(g)},onClick(g){p(g)}}),Q=ge(()=>N.class instanceof Function?N.class(N):N.class),ue=ge(()=>{let g=(N.style instanceof Function?N.style(N):N.style)||{},y=N.width instanceof Function?N.width(N):N.width,b=N.height instanceof Function?N.height(N):N.height;return!g.width&&y&&(g.width=typeof y=="string"?y:`${y}px`),!g.height&&b&&(g.height=typeof b=="string"?b:`${b}px`),g}),ke=$e(()=>{var g,y;return Number((y=(g=N.zIndex)!=null?g:ue.value.zIndex)!=null?y:0)});return u(g=>{(g.includes(e.id)||!g.length)&&Oe()}),nt(()=>{De(()=>N.hidden,(g=!1,y,b)=>{!g&&G.value&&(e.resizeObserver.observe(G.value),b(()=>{G.value&&e.resizeObserver.unobserve(G.value)}))},{immediate:!0,flush:"post"})}),De([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{ct(()=>{c([{id:e.id,nodeElement:G.value,forceUpdate:!0}])})}),De([()=>N.position.x,()=>N.position.y,()=>{var g;return(g=J.value)==null?void 0:g.computedPosition.x},()=>{var g;return(g=J.value)==null?void 0:g.computedPosition.y},()=>{var g;return(g=J.value)==null?void 0:g.computedPosition.z},ke,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var g;return(g=J.value)==null?void 0:g.dimensions.height},()=>{var g;return(g=J.value)==null?void 0:g.dimensions.width}],([g,y,b,T,x,M])=>{let L={x:g,y,z:M+(m.value&&N.selected?1e3:0)};typeof b!="undefined"&&typeof T!="undefined"?N.computedPosition=q0({x:b,y:T,z:x},L):N.computedPosition=L},{flush:"post",immediate:!0}),De([()=>N.extent,f],([g,y],[b,T])=>{(g!==b||y!==T)&&Ee()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?ya(()=>te).toBe(!0).then(Ee):Ee(),()=>{var g,y;return N.hidden?null:Ie("div",{ref:G,"data-id":N.id,class:["vue-flow__node",`vue-flow__node-${de.value===!1?"default":N.type||"default"}`,{[n.value]:k.value,dragging:Z==null?void 0:Z.value,draggable:k.value,selected:N.selected,selectable:F.value,parent:N.isParent},Q.value],style:W({visibility:te.value?"visible":"hidden",zIndex:(g=N.computedPosition.z)!=null?g:ke.value,transform:`translate(${N.computedPosition.x}px,${N.computedPosition.y}px)`,pointerEvents:ee.value?"all":"none"},ue.value),tabIndex:Y.value?0:void 0,role:Y.value?"button":void 0,"aria-describedby":_.value?void 0:`${Bd}-${t}`,"aria-label":N.ariaLabel,onMouseenter:_e,onMousemove:be,onMouseleave:se,onContextmenu:fe,onClick:p,onDblclick:we,onKeydown:h},[Ie(de.value===!1?d.value.default:de.value,{id:N.id,type:N.type,data:N.data,events:W(W({},N.events),V),selected:N.selected,resizing:N.resizing,dragging:Z.value,connectable:H.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:(y=N.computedPosition.z)!=null?y:ke.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:Oe})])};function Ee(){let g=N.computedPosition;E.value&&(g.x=O.value[0]*Math.round(g.x/O.value[0]),g.y=O.value[1]*Math.round(g.y/O.value[1]));let{computedPosition:y,position:b}=Ba(N,g,s.error,f.value,J.value);(N.computedPosition.x!==y.x||N.computedPosition.y!==y.y)&&(N.computedPosition=W(W({},N.computedPosition),y)),(N.position.x!==b.x||N.position.y!==b.y)&&(N.position=b)}function Oe(){G.value&&c([{id:e.id,nodeElement:G.value,forceUpdate:!0}])}function _e(g){Z!=null&&Z.value||S.mouseEnter({event:g,node:N})}function be(g){Z!=null&&Z.value||S.mouseMove({event:g,node:N})}function se(g){Z!=null&&Z.value||S.mouseLeave({event:g,node:N})}function fe(g){return S.contextMenu({event:g,node:N})}function we(g){return S.doubleClick({event:g,node:N})}function p(g){F.value&&(!o.value||!k.value||D.value>0)&&Aa(N,i.value,l,a,r,!1,G.value),S.click({event:g,node:N})}function h(g){if(!(Ta(g)||_.value))if(Ud.includes(g.key)&&F.value){let y=g.key==="Escape";Aa(N,i.value,l,a,r,y,G.value)}else k.value&&N.selected&&No[g.key]&&(v.value=`Moved selected node ${g.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.position.x}, y: ${~~N.position.y}`,B({x:No[g.key].x,y:No[g.key].y},g.shiftKey))}}}),Ib=Db,Ab={height:"0",width:"0"},Mb={name:"EdgeLabelRenderer",compatConfig:{MODE:3}},PC=me(Ne(W({},Mb),{setup(e){let{viewportRef:t}=Ae(),n=$e(()=>{var o;return(o=t.value)==null?void 0:o.getElementsByClassName("vue-flow__edge-labels")[0]});return(o,r)=>(z(),X("svg",null,[(z(),X("foreignObject",Ab,[(z(),He(uc,{to:n.value,disabled:!n.value},[it(o.$slots,"default")],8,["to","disabled"]))]))]))}}));function Pb(e={includeHiddenNodes:!1}){let{nodes:t}=Ae();return ge(()=>{if(t.value.length===0)return!1;for(let n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}var Vb={class:"vue-flow__nodes vue-flow__container"},Rb={name:"Nodes",compatConfig:{MODE:3}},Lb=me(Ne(W({},Rb),{setup(e){let{getNodes:t,updateNodeDimensions:n,emits:o}=Ae(),r=Pb(),i=ie();return De(r,s=>{s&&ct(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),nt(()=>{i.value=new ResizeObserver(s=>{let a=s.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));ct(()=>n(a))})}),$n(()=>{var s;return(s=i.value)==null?void 0:s.disconnect()}),(s,a)=>(z(),X("div",Vb,[i.value?(z(!0),X(xe,{key:0},Qe(ae(t),(l,c,u,d)=>{let f=[l.id];if(d&&d.key===l.id&&Kc(d,f))return d;let m=(z(),He(ae(Ib),{id:l.id,key:l.id,"resize-observer":i.value},null,8,["id","resize-observer"]));return m.memo=f,m},a,0),128)):le("",!0)]))}}));function Fb(){let{emits:e}=Ae();nt(()=>{if(of()){let t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ze(tt.MISSING_STYLES))}})}var $b=A("div",{class:"vue-flow__edge-labels"},null,-1),Hb={name:"VueFlow",compatConfig:{MODE:3}},vf=me(Ne(W({},Hb),{props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){let o=e,r=xc(),i=la(o,"modelValue",n),s=la(o,"nodes",n),a=la(o,"edges",n),l=Ae(o),c=gw({modelValue:i,nodes:s,edges:a},o,l);return _w(n,l.hooks),hb(),Fb(),En(Bi,r),_o(()=>{c()}),t(l),(u,d)=>(z(),X("div",{ref:ae(l).vueFlowRef,class:"vue-flow"},[ce(lb,null,{default:je(()=>[ce(Tb),$b,ce(Lb),it(u.$slots,"zoom-pane")]),_:3}),it(u.$slots,"default"),ce(pb)],512))}})),Bb={name:"Panel",compatConfig:{MODE:3}},_f=me(Ne(W({},Bb),{props:{position:{}},setup(e){let t=e,{userSelectionActive:n}=Ae(),o=ge(()=>`${t.position}`.split("-"));return(r,i)=>(z(),X("div",{class:Be(["vue-flow__panel",o.value]),style:Ke({pointerEvents:ae(n)?"none":"all"})},[it(r.$slots,"default")],6))}}));var qi=require("obsidian");var yr=me({__name:"MarkdownItem",props:{data:{type:null,required:!0}},setup(e,{expose:t}){t();let n=e,o=ie(),r;function i(a){r=a}i((a,l,c)=>{var d,f,m,_;l.classList.add("markdown-rendered");let u=new qi.MarkdownRenderChild(l);c?c.addChild(u):Ye.ctx&&Ye.ctx.addChild(u),qi.MarkdownRenderer.render(Ye.app,a,l,(_=(m=(f=(d=Ye.app.workspace.activeLeaf)==null?void 0:d.view)==null?void 0:f.file)==null?void 0:m.path)!=null?_:"",u)}),nt(()=>{!o.value||!r||r(n.data.value,o.value)});let s={props:n,MdArea:o,get renderMarkdownFn(){return r},set renderMarkdownFn(a){r=a},redefine_renderMarkdown:i};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});var zb={key:0,class:"node-item-name"},Ub={key:1,class:"node-item-value",ref:"MdArea"};function yf(e,t,n,o,r,i){return z(),X("div",{class:Be("markdown-item  node-item-slot "+o.props.data.refType)},[o.props.data.name?(z(),X("span",zb,Ce(o.props.data.name),1)):le("v-if",!0),o.props.data.value?(z(),X("div",Ub,[le(" \u811A\u672C\u586B\u5145\u5185\u5BB9 ")],512)):le("v-if",!0),t[0]||(t[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2)}yr.render=yf;yr.__file="src\\NodeFlow\\component\\nodeItem\\MarkdownItem.vue";yr.__scopeId="data-v-adf15d24";var Yi=yr;var Er=me({__name:"ObcanvasNode",props:{id:{type:String,required:!0},data:{type:null,required:!0}},setup(e,{expose:t}){t();let n=e,o=ie({name:"",value:n.data.label,refType:"value",valueType:"item-markdown"}),r={props:n,newData:o,get Handle(){return xt},get Position(){return ne},MarkdownItem:Yi};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});var jb={class:"obcanvas-node"};function Ef(e,t,n,o,r,i){return z(),X(xe,null,[A("div",jb,[ce(o.MarkdownItem,{data:o.newData},null,8,["data"])]),ce(o.Handle,{id:"left",type:"target",position:o.Position.Left},null,8,["position"]),ce(o.Handle,{id:"top",type:"target",position:o.Position.Top},null,8,["position"]),ce(o.Handle,{id:"right",type:"source",position:o.Position.Right},null,8,["position"]),ce(o.Handle,{id:"bottom",type:"source",position:o.Position.Bottom},null,8,["position"])],64)}Er.render=Ef;Er.__file="src\\NodeFlow\\component\\node\\ObcanvasNode.vue";Er.__scopeId="data-v-6026aac7";var wf=Er;var Wi=me({__name:"ComfyUINode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e,{expose:t}){var i,s,a,l;t();let n=e,o=ie(!1);o.value=((s=(i=n.data)==null?void 0:i.inputs)==null?void 0:s.length)!=0||((l=(a=n.data)==null?void 0:a.outputs)==null?void 0:l.length)!=0;let r={props:n,hasCustomHandle:o,get Handle(){return xt},get Position(){return ne}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});var Gb={class:"comfyui-node"},qb={class:"node-id"},Yb=["aria-label"],Wb={class:"node-title"},Kb={style:{display:"inline-block","margin-left":"10px"}},Xb={class:"node-content"},Zb={class:"node-handle-name"},Jb={class:"left"},Qb={class:"item"},eN={class:"right"},tN={class:"item"},nN={class:"node-self-attr"},oN={class:"item-c"},rN={class:"item"};function bf(e,t,n,o,r,i){return z(),X("div",Gb,[A("div",qb,[A("div",null," #"+Ce(n.id),1)]),le(` <NodeToolbar :is-visible="true" :position="Position.Top" class="comfyui-id">\r
      <div>\r
        #{{ id }}\r
      </div>\r
    </NodeToolbar> `),A("div",{class:"node-main","aria-label":n.data.label},[A("div",Wb,[t[0]||(t[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",Kb,Ce(n.data.label),1)]),A("div",Xb,[A("div",Zb,[A("div",Jb,[(z(!0),X(xe,null,Qe(n.data.inputs,(s,a)=>(z(),X("div",Qb,Ce(s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type),1))),256))]),A("div",eN,[(z(!0),X(xe,null,Qe(n.data.outputs,(s,a)=>(z(),X("div",tN,Ce(s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type),1))),256))])]),A("div",nN,[(z(!0),X(xe,null,Qe(n.data.widgets_values,(s,a)=>(z(),X("div",oN,[A("div",rN,Ce(s),1)]))),256)),le(" \u6CE8\u610Fdata.widgets_values\u53EF\u80FD\u662F\u5217\u8868\u4E5F\u53EF\u80FD\u662Fjson ")])]),le(" Handle - \u6839\u636E\u6570\u636E\u81EA\u52A8\u751F\u6210 "),(z(!0),X(xe,null,Qe(n.data.inputs,(s,a)=>(z(),He(o.Handle,{key:a,id:s.hasOwnProperty("id")?s.id:"target-"+a,class:"custom",indexAttr:a,nameAttr:s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type,nameMapAttr:(s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type).toLowerCase().charCodeAt(0)%20,type:"target",position:o.Position.Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),(z(!0),X(xe,null,Qe(n.data.outputs,(s,a)=>(z(),He(o.Handle,{key:a,id:s.hasOwnProperty("id")?s.id:"source-"+a,class:"custom",indexAttr:a,nameAttr:s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type,nameMapAttr:(s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type).toLowerCase().charCodeAt(0)%20,type:"source",position:o.Position.Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128))],8,Yb)])}Wi.render=bf;Wi.__file="src\\NodeFlow\\component\\node\\ComfyUINode.vue";var Nf=Wi;var wr=me({__name:"ComfyUINodeGroup",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e,{expose:t}){t();let o={props:e};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});var iN=["aria-label"],sN={class:"comfyui-node-title"},aN={style:{display:"inline-block","margin-left":"10px"}};function xf(e,t,n,o,r,i){return z(),X("div",{class:"comfyui-node comfyui-group","aria-label":n.data.label},[A("div",sN,[t[0]||(t[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",aN,Ce(n.data.label),1)])],8,iN)}wr.render=xf;wr.__file="src\\NodeFlow\\component\\node\\ComfyUINodeGroup.vue";wr.__scopeId="data-v-d6b3ba8a";var Sf=wr;var Ki=me({__name:"CommonNode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e,{expose:t}){var i,s,a,l;t();let n=e,o=ie(!1);o.value=((s=(i=n.data)==null?void 0:i.inputs)==null?void 0:s.length)!=0||((l=(a=n.data)==null?void 0:a.outputs)==null?void 0:l.length)!=0;let r={props:n,hasCustomHandle:o,get Handle(){return xt},get Position(){return ne}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});var lN={class:"common-node"},cN={class:"node-id"},uN=["aria-label"],dN={class:"node-title"},fN={style:{display:"inline-block","margin-left":"10px"}},pN={class:"node-content"},hN={class:"node-content-handle"},mN={class:"left"},gN={class:"line"},vN={class:"item-sub item-name"},_N={key:0,class:"item-sub item-value"},yN={class:"item-sub-sub"},EN={class:"left"},wN={class:"right"},bN={class:"line"},NN={class:"item-sub item-name"},xN={key:0,class:"item-sub item-value"},SN={class:"node-content-self"},ON={class:"line"},CN={class:"item-sub"},kN={class:"item-name"},TN={class:"item-value"};function Of(e,t,n,o,r,i){return z(),X("div",lN,[le(" \u8282\u70B9id "),A("div",cN,[A("div",null," #"+Ce(n.id),1)]),le(` <NodeToolbar :is-visible="true" :position="Position.Top" class="common-id">\r
      <div>\r
        #{{ id }}\r
      </div>\r
    </NodeToolbar> `),le(" \u8282\u70B9 "),A("div",{class:"node-main","aria-label":n.data.label},[le(" \u8282\u70B9\u6807\u9898 "),A("div",dN,[t[0]||(t[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",fN,Ce(n.data.label),1)]),le(" \u8282\u70B9\u5185\u5BB9 "),A("div",pN,[A("div",hN,[A("div",mN,[(z(!0),X(xe,null,Qe(n.data.inputs,(s,a)=>(z(),X("div",gN,[A("span",vN,Ce(s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type),1),s.value?(z(),X("span",_N,[A("div",yN,[A("span",EN,Ce(s.value),1)])])):le("v-if",!0)]))),256))]),A("div",wN,[(z(!0),X(xe,null,Qe(n.data.outputs,(s,a)=>(z(),X("div",bN,[A("span",NN,Ce(s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type),1),s.value?(z(),X("span",xN,[A("div",null,Ce(s.value),1)])):le("v-if",!0)]))),256))])]),A("div",SN,[(z(!0),X(xe,null,Qe(n.data.values,(s,a)=>(z(),X("div",ON,[A("div",CN,[A("span",kN,Ce(s.name),1),A("span",TN,Ce(s.value),1),t[1]||(t[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))])]))),256))])]),le(" Handle - \u6839\u636E\u6570\u636E\u81EA\u52A8\u751F\u6210 "),le(" \u6CE8\u610F\u8FD9\u91CC\u7684MapAttr\u6682\u65F6\u7528\u7684id\uFF0C\u800Ccomfyui\u90A3\u8FB9\u7528\u7684type "),(z(!0),X(xe,null,Qe(n.data.inputs,(s,a)=>(z(),He(o.Handle,{key:a,id:s.hasOwnProperty("id")?s.id:"target-"+a,class:"custom",indexAttr:a,nameAttr:s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type,nameMapAttr:(s.hasOwnProperty("id")?s.id:"target-"+a).toLowerCase().charCodeAt(0)%20,type:"target",position:o.Position.Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),(z(!0),X(xe,null,Qe(n.data.outputs,(s,a)=>(z(),He(o.Handle,{key:a,id:s.hasOwnProperty("id")?s.id:"source-"+a,class:"custom",indexAttr:a,nameAttr:s.hasOwnProperty("label")?s.label:s.hasOwnProperty("name")?s.name:s.type,nameMapAttr:(s.hasOwnProperty("id")?s.id:"target-"+a).toLowerCase().charCodeAt(0)%20,type:"source",position:o.Position.Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"]))),128)),le(" Handle - \u9ED8\u8BA4\u9690\u85CF "),qe(ce(o.Handle,{id:"l",class:"default",type:"target",position:o.Position.Left},null,8,["position"]),[[an,!o.hasCustomHandle]]),qe(ce(o.Handle,{id:"t",class:"default",position:o.Position.Top},null,8,["position"]),[[an,!o.hasCustomHandle]]),qe(ce(o.Handle,{id:"r",class:"default",type:"source",position:o.Position.Right},null,8,["position"]),[[an,!o.hasCustomHandle]]),qe(ce(o.Handle,{id:"b",class:"default",position:o.Position.Bottom},null,8,["position"]),[[an,!o.hasCustomHandle]])],8,uN)])}Ki.render=Of;Ki.__file="src\\NodeFlow\\component\\node\\CommonNode.vue";var Cf=Ki;var Xi=me({__name:"ItemNodeSlot",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(e,{expose:t}){t();let o={props:e,get Handle(){return xt},get Position(){return ne}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function kf(e,t,n,o,r,i){return z(),X(xe,null,[n.item.refType==="input"||n.item.refType==="i"?(z(),He(o.Handle,{key:0,class:"node-item-handle",id:n.item.hasOwnProperty("id")?n.item.id:"target-"+n.index,indexAttr:n.index,nameAttr:n.item.hasOwnProperty("label")?n.item.label:n.item.hasOwnProperty("name")?n.item.name:n.item.type,nameMapAttr:(n.item.hasOwnProperty("id")?n.item.id:"target-"+n.index).toLowerCase().charCodeAt(0)%20,type:"target",position:o.Position.Left},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"])):le("v-if",!0),n.item.refType==="output"||n.item.refType==="o"?(z(),He(o.Handle,{key:1,class:"node-item-handle",id:n.item.hasOwnProperty("id")?n.item.id:"source-"+n.index,indexAttr:n.index,nameAttr:n.item.hasOwnProperty("label")?n.item.label:n.item.hasOwnProperty("name")?n.item.name:n.item.type,nameMapAttr:(n.item.hasOwnProperty("id")?n.item.id:"target-"+n.index).toLowerCase().charCodeAt(0)%20,type:"source",position:o.Position.Right},null,8,["id","indexAttr","nameAttr","nameMapAttr","position"])):le("v-if",!0),it(e.$slots,o.props.item.valueType,{id:o.props.item.id,data:o.props.item})],64)}Xi.render=kf;Xi.__file="src\\NodeFlow\\component\\nodeItem\\ItemNodeSlot.vue";var Tf=Xi;var br=me({__name:"DefaultItem",props:{data:{type:null,required:!0}},setup(e,{expose:t}){t();let n=e,o=ie(null);function r(a){i(a.target)}function i(a){!a||(a.style.height="auto",a.scrollHeight&&(a.style.height=a.scrollHeight<30?"20px":a.scrollHeight+"px"),a.style.width="auto",a.scrollWidth&&(a.style.width=a.scrollWidth+12+"px"))}nt(()=>{i(o.value),ct(()=>{i(o.value)})});let s={props:n,TextArea3:o,handleInput:r,autoSize:i};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});var DN={key:0,class:"node-item-name"},IN=["rows"];function Df(e,t,n,o,r,i){return z(),X("div",{ref:"TextArea2",class:Be("default-item  node-item-slot "+o.props.data.refType+(o.props.data.value?" has-value":""))},[o.props.data.name?(z(),X("span",DN,Ce(o.props.data.name),1)):le("v-if",!0),o.props.data.value?qe((z(),X("textarea",{key:1,class:"node-item-value","onUpdate:modelValue":t[0]||(t[0]=s=>o.props.data.value=s),rows:o.props.data.value.split(`
`).length,cols:"10",onInput:o.handleInput,ref:"TextArea3"},null,40,IN)),[[yu,o.props.data.value]]):le("v-if",!0),t[1]||(t[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2)}br.render=Df;br.__file="src\\NodeFlow\\component\\nodeItem\\DefaultItem.vue";br.__scopeId="data-v-3b87dde5";var If=br;var Nr=me({__name:"ColorItem",props:{data:{type:null,required:!0}},setup(e,{expose:t}){t();let n=e;function o(i){i=i.replace(/^#/,""),i.length===3&&(i=i.split("").map(u=>u+u).join(""));var s=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2,2),16),l=parseInt(i.substr(4,2),16),c=(s+a+l)/3;return c>128?"black":"white"}let r={props:n,getHighContrastTextColor:o};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});var AN={key:0,class:"node-item-name"};function Af(e,t,n,o,r,i){return z(),X("div",{class:Be("color-item  node-item-slot "+o.props.data.refType+(o.props.data.value?" has-value":""))},[o.props.data.name?(z(),X("span",AN,Ce(o.props.data.name),1)):le("v-if",!0),o.props.data.value?(z(),X("div",{key:1,class:"node-item-value",style:Ke("background:"+o.props.data.value+"; color:"+o.getHighContrastTextColor(o.props.data.value))},Ce(o.props.data.value),5)):le("v-if",!0),t[0]||(t[0]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2)}Nr.render=Af;Nr.__file="src\\NodeFlow\\component\\nodeItem\\ColorItem.vue";Nr.__scopeId="data-v-6326b0c1";var Mf=Nr;var xr=me({__name:"DropdownItem",props:{data:{type:null,required:!0}},setup(e,{expose:t}){t();let n=e,o=ge(()=>n.data.value.split("|"));o.value.length==0&&(n.data.value=[""]);let r=ie(o.value[0]),i={props:n,enum_data:o,enum_current:r};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});var MN={key:0,class:"node-item-name"},PN=["value"];function Pf(e,t,n,o,r,i){return z(),X("div",{class:Be("dropdown-item  node-item-slot "+o.props.data.refType+(o.props.data.value?" has-value":""))},[o.props.data.name?(z(),X("span",MN,Ce(o.props.data.name),1)):le("v-if",!0),o.props.data.value?(z(),X("div",{key:1,class:"node-item-value",style:Ke("background:"+o.props.data.value)},[qe(A("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.enum_current=s)},[(z(!0),X(xe,null,Qe(o.enum_data,s=>(z(),X("option",{value:s},Ce(s),9,PN))),256))],512),[[fi,o.enum_current]])],4)):le("v-if",!0),t[1]||(t[1]=A("div",{style:{height:"0",clear:"both"}},null,-1))],2)}xr.render=Pf;xr.__file="src\\NodeFlow\\component\\nodeItem\\DropdownItem.vue";xr.__scopeId="data-v-447493a8";var Vf=xr;var Zi=me({__name:"ItemNode",props:{id:{type:String,required:!0},data:{type:Object,required:!0}},setup(e,{expose:t}){var l,c;t();let n=e,o=ge(()=>n.data.items.filter(u=>u.refType==="input")),r=ge(()=>n.data.items.filter(u=>u.refType==="output")),i=ge(()=>n.data.items.filter(u=>u.refType==="value")),s=ie(!1);s.value=((c=(l=n.data)==null?void 0:l.items)==null?void 0:c.length)!=0;let a={props:n,inputItems:o,outputItems:r,valueItems:i,hasCustomHandle:s,get Handle(){return xt},get Position(){return ne},ItemNodeSlot:Tf,DefaultItem:If,MarkdownItem:Yi,ColorItem:Mf,DropdownItem:Vf};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});var VN={class:"item-node"},RN=["v-show"],LN=["aria-label"],FN={class:"node-title"},$N={style:{display:"inline-block","margin-left":"10px"}},HN={class:"node-content"};function Rf(e,t,n,o,r,i){let s=Jo("ItemNode",!0);return z(),X("div",VN,[le(" id\u9879 "),A("div",{"v-show":n.id!="",class:"node-id"},[A("div",null,"#"+Ce(n.id),1)],8,RN),A("div",{class:"common-node node-main","aria-label":n.data.label},[le(" \u6807\u9898\u9879 "),A("div",FN,[t[0]||(t[0]=A("span",{style:{display:"inline-block",height:"10px",width:"10px","border-radius":"5px","background-color":"#666666"}},null,-1)),A("span",$N,Ce(n.data.hasOwnProperty("label")?n.data.label:n.data.hasOwnProperty("name")?n.data.name:n.data.id),1)]),le(" \u9879\u96C6 "),A("div",HN,[(z(!0),X(xe,null,Qe(n.data.items,(a,l)=>(z(),X("div",{class:Be("line node-item "+a.refType)},[ce(o.ItemNodeSlot,{index:l,item:a},{"item-default":je(c=>[ce(o.DefaultItem,{data:c.data},null,8,["data"])]),"item-markdown":je(c=>[ce(o.MarkdownItem,{data:c.data},null,8,["data"])]),"item-color":je(c=>[ce(o.ColorItem,{data:c.data},null,8,["data"])]),"item-dropdown":je(c=>[ce(o.DropdownItem,{data:c.data},null,8,["data"])]),"item-item":je(c=>[ce(s,{id:"",data:c.data},null,8,["data"])]),_:2},1032,["index","item"])],2))),256))]),le(" Handle - \u9ED8\u8BA4\u9690\u85CF "),qe(A("div",null,[ce(o.Handle,{id:"l",class:"default",type:"target",position:o.Position.Left},null,8,["position"]),ce(o.Handle,{id:"t",class:"default",position:o.Position.Top},null,8,["position"]),ce(o.Handle,{id:"r",class:"default",type:"source",position:o.Position.Right},null,8,["position"]),ce(o.Handle,{id:"b",class:"default",position:o.Position.Bottom},null,8,["position"])],512),[[an,!o.hasCustomHandle]])],8,LN)])}Zi.render=Rf;Zi.__file="src\\NodeFlow\\component\\node\\ItemNode.vue";var Lf=Zi;var Sr=me({__name:"InteractionControls",setup(e,{expose:t}){t();let{nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,zoomOnScroll:i,zoomOnDoubleClick:s,zoomOnPinch:a,panOnScroll:l,panOnScrollMode:c,panOnDrag:u,onConnect:d,onNodeDragStop:f,onPaneClick:m,onPaneScroll:_,onPaneContextMenu:v,onNodeDragStart:E,onMoveEnd:O,addEdges:D,zoomIn:w,zoomOut:C,setMinZoom:I,setMaxZoom:U}=Ae(),q=ie(!0),G=()=>{U(3),w()};G();let $=()=>{I(.1),C()};$();let P=ie(!1),B=ie(!1);d(J=>D(J)),E(J=>Ye.isDebug&&console.log("Drag start",J)),f(J=>Ye.isDebug&&console.log("Drag stop",J)),m(J=>Ye.isDebug&&P.value&&console.log("Pane click",J)),_(J=>Ye.isDebug&&B.value&&console.log("Pane scroll",J)),v(J=>Ye.isDebug&&P.value&&console.log("Pane ctx menu",J)),O(J=>Ye.isDebug&&console.log("Move end",J));let N={nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,zoomOnScroll:i,zoomOnDoubleClick:s,zoomOnPinch:a,panOnScroll:l,panOnScrollMode:c,panOnDrag:u,onConnect:d,onNodeDragStop:f,onPaneClick:m,onPaneScroll:_,onPaneContextMenu:v,onNodeDragStart:E,onMoveEnd:O,addEdges:D,zoomIn:w,zoomOut:C,setMinZoom:I,setMaxZoom:U,get isFold(){return q},set isFold(J){q=J},onZoomIn:G,onZoomOut:$,captureZoomClick:P,captureZoomScroll:B,get Panel(){return _f}};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}});var BN={class:"fold-title"},zN={class:"fold-content"},UN={class:"label",for:"draggable"},jN={class:"label",for:"connectable"},GN={class:"label",for:"selectable"},qN={class:"label",for:"zoomonscroll"},YN={class:"label",for:"zoomonpinch"},WN={class:"label",for:"panonscroll"},KN={class:"label"},XN={class:"label",for:"zoomondbl"},ZN={class:"label",for:"panemoveable"},JN={class:"label",for:"capturezoompaneclick"},QN={class:"label",for:"capturezoompanescroll"};function Ff(e,t,n,o,r,i){return z(),He(o.Panel,{position:"top-right"},{default:je(()=>[A("div",BN,[A("button",{id:"zoomin",onClick:t[0]||(t[0]=s=>o.isFold=!o.isFold)},"Fold")]),qe(A("div",zN,[A("div",null,[A("label",UN,[t[12]||(t[12]=ut(" Nodes draggable ")),qe(A("input",{id:"draggable","onUpdate:modelValue":t[1]||(t[1]=s=>o.nodesDraggable=s),type:"checkbox",class:"vue-flow__draggable"},null,512),[[Rt,o.nodesDraggable]])])]),A("div",null,[A("label",jN,[t[13]||(t[13]=ut(" Nodes connectable ")),qe(A("input",{id:"connectable","onUpdate:modelValue":t[2]||(t[2]=s=>o.nodesConnectable=s),type:"checkbox",class:"vue-flow__connectable"},null,512),[[Rt,o.nodesConnectable]])])]),A("div",null,[A("label",GN,[t[14]||(t[14]=ut(" Elements selectable ")),qe(A("input",{id:"selectable","onUpdate:modelValue":t[3]||(t[3]=s=>o.elementsSelectable=s),type:"checkbox",class:"vue-flow__selectable"},null,512),[[Rt,o.elementsSelectable]])])]),A("div",null,[A("label",qN,[t[15]||(t[15]=ut(" Zoom on scroll ")),qe(A("input",{id:"zoomonscroll","onUpdate:modelValue":t[4]||(t[4]=s=>o.zoomOnScroll=s),type:"checkbox",class:"vue-flow__zoomonscroll"},null,512),[[Rt,o.zoomOnScroll]])])]),A("div",null,[A("label",YN,[t[16]||(t[16]=ut(" Zoom on pinch ")),qe(A("input",{id:"zoomonpinch","onUpdate:modelValue":t[5]||(t[5]=s=>o.zoomOnPinch=s),type:"checkbox",class:"vue-flow__zoomonpinch"},null,512),[[Rt,o.zoomOnPinch]])])]),A("div",null,[A("label",WN,[t[17]||(t[17]=ut(" Pan on scroll ")),qe(A("input",{id:"panonscroll","onUpdate:modelValue":t[6]||(t[6]=s=>o.panOnScroll=s),type:"checkbox",class:"vue-flow__panonscroll"},null,512),[[Rt,o.panOnScroll]])])]),A("div",null,[A("label",KN,[t[19]||(t[19]=ut(" Pan on scroll mode ")),qe(A("select",{id:"panonscrollmode","onUpdate:modelValue":t[7]||(t[7]=s=>o.panOnScrollMode=s),class:"vue-flow__panonscrollmode"},t[18]||(t[18]=[A("option",{value:"free"},"Free",-1),A("option",{value:"horizontal"},"Horizontal",-1),A("option",{value:"vertical"},"Vertical",-1)]),512),[[fi,o.panOnScrollMode]])])]),A("div",null,[A("label",XN,[t[20]||(t[20]=ut(" Zoom on double click ")),qe(A("input",{id:"zoomondbl","onUpdate:modelValue":t[8]||(t[8]=s=>o.zoomOnDoubleClick=s),type:"checkbox",class:"vue-flow__zoomondbl"},null,512),[[Rt,o.zoomOnDoubleClick]])])]),A("div",null,[A("label",ZN,[t[21]||(t[21]=ut(" Pane movable ")),qe(A("input",{id:"panemoveable","onUpdate:modelValue":t[9]||(t[9]=s=>o.panOnDrag=s),type:"checkbox",class:"vue-flow__panemoveable"},null,512),[[Rt,o.panOnDrag]])])]),A("div",null,[A("label",JN,[t[22]||(t[22]=ut(" Capture on pane click ")),qe(A("input",{id:"capturezoompaneclick","onUpdate:modelValue":t[10]||(t[10]=s=>o.captureZoomClick=s),type:"checkbox",class:"vue-flow__capturezoompaneclick"},null,512),[[Rt,o.captureZoomClick]])])]),A("div",null,[A("label",QN,[t[23]||(t[23]=ut(" Capture on pane scroll ")),qe(A("input",{id:"capturezoompanescroll","onUpdate:modelValue":t[11]||(t[11]=s=>o.captureZoomScroll=s),type:"checkbox",class:"vue-flow__capturezoompanescroll"},null,512),[[Rt,o.captureZoomScroll]])])]),A("div",null,[A("label",{class:"label"},[t[24]||(t[24]=ut(" Zoom in ")),A("button",{id:"zoomin",onclick:o.onZoomIn,class:"vue-flow__capturezoompanescroll"},"+")])]),A("div",null,[A("label",{class:"label"},[t[25]||(t[25]=ut(" Zoom out ")),A("button",{id:"zoomout",onclick:o.onZoomOut,class:"vue-flow__capturezoompanescroll"},"-")])])],512),[[an,!o.isFold]])]),_:1})}Sr.render=Ff;Sr.__file="src\\NodeFlow\\component\\utils\\InteractionControls.vue";Sr.__scopeId="data-v-5f38abf1";var $f=Sr;var Xt=(e=>(e.Lines="lines",e.Dots="dots",e))(Xt||{}),Hf=function({dimensions:e,size:t,color:n}){return Ie("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Bf=function({radius:e,color:t}){return Ie("circle",{cx:e,cy:e,r:e,fill:t})};Xt.Lines+"",Xt.Dots+"";var e1={[Xt.Dots]:"#81818a",[Xt.Lines]:"#eee"},t1=["id","x","y","width","height","patternTransform"],n1={key:2,height:"100",width:"100"},o1=["fill"],r1=["x","y","fill"],i1={name:"Background",compatConfig:{MODE:3}},zf=me(Ne(W({},i1),{props:{id:{},variant:{default:()=>Xt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:2}},setup(e){let{id:t,viewport:n}=Ae(),o=ge(()=>{let[s,a]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],l=[s*n.value.zoom||1,a*n.value.zoom||1],c=e.size*n.value.zoom,u=e.variant===Xt.Dots?[c/e.offset,c/e.offset]:[l[0]/e.offset,l[1]/e.offset];return{scaledGap:l,offset:u,size:c}}),r=$e(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),i=$e(()=>e.color||e.patternColor||e1[e.variant||Xt.Dots]);return(s,a)=>(z(),X("svg",{class:"vue-flow__background vue-flow__container",style:Ke({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[it(s.$slots,"pattern-container",{id:r.value},()=>[A("pattern",{id:r.value,x:ae(n).x%o.value.scaledGap[0],y:ae(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[it(s.$slots,"pattern",{},()=>[s.variant===ae(Xt).Lines?(z(),He(ae(Hf),{key:0,size:s.lineWidth,color:i.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===ae(Xt).Dots?(z(),He(ae(Bf),{key:1,color:i.value,radius:o.value.size/s.offset},null,8,["color","radius"])):le("",!0),s.bgColor?(z(),X("svg",n1,[A("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,o1)])):le("",!0)])],8,t1)]),A("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,r1),it(s.$slots,"default",{id:r.value})],4))}}));var os=Lm(dm());function fm(){let{findNode:e}=Ae(),t=ie(new os.default.graphlib.Graph),n=ie("LR");function o(r,i,s){var l,c,u,d;let a=new os.default.graphlib.Graph;a.setDefaultEdgeLabel(()=>({})),a.setGraph({rankdir:s}),t.value=a,n.value=s;for(let f of r){if(f.data.type=="group")continue;let m=e(f.id);a.setNode(f.id,{width:(c=(l=m==null?void 0:m.dimensions)==null?void 0:l.width)!=null?c:150,height:(d=(u=m==null?void 0:m.dimensions)==null?void 0:u.height)!=null?d:50})}for(let f of i)a.setEdge(f.source,f.target);return os.default.layout(a),r.map(f=>{if(f.data.type=="group")return f;let m=a.node(f.id);return Ne(W({},f),{targetPosition:s==="LR"?ne.Left:ne.Top,sourcePosition:s==="LR"?ne.Right:ne.Bottom,position:{x:m.x,y:m.y}})})}return{layout:o}}var rs=me({__name:"NodeFlow",props:{jsonData:{type:null,required:!1},isMini:{type:Boolean,required:!0}},setup(e,{expose:t}){let n=e,o=ie([]),r=ie([]);{let d=!0;if(n.jsonData)try{o=ie(n.jsonData.nodes),r=ie(n.jsonData.edges),d=!1}catch(f){console.error("Failed to parse json:",f,"rawJson:",JSON.stringify(n.jsonData))}}if(n.isMini){let{zoomOnScroll:d,zoomOnDoubleClick:f}=Ae();d.value=!1,f.value=!1}let{layout:i}=fm();function s(d){return pt(this,null,function*(){o.value=i(o.value,r.value,d);let{fitView:f}=Ae();ct(()=>{f()})})}let a=ie(!1);De(a,(d,f)=>{f==!1&&d==!0&&o.value.length>1&&o.value[0].position.x==0&&o.value[0].position.y==0&&o.value[1].position.x==0&&o.value[1].position.y==0&&s("LR")}),t({layoutGraph:s});let{findEdge:l}=Ae();function c(d){for(let f of d)if(f.hasOwnProperty("selected")){let m=l(f.id);m.animated=f.selected}}let u={props:n,get nodes(){return o},set nodes(d){o=d},get edges(){return r},set edges(d){r=d},layout:i,layoutGraph:s,isNodeInitialized:a,findEdge:l,edgeAnimated:c,ObcanvasNode:wf,ComfyUINode:Nf,ComfyUINodeGroup:Sf,CommonNode:Cf,ItemNode:Lf,InteractionControls:$f,get Background(){return zf},get VueFlow(){return vf}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function pm(e,t,n,o,r,i){return z(),He(o.VueFlow,{class:"nf-node-flow",nodes:o.nodes,edges:o.edges,"prevent-scrolling":!0,onEdgesChange:o.edgeAnimated,onNodesInitialized:t[0]||(t[0]=s=>o.isNodeInitialized=!0)},{"node-obcanvas":je(s=>[ce(o.ObcanvasNode,{id:s.id,data:s.data},null,8,["id","data"])]),"node-comfyui":je(s=>[ce(o.ComfyUINode,{id:s.id,data:s.data},null,8,["id","data"])]),"node-comfyui-group":je(s=>[ce(o.ComfyUINodeGroup,{id:s.id,data:s.data},null,8,["id","data"])]),"node-common":je(s=>[ce(o.CommonNode,{id:s.id,data:s.data},null,8,["id","data"])]),"node-item":je(s=>[ce(o.ItemNode,{id:s.id,data:s.data},null,8,["id","data"])]),default:je(()=>[ce(o.Background,{style:{"background-color":"#222222"},"pattern-color":"#191919",variant:"lines",gap:16}),o.props.isMini?le("v-if",!0):(z(),He(o.InteractionControls,{key:0}))]),_:1},8,["nodes","edges"])}rs.render=pm;rs.__file="src\\NodeFlow\\component\\container\\NodeFlow.vue";var hm=rs;var is=me({__name:"dropdownButton",props:{label:{type:String,required:!0},fn:{type:Function,required:!0}},setup(e,{expose:t}){t();let n=e,o=ie(n.label),r=ie(n.fn);function i(){s.value=!s.value}let s=ie(!1);function a(f,m){o.value=f,r.value=m,r.value&&r.value(),s.value=!1}function l(){r.value&&r.value()}function c(f){u.value&&!u.value.contains(f.target)&&(s.value=!1)}let u=ie(null);nt(()=>{document.addEventListener("click",c)}),$n(()=>{document.removeEventListener("click",c)});let d={props:n,currentLabel:o,currentFn:r,toggleDropdown:i,isOpen:s,selectItem:a,onClickMainBtn:l,handleClickOutside:c,ddButtonRef:u};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}});var mO={class:"dd-button",ref:"ddButtonRef"},gO={key:0,class:"dd-button-menu"};function mm(e,t,n,o,r,i){return z(),X("div",mO,[le(" \u4E3B\u6309\u94AE "),A("button",{class:"dd-button-main",onClick:o.onClickMainBtn},Ce(o.currentLabel),1),le(" \u5524\u51FA\u83DC\u5355 "),A("button",{class:"dd-button-dropdown",onClick:o.toggleDropdown},"^"),le(" \u83DC\u5355 "),ce(vu,{name:"fade"},{default:je(()=>[o.isOpen?(z(),X("ul",gO,[it(e.$slots,"default",{selectItem:o.selectItem})])):le("v-if",!0)]),_:3})],512)}is.render=mm;is.__file="src\\NodeFlow\\component\\utils\\dropdownButton.vue";var gm=is;function vm(e,t){return new Promise((n,o)=>{!e||(t.value?(t.value=!1,e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),vO(t)):(t.value=!0,document.exitFullscreen?document.exitFullscreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen()))})}function vO(e){document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t);function t(){document.fullscreenElement||(e.value=!0,document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t))}}var Tr=me({__name:"NodeFlowContainerS",props:{rawData:{type:String,required:!1},mdData:{type:String,required:!1},jsonData:{type:null,required:!0},isMini:{type:Boolean,required:!0},fn_newView:{type:Function,required:!1}},setup(e,{expose:t}){t();let n=e,o=ge(()=>n.fn_newView||u),r=ie(n.isMini),i=ie();function s(_){var v;(v=i.value)==null||v.layoutGraph(_)}let a=ie(!0);function l(){let _=document.body,v=document.querySelector(".markdown-source-view .cm-scroller");a.value?(a.value=!1,_&&_.classList.add("nf-style-overflow-hidden"),v&&v.classList.add("nf-style-overflow-hidden")):(a.value=!0,_&&_.classList.remove("nf-style-overflow-hidden"),v&&v.classList.remove("nf-style-overflow-hidden"))}let c=ie();function u(){vm(c.value,r)}function d(_){let v;_=="mdData"?v=`
`+n.mdData:_=="rawData"?v=`
`+n.rawData:v=n.jsonData,console.log("Debug json:",v)}function f(_){let v;_=="mdData"?v=n.mdData:_=="rawData"?v=n.rawData:v=ge(()=>n.rawData||"error: get raw data error").value,navigator.clipboard.writeText(v).then(()=>{console.log("Info: copy success")},()=>{console.error("Error: copy fail")})}let m={props:n,_fn_newView:o,_isMini:r,RefChild:i,fn_autoPos:s,isAllowScroll:a,fn_switchAllowScroll:l,CanFullScreen:c,fn_fullScreen:u,fn_printData:d,fn_copyData:f,NodeFlow:hm,DropdownButton:gm};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}});var _O={class:"nf-toolbar"},yO=["onClick"],EO=["onClick"],wO=["onClick"],bO=["onClick"],NO=["onClick"],xO=["onClick"],SO=["onClick"],OO=["onClick"];function _m(e,t,n,o,r,i){return z(),X("div",{ref:"CanFullScreen",class:Be(o._isMini?"normal-size":"full-size")},[le(" \u4E3B\u753B\u5E03 "),le(" TODO \u6709\u7A7A\u634B\u4E00\u4E0B\u8FD9\u91CC\uFF0C\u5168\u5C4F\u8FD9\u5757\u6709\u4E9B\u4EE3\u7801\u5E94\u8BE5\u62BD\u79BB\u590D\u7528 "),A("div",{class:Be(o._isMini?"nf-shell-mini":"nf-shell-view")},[ce(o.NodeFlow,{ref:"RefChild",jsonData:n.jsonData,isMini:o._isMini},null,8,["jsonData","isMini"])],2),le(" \u5DE5\u5177\u680F "),A("div",_O,[A("button",{class:"nf-btn",onClick:t[0]||(t[0]=s=>o.fn_fullScreen())},"Full screen"),A("button",{class:"nf-btn",onClick:t[1]||(t[1]=s=>o._fn_newView())},"New view"),ce(o.DropdownButton,{class:"nf-btn",label:"LR layout",fn:()=>o.fn_autoPos("LR")},{default:je(({selectItem:s})=>[A("button",{class:"nf-btn",onClick:a=>s("LR layout",()=>o.fn_autoPos("LR"))},"LR layout",8,yO),A("button",{class:"nf-btn",onClick:a=>s("TB layout",()=>o.fn_autoPos("TB"))},"TB layout",8,EO)]),_:1},8,["fn"]),ce(o.DropdownButton,{class:"nf-btn",label:"Copy md",fn:()=>o.fn_copyData("mdData")},{default:je(({selectItem:s})=>[A("button",{class:"nf-btn",onClick:a=>s("Print json",()=>o.fn_printData("jsonData"))},"Print json",8,wO),A("button",{class:"nf-btn",onClick:a=>s("Print md",()=>o.fn_printData("mdData"))},"Print md",8,bO),A("button",{class:"nf-btn",onClick:a=>s("Print raw",()=>o.fn_printData("rawData"))},"Print raw",8,NO),A("button",{class:"nf-btn",onClick:a=>s("Copy json",()=>o.fn_copyData("jsonData"))},"Copy json",8,xO),A("button",{class:"nf-btn",onClick:a=>s("Copy md",()=>o.fn_copyData("mdData"))},"Copy md",8,SO),A("button",{class:"nf-btn",onClick:a=>s("Copy raw",()=>o.fn_copyData("rawData"))},"Copy raw",8,OO)]),_:1},8,["fn"]),A("button",{class:"nf-btn",onClick:t[2]||(t[2]=s=>o.fn_switchAllowScroll())},"Ex lock")])],2)}Tr.render=_m;Tr.__file="src\\NodeFlow\\component\\container\\NodeFlowContainerS.vue";Tr.__scopeId="data-v-638a96fb";var ym=Tr;function Em(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(CO));else if(e=="demo2")e=JSON.parse(JSON.stringify(kO));else if(e=="demo3")e=JSON.parse(JSON.stringify(TO));else return{code:-1,msg:"error demo: "+e,data:{}};return{code:0,msg:"",data:e}}var CO={nodes:[{id:"1",type:"input",position:{x:250,y:5},data:{label:"Node 11"}},{id:"2",position:{x:100,y:100},data:{label:"Node 12"}},{id:"3",type:"output",position:{x:400,y:200},data:{label:"Node 13"}},{id:"4",type:"special",position:{x:600,y:100},data:{label:"Node 14",hello:"world"}}],edges:[{id:"e1->2",source:"1",target:"2"},{id:"e2->3",source:"2",target:"3",animated:!0},{id:"e3->4",type:"special",source:"3",target:"4",data:{hello:"world"}}]},kO={nodes:[{id:"1",position:{x:0,y:0},type:"process"},{id:"2",position:{x:0,y:0},type:"process"},{id:"2a",position:{x:0,y:0},type:"process"},{id:"2b",position:{x:0,y:0},type:"process"},{id:"2c",position:{x:0,y:0},type:"process"},{id:"2d",position:{x:0,y:0},type:"process"},{id:"3",position:{x:0,y:0},type:"process"},{id:"4",position:{x:0,y:0},type:"process"},{id:"5",position:{x:0,y:0},type:"process"},{id:"6",position:{x:0,y:0},type:"process"},{id:"7",position:{x:0,y:0},type:"process"}],edges:[{id:"e1-2",source:"1",target:"2",type:"animation",animated:!0},{id:"e1-3",source:"1",target:"3",type:"animation",animated:!0},{id:"e2-2a",source:"2",target:"2a",type:"animation",animated:!0},{id:"e2-2b",source:"2",target:"2b",type:"animation",animated:!0},{id:"e2-2c",source:"2",target:"2c",type:"animation",animated:!0},{id:"e2c-2d",source:"2c",target:"2d",type:"animation",animated:!0},{id:"e3-7",source:"3",target:"4",type:"animation",animated:!0},{id:"e4-5",source:"4",target:"5",type:"animation",animated:!0},{id:"e5-6",source:"5",target:"6",type:"animation",animated:!0},{id:"e5-7",source:"5",target:"7",type:"animation",animated:!0}]},TO={nodes:[{id:"1",type:"color-selector",data:{color:"#6F3381"},position:{x:0,y:50}},{id:"2",type:"color-output",position:{x:350,y:114},targetPosition:"left"}],edges:[{id:"e1a-2",source:"1",sourceHandle:"a",target:"2",animated:!0,style:{stroke:"#6F3381"}}]};function wm(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(DO));else return{code:-1,msg:"error demo: "+e,data:{}};try{let t=[];e.nodes.forEach(i=>{t.push({id:i.id,position:{x:i.x,y:i.y},data:{label:i.hasOwnProperty("text")?i.text:i.hasOwnProperty("file")?i.file:"Error Type: "+i.type},type:"obcanvas"})});let o=[];return e.edges.forEach(i=>{o.push({id:i.id,source:i.fromNode,target:i.toNode,sourceHandle:i.fromSide,targetHandle:i.toSide,markerEnd:"arrowclosed"})}),{code:0,msg:"",data:{nodes:t,edges:o}}}catch(t){return{code:-1,msg:"error: obcanvas json parse fail: "+t,data:{}}}}var DO={nodes:[{id:"d1acdb5136ffb1f1",x:25,y:70,width:250,height:60,type:"text",text:`## Title

**Test** *1*
`},{id:"f7dc36d69da1bb36",x:330,y:70,width:250,height:60,type:"text",text:`~~Test~~ ==2==
`}],edges:[{id:"fc3f1bc43902aac9",fromNode:"d1acdb5136ffb1f1",fromSide:"right",toNode:"f7dc36d69da1bb36",toSide:"left"}]};function bm(e){if(typeof e=="string")if(e=="demo")e=JSON.parse(JSON.stringify(IO));else if(e=="demo2")e=JSON.parse(JSON.stringify(AO));else return{code:-1,msg:"error demo: "+e,data:{}};try{let t=[];e.nodes.forEach(l=>{t.push(Ne(W({id:""+l.id,position:{x:l.pos[0],y:l.pos[1]-30},data:{label:l.hasOwnProperty("title")?l.title:l.type,type:l.type,inputs:l.inputs,outputs:l.outputs,widgets_values:l.widgets_values}},l.hasOwnProperty("size")?{width:l.size[0]+"px",height:l.size[1]+30+"px"}:{}),{type:"comfyui"}))});let o=[],r=e.links,i=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];r.forEach(l=>{let c=l[5].toLowerCase().charCodeAt(0)%20;o.push({id:""+l[0],style:{stroke:i[c]},source:""+l[1],sourceHandle:"source-"+l[2],target:""+l[3],targetHandle:"target-"+l[4]})});let s=e.groups,a=0;return s.forEach(l=>{t.push(Ne(W({id:"group-"+a++,position:{x:l.bounding[0],y:l.bounding[1]},width:l.bounding[2]+"px",height:l.bounding[3]+30+"px",data:{label:l.title}},l.hasOwnProperty("color")?{style:{backgroundColor:l.color+"44",zIndex:-1}}:{}),{type:"comfyui-group"}))}),{code:0,msg:"",data:{nodes:t,edges:o}}}catch(t){return{code:-1,msg:"error: comfyui json parse fail: "+t,data:{}}}}var IO={last_node_id:9,last_link_id:9,nodes:[{id:6,type:"CLIPTextEncode",pos:{0:373,1:47},size:{0:422.84503173828125,1:164.31304931640625},flags:{},order:2,mode:0,inputs:[{name:"clip",type:"CLIP",link:3}],outputs:[{name:"CONDITIONING",type:"CONDITIONING",links:[4],slot_index:0}],properties:{"Node name for S&R":"CLIPTextEncode"},widgets_values:["beautiful scenery nature glass bottle landscape, , purple galaxy bottle,"]},{id:7,type:"CLIPTextEncode",pos:{0:408,1:569},size:{0:425.27801513671875,1:180.6060791015625},flags:{},order:3,mode:0,inputs:[{name:"clip",type:"CLIP",link:5}],outputs:[{name:"CONDITIONING",type:"CONDITIONING",links:[6],slot_index:0}],properties:{"Node name for S&R":"CLIPTextEncode"},widgets_values:["text, watermark"]},{id:5,type:"EmptyLatentImage",pos:{0:489,1:809},size:{0:315,1:106},flags:{},order:0,mode:0,inputs:[],outputs:[{name:"LATENT",type:"LATENT",links:[2],slot_index:0}],properties:{"Node name for S&R":"EmptyLatentImage"},widgets_values:[512,512,1]},{id:8,type:"VAEDecode",pos:{0:1325,1:336},size:{0:210,1:46},flags:{},order:5,mode:0,inputs:[{name:"samples",type:"LATENT",link:7},{name:"vae",type:"VAE",link:8}],outputs:[{name:"IMAGE",type:"IMAGE",links:[9],slot_index:0}],properties:{"Node name for S&R":"VAEDecode"},widgets_values:[]},{id:9,type:"SaveImage",pos:{0:1577,1:335},size:[210,270],flags:{},order:6,mode:0,inputs:[{name:"images",type:"IMAGE",link:9}],outputs:[],properties:{},widgets_values:["ComfyUI"]},{id:3,type:"KSampler",pos:{0:941,1:377},size:{0:315,1:262},flags:{},order:4,mode:0,inputs:[{name:"model",type:"MODEL",link:1},{name:"positive",type:"CONDITIONING",link:4},{name:"negative",type:"CONDITIONING",link:6},{name:"latent_image",type:"LATENT",link:2}],outputs:[{name:"LATENT",type:"LATENT",links:[7],slot_index:0}],properties:{"Node name for S&R":"KSampler"},widgets_values:[984943483018319,"randomize",20,8,"euler","normal",1]},{id:4,type:"CheckpointLoaderSimple",pos:{0:19,1:438},size:{0:315,1:98},flags:{},order:1,mode:0,inputs:[],outputs:[{name:"MODEL",type:"MODEL",links:[1],slot_index:0},{name:"CLIP",type:"CLIP",links:[3,5],slot_index:1},{name:"VAE",type:"VAE",links:[8],slot_index:2}],properties:{"Node name for S&R":"CheckpointLoaderSimple"},widgets_values:["abyssorangemix2SFW_abyssorangemix2Sfw.safetensors"]}],links:[[1,4,0,3,0,"MODEL"],[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[4,6,0,3,1,"CONDITIONING"],[5,4,1,7,0,"CLIP"],[6,7,0,3,2,"CONDITIONING"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[9,8,0,9,0,"IMAGE"]],groups:[],config:{},extra:{ds:{scale:1.1000000000000003,offset:[105.73286361205797,93.22187298366379]}},version:.4},AO={last_node_id:103,last_link_id:127,nodes:[{id:52,type:"ADE_StandardUniformContextOptions",pos:[1689,830],size:{0:327.6000061035156,1:222},flags:{},order:0,mode:0,inputs:[{link:null,name:"prev_context",type:"CONTEXT_OPTIONS",label:"\u524D\u4E0A\u4E0B\u6587"},{link:null,name:"view_opts",type:"VIEW_OPTS",label:"\u89C6\u56FE\u8BBE\u7F6E"}],outputs:[{links:[40],name:"CONTEXT_OPTS",shape:3,type:"CONTEXT_OPTIONS",label:"\u4E0A\u4E0B\u6587\u8BBE\u7F6E"}],properties:{"Node name for S&R":"ADE_StandardUniformContextOptions"},widgets_values:[16,1,4,"pyramid",!1,0,1]},{id:49,type:"ADE_ApplyAnimateDiffModelSimple",pos:[1703,675],size:{0:304.79998779296875,1:106},flags:{},order:11,mode:0,inputs:[{link:37,name:"motion_model",type:"MOTION_MODEL_ADE",label:"\u52A8\u6001\u6A21\u578B"},{link:null,name:"motion_lora",slot_index:1,type:"MOTION_LORA",label:"\u52A8\u6001LoRA"},{link:null,name:"scale_multival",type:"MULTIVAL",label:"\u7F29\u653E\u591A\u503C"},{link:null,name:"effect_multival",type:"MULTIVAL",label:"\u6548\u679C\u591A\u503C"},{link:null,name:"ad_keyframes",type:"AD_KEYFRAMES",label:"AD\u5173\u952E\u5E27"}],outputs:[{links:[38],name:"M_MODELS",shape:3,slot_index:0,type:"M_MODELS",label:"\u52A8\u6001\u6A21\u578B\u7EC4"}],properties:{"Node name for S&R":"ADE_ApplyAnimateDiffModelSimple"}},{id:47,type:"ADE_LoadAnimateDiffModel",pos:[1190,600],size:{0:340,1:60},flags:{},order:1,mode:0,inputs:[{link:null,name:"ad_settings",type:"AD_SETTINGS",label:"AD\u8BBE\u7F6E"}],outputs:[{links:[37],name:"MOTION_MODEL",shape:3,slot_index:0,type:"MOTION_MODEL_ADE",label:"\u52A8\u6001\u6A21\u578B"}],properties:{"Node name for S&R":"ADE_LoadAnimateDiffModel"},widgets_values:["AnimateLCM\\sd15_t2v_beta.ckpt"]},{id:70,type:"ControlNetLoaderAdvanced",pos:[900,1390],size:{0:367.79998779296875,1:58},flags:{},order:2,mode:0,inputs:[{name:"timestep_keyframe",type:"TIMESTEP_KEYFRAME",link:null,label:"\u5E27\u95F4\u9694"}],outputs:[{name:"CONTROL_NET",type:"CONTROL_NET",links:[75],shape:3,label:"ControlNet"}],properties:{"Node name for S&R":"ControlNetLoaderAdvanced"},widgets_values:["1.5\\control_v11p_sd15_openpose.pth"]},{id:69,type:"ACN_AdvancedControlNetApply",pos:[1680,1110],size:{0:355.20001220703125,1:266},flags:{},order:20,mode:0,inputs:[{name:"positive",type:"CONDITIONING",link:71,label:"\u6B63\u9762\u6761\u4EF6"},{name:"negative",type:"CONDITIONING",link:72,label:"\u8D1F\u9762\u6761\u4EF6"},{name:"control_net",type:"CONTROL_NET",link:75,label:"ControlNet",slot_index:2},{name:"image",type:"IMAGE",link:119,label:"\u56FE\u50CF",slot_index:3},{name:"mask_optional",type:"MASK",link:null,label:"\u906E\u7F69"},{name:"timestep_kf",type:"TIMESTEP_KEYFRAME",link:null,label:"\u5E27\u95F4\u9694",slot_index:5},{name:"latent_kf_override",type:"LATENT_KEYFRAME",link:null,label:"Latent\u5173\u952E\u5E27"},{name:"weights_override",type:"CONTROL_NET_WEIGHTS",link:null,label:"ControlNet\u6743\u91CD"},{name:"model_optional",type:"MODEL",link:null,slot_index:8}],outputs:[{name:"positive",type:"CONDITIONING",links:[73],shape:3,label:"\u6B63\u9762\u6761\u4EF6",slot_index:0},{name:"negative",type:"CONDITIONING",links:[74],shape:3,label:"\u8D1F\u9762\u6761\u4EF6",slot_index:1},{name:"model_opt",type:"MODEL",links:null,shape:3,slot_index:2}],properties:{"Node name for S&R":"ACN_AdvancedControlNetApply"},widgets_values:[1,0,1]},{id:60,type:"LCMScheduler",pos:[2150,1500],size:{0:315,1:82},flags:{},order:18,mode:0,inputs:[{link:66,name:"model",slot_index:0,type:"MODEL",label:"model"}],outputs:[{links:[55],name:"SIGMAS",shape:3,type:"SIGMAS",label:"SIGMAS"}],properties:{"Node name for S&R":"LCMScheduler"},widgets_values:[10,1]},{id:59,type:"SamplerLCMCycle",pos:[2170,1300],size:{0:315,1:130},flags:{},order:3,mode:0,outputs:[{links:[54],name:"SAMPLER",shape:3,type:"SAMPLER",label:"SAMPLER"}],properties:{"Node name for S&R":"SamplerLCMCycle"},widgets_values:[2,2,!1,0]},{id:63,type:"BNK_CLIPTextEncodeAdvanced",pos:[920,1140],size:{0:400,1:200},flags:{},order:16,mode:0,inputs:[{link:65,name:"clip",type:"CLIP",label:"CLIP"}],outputs:[{links:[72],name:"CONDITIONING",shape:3,type:"CONDITIONING",label:"\u6761\u4EF6",slot_index:0}],properties:{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},widgets_values:["(worst quality:1.3), unfinished sketch, blurry, normal, mundane, boring, everyday, safe, ordinary, monochrome, greyscale, text, watermark","mean","A1111"]},{id:62,type:"BNK_CLIPTextEncodeAdvanced",pos:[920,860],size:{0:400,1:200},flags:{},order:15,mode:0,inputs:[{link:64,name:"clip",slot_index:0,type:"CLIP",label:"CLIP"}],outputs:[{links:[71],name:"CONDITIONING",shape:3,type:"CONDITIONING",label:"\u6761\u4EF6",slot_index:0}],properties:{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},widgets_values:["(best quality, masterpiece), 1boy, mechano punk plaza, blue eyes, dancing","mean","A1111"]},{id:92,type:"IPAdapterApply",pos:[2672.018828230932,342.46597762958794],size:{0:315,1:258},flags:{},order:19,mode:0,inputs:[{name:"ipadapter",type:"IPADAPTER",link:103,label:"IP\u9002\u914D"},{name:"clip_vision",type:"CLIP_VISION",link:104,label:"CLIP\u89C6\u89C9",slot_index:1},{name:"image",type:"IMAGE",link:105,label:"\u56FE\u50CF"},{name:"model",type:"MODEL",link:106,label:"\u6A21\u578B"},{name:"attn_mask",type:"MASK",link:null,label:"\u5173\u6CE8\u5C42\u906E\u7F69"}],outputs:[{name:"MODEL",type:"MODEL",links:[107],shape:3,label:"\u6A21\u578B",slot_index:0}],properties:{"Node name for S&R":"IPAdapterApply"},widgets_values:[1,0,"original",0,1,!1]},{id:94,type:"CheckpointLoader|pysssss",pos:[1050,390],size:{0:410,1:122},flags:{},order:4,mode:0,outputs:[{name:"MODEL",type:"MODEL",links:[112],shape:3,label:"\u6A21\u578B",slot_index:0},{name:"CLIP",type:"CLIP",links:[113],shape:3,label:"CLIP",slot_index:1},{name:"VAE",type:"VAE",links:null,shape:3,label:"VAE"}],properties:{"Node name for S&R":"CheckpointLoader|pysssss"},widgets_values:[{content:"sd1.5\\\u52A8\u6F2B\\darkSushiMixMix_225D.safetensors",image:"checkpoints/sd1.5\\\u52A8\u6F2B\\darkSushiMixMix_225D.jpg"},"[none]"]},{id:50,type:"ADE_UseEvolvedSampling",pos:[2130,870],size:{0:315,1:118},flags:{},order:14,mode:0,inputs:[{link:62,name:"model",slot_index:0,type:"MODEL",label:"\u6A21\u578B"},{link:38,name:"m_models",slot_index:1,type:"M_MODELS",label:"\u52A8\u6001\u6A21\u578B\u7EC4"},{link:40,name:"context_options",slot_index:2,type:"CONTEXT_OPTIONS",label:"\u4E0A\u4E0B\u6587\u8BBE\u7F6E"},{link:null,name:"sample_settings",type:"SAMPLE_SETTINGS",label:"\u91C7\u6837\u8BBE\u7F6E"}],outputs:[{links:[66,106],name:"MODEL",shape:3,slot_index:0,type:"MODEL",label:"\u6A21\u578B"}],properties:{"Node name for S&R":"ADE_UseEvolvedSampling"},widgets_values:["lcm[100_ots]"]},{id:93,type:"CLIPVisionLoader",pos:[2160,400],size:{0:315,1:58},flags:{},order:5,mode:0,outputs:[{name:"CLIP_VISION",type:"CLIP_VISION",links:[104],shape:3,label:"CLIP\u89C6\u89C9"}],properties:{"Node name for S&R":"CLIPVisionLoader"},widgets_values:["clip_h.pth"]},{id:64,type:"LoraLoader",pos:[1620,450],size:{0:460,1:150},flags:{},order:12,mode:0,inputs:[{link:112,name:"model",type:"MODEL",label:"\u6A21\u578B"},{link:113,name:"clip",slot_index:1,type:"CLIP",label:"CLIP"}],outputs:[{links:[62],name:"MODEL",shape:3,slot_index:0,type:"MODEL",label:"\u6A21\u578B"},{links:[64,65],name:"CLIP",shape:3,slot_index:1,type:"CLIP",label:"CLIP"}],properties:{"Node name for S&R":"LoraLoader"},widgets_values:["AnimateLCM\\sd15_lora_t2v_beta.safetensors",1,1]},{id:91,type:"IPAdapterModelLoader",pos:[1650,330],size:{0:450,1:60},flags:{},order:6,mode:0,outputs:[{name:"IPADAPTER",type:"IPADAPTER",links:[103],shape:3,label:"IP\u9002\u914D",slot_index:0}],properties:{"Node name for S&R":"IPAdapterModelLoader"},widgets_values:["IP\\1.5\\H\\ip-adapter-plus_sd15.bin"]},{id:58,type:"SamplerCustom",pos:[2550,910],size:{0:355.20001220703125,1:230},flags:{},order:21,mode:0,inputs:[{link:107,name:"model",type:"MODEL",label:"\u6A21\u578B"},{link:73,name:"positive",slot_index:1,type:"CONDITIONING",label:"\u6B63\u9762\u6761\u4EF6"},{link:74,name:"negative",slot_index:2,type:"CONDITIONING",label:"\u8D1F\u9762\u6761\u4EF6"},{link:54,name:"sampler",slot_index:3,type:"SAMPLER",label:"\u91C7\u6837\u5668"},{link:55,name:"sigmas",slot_index:4,type:"SIGMAS",label:"Sigmas"},{link:102,name:"latent_image",slot_index:5,type:"LATENT",label:"Latent"}],outputs:[{links:[],name:"output",shape:3,slot_index:0,type:"LATENT",label:"\u8F93\u51FA"},{links:[53],name:"denoised_output",shape:3,slot_index:1,type:"LATENT",label:"\u964D\u566A\u8F93\u51FA"}],properties:{"Node name for S&R":"SamplerCustom"},widgets_values:[!0,0,"fixed",1.8]},{id:67,type:"VAELoader",pos:[2580,1200],size:{0:315,1:58},flags:{},order:7,mode:0,outputs:[{links:[69],name:"VAE",shape:3,type:"VAE"}],properties:{"Node name for S&R":"VAELoader"},widgets_values:["kl-f8-anime2.ckpt"]},{id:80,type:"EmptyLatentImage",pos:[1700,1540],size:{0:320,1:110},flags:{},order:17,mode:0,inputs:[{name:"width",type:"INT",link:86,widget:{name:"width"},label:"\u5BBD\u5EA6"},{name:"height",type:"INT",link:87,widget:{name:"height"},label:"\u9AD8\u5EA6"},{name:"batch_size",type:"INT",link:88,widget:{name:"batch_size"},label:"\u6279\u6B21\u5927\u5C0F"}],outputs:[{name:"LATENT",type:"LATENT",links:[102],shape:3,label:"Latent",slot_index:0}],properties:{"Node name for S&R":"EmptyLatentImage"},widgets_values:[512,512,1]},{id:81,type:"ImageSizeAndBatchSize",pos:[1270,1630],size:{0:210,1:66},flags:{},order:13,mode:0,inputs:[{name:"image",type:"IMAGE",link:120,label:"\u56FE\u50CF",slot_index:0}],outputs:[{name:"width",type:"INT",links:[86],shape:3,label:"\u5BBD\u5EA6",slot_index:0},{name:"height",type:"INT",links:[87],shape:3,label:"\u9AD8\u5EA6",slot_index:1},{name:"batch_size",type:"INT",links:[88],shape:3,label:"\u6279\u6B21\u5927\u5C0F",slot_index:2}],properties:{"Node name for S&R":"ImageSizeAndBatchSize"}},{id:97,type:"VHS_LoadVideo",pos:[910,1540],size:[210,360],flags:{},order:8,mode:0,inputs:[{name:"batch_manager",type:"VHS_BatchManager",link:null}],outputs:[{name:"IMAGE",type:"IMAGE",links:[119,120],shape:3,label:"\u56FE\u50CF",slot_index:0},{name:"frame_count",type:"INT",links:null,shape:3,label:"\u5E27\u8BA1\u6570"},{name:"audio",type:"VHS_AUDIO",links:null,shape:3}],properties:{"Node name for S&R":"VHS_LoadVideo"},widgets_values:{video:"cxk_00003_.gif",force_rate:0,force_size:"Disabled",custom_width:512,custom_height:512,frame_load_cap:160,skip_first_frames:50,select_every_nth:1,"choose video to upload":"image",videopreview:{hidden:!1,paused:!1,params:{frame_load_cap:160,skip_first_frames:50,force_rate:0,filename:"cxk_00003_.gif",type:"input",format:"image/gif",select_every_nth:1}}}},{id:86,type:"LoadImage",pos:[2190,510],size:{0:250,1:310},flags:{},order:9,mode:0,outputs:[{name:"IMAGE",type:"IMAGE",links:[105],shape:3,label:"\u56FE\u50CF",slot_index:0},{name:"MASK",type:"MASK",links:null,shape:3,label:"\u906E\u7F69"}],properties:{"Node name for S&R":"LoadImage"},widgets_values:["00581-420388937-((masterpiece)), (((best quality))), ((ultra-detailed)), (adult_2), ((illustration)), (cute detailed face_1.25),1girl, robotic u.png","image"]},{id:102,type:"VHS_LoadAudio",pos:[3320,1130],size:{0:315,1:82},flags:{},order:10,mode:0,outputs:[{name:"audio",type:"VHS_AUDIO",links:[126],shape:3,label:"\u97F3\u9891",slot_index:0}],properties:{"Node name for S&R":"VHS_LoadAudio"},widgets_values:{audio_file:"C:\\ComfyUI_windows_portable\\ComfyUI\\input\\audio.mp3",seek_seconds:0}},{id:56,type:"VAEDecode",pos:[3e3,1030],size:{0:210,1:46},flags:{},order:22,mode:0,inputs:[{link:53,name:"samples",type:"LATENT",label:"Latent"},{link:69,name:"vae",slot_index:1,type:"VAE",label:"VAE"}],outputs:[{links:[121,127],name:"IMAGE",shape:3,slot_index:0,type:"IMAGE",label:"\u56FE\u50CF"}],properties:{"Node name for S&R":"VAEDecode"}},{id:103,type:"SaveImage",pos:[3372.826571377841,1362.901866566051],size:{0:315,1:58},flags:{},order:24,mode:0,inputs:[{name:"images",type:"IMAGE",link:127,label:"\u56FE\u50CF"}],properties:{},widgets_values:["111"]},{id:96,type:"VHS_VideoCombine",pos:[3790,1e3],size:[320,290],flags:{},order:23,mode:0,inputs:[{name:"images",type:"IMAGE",link:121,label:"\u56FE\u50CF"},{name:"audio",type:"VHS_AUDIO",link:126,label:"\u97F3\u9891",slot_index:1},{name:"batch_manager",type:"VHS_BatchManager",link:null,label:"\u6279\u6B21\u7BA1\u7406"}],outputs:[{name:"Filenames",type:"VHS_FILENAMES",links:null,shape:3,label:"\u6587\u4EF6\u540D"}],properties:{"Node name for S&R":"VHS_VideoCombine"},widgets_values:{frame_rate:10,loop_count:0,filename_prefix:"AnimateDiff/comfy",format:"video/h265-mp4",pix_fmt:"yuv420p",crf:22,save_metadata:!0,pingpong:!0,save_output:!0,videopreview:{hidden:!1,paused:!1,params:{filename:"comfy_00011-audio.mp4",subfolder:"AnimateDiff",type:"output",format:"video/h265-mp4"}}}}],links:[[37,47,0,49,0,"MOTION_MODEL_ADE"],[38,49,0,50,1,"M_MODELS"],[40,52,0,50,2,"CONTEXT_OPTIONS"],[53,58,1,56,0,"LATENT"],[54,59,0,58,3,"SAMPLER"],[55,60,0,58,4,"SIGMAS"],[62,64,0,50,0,"MODEL"],[64,64,1,62,0,"CLIP"],[65,64,1,63,0,"CLIP"],[66,50,0,60,0,"MODEL"],[69,67,0,56,1,"VAE"],[71,62,0,69,0,"CONDITIONING"],[72,63,0,69,1,"CONDITIONING"],[73,69,0,58,1,"CONDITIONING"],[74,69,1,58,2,"CONDITIONING"],[75,70,0,69,2,"CONTROL_NET"],[86,81,0,80,0,"INT"],[87,81,1,80,1,"INT"],[88,81,2,80,2,"INT"],[102,80,0,58,5,"LATENT"],[103,91,0,92,0,"IPADAPTER"],[104,93,0,92,1,"CLIP_VISION"],[105,86,0,92,2,"IMAGE"],[106,50,0,92,3,"MODEL"],[107,92,0,58,0,"MODEL"],[112,94,0,64,0,"MODEL"],[113,94,1,64,1,"CLIP"],[119,97,0,69,3,"IMAGE"],[120,97,0,81,0,"IMAGE"],[121,56,0,96,0,"IMAGE"],[126,102,0,96,1,"VHS_AUDIO"],[127,56,0,103,0,"IMAGE"]],groups:[],config:{},extra:{},version:.4};function Nm(e){var o,r;if(e.startsWith("demo"))if(e=="demo")e=MO;else return{code:-1,msg:"error demo: "+e,data:{}};let t=0,n=[];try{let i=[],s=[],a,l,c,u;for(a of e.split(`
`)){let d=a.match(/(^\s*)(- )?(.*)/);if(!!d){if(!d[2]){if(i.length==0){Ye.isDebug&&console.warn("\u8FFD\u52A0\u6362\u884C\u5185\u5BB9\u5931\u8D25: \u9996\u884C\u975E\u5217\u8868");continue}let f=s[s.length-1];if(f.self+=`
`+d[3],!f.self_data.hasOwnProperty("value")){Ye.isDebug&&console.warn("\u8FFD\u52A0\u6362\u884C\u5185\u5BB9\u5931\u8D25: \u8FFD\u52A0\u8282\u70B9\u65E0vlaue\u5C5E\u6027");continue}f.self_data.value+=(f.self_data.value==""?"":`
`)+d[3];continue}l=d[1].length;{c=-1;for(let f=0;f<i.length;f++)if(i[f]>=l){i=i.slice(0,f+1),c=f;break}c==-1&&(i.push(l),c=i.length-1)}{let f=[],_=d[3].split(",");for(let v of _)f.push(v.trim().split(":"));f[3]?u={self:d[3],children:[],self_data:{type:"edge",id:""+t++,parentId:"",parent:null,from_node:f[0][0],from_socket:f[1][0],to_node:f[2][0],to_socket:f[3][0],name:f[4]?f[4][0]:""}}:f[1]?u={self:d[3],children:[],self_data:{type:f[1]&&["i","input","o","output","v","value"].includes(f[1][0])?f[1][0]:"value",id:f[0][0],name:(o=f[0][1])!=null?o:f[0][0],parentId:"",parent:null,value:f[2]?f[2][0]:""}}:u={self:d[3],children:[],self_data:{type:"node",id:f[0][0],name:(r=f[0][1])!=null?r:f[0][0],parentId:"",parent:null,children:{inputs:[],outputs:[],values:[]}}},s=s.slice(0,i.length),s[c]=u}if(c==0)n.push(u);else{let f=s[c-1];if(f.self_data.type!="n"&&f.self_data.type!="node"&&f.self_data.type!="g"&&f.self_data.type!="group")continue;f.children.push(u),u.self_data.parentId=f.self_data.id,u.self_data.parent=f,u.self_data.type=="input"||u.self_data.type=="i"?(f.self_data.type="node",f.self_data.children.inputs.push(u)):u.self_data.type=="output"||u.self_data.type=="o"?(f.self_data.type="node",f.self_data.children.outputs.push(u)):u.self_data.type=="value"||u.self_data.type=="v"?(f.self_data.type="node",f.self_data.children.values.push(u)):(u.self_data.type=="node"||u.self_data.type=="n")&&(f.self_data.type="group")}}}}catch(i){return{code:-1,msg:"error: list parse fail: "+i,data:{}}}{if(n.length!=2)return{code:-1,msg:"error: without rootNode: edges and edges",data:{}};let i=[];{let a=function(l){for(let c of l){if(c.self_data.type!="n"&&c.self_data.type!="node"&&c.self_data.type!="g"&&c.self_data.type!="group")continue;let u=Ne(W({id:c.self_data.id,data:{type:c.self_data.type,label:c.self_data.name,inputs:c.self_data.children.inputs.map(d=>({id:d.self_data.id,name:d.self_data.name,value:d.self_data.value})),outputs:c.self_data.children.outputs.map(d=>({id:d.self_data.id,name:d.self_data.name,value:d.self_data.value})),values:c.self_data.children.values.map(d=>({id:d.self_data.id,name:d.self_data.name,value:d.self_data.value}))},position:{x:0,y:0}},c.self_data.parentId==""||c.self_data.parentId=="nodes"?{}:{parentNode:c.self_data.parentId}),{type:"common"});i.push(u),a(c.children)}};a(n[0].children)}let s=[];{let l=function(c){for(let u of c){if(u.self_data.type!="e"&&u.self_data.type!="edge")continue;let d=u.self_data.from_socket.toLowerCase().charCodeAt(0)%20;s.push({id:u.self_data.id,style:{stroke:a[d]},source:u.self_data.from_node,sourceHandle:u.self_data.from_socket,target:u.self_data.to_node,targetHandle:u.self_data.to_socket}),l(u.children)}},a=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];l(n[1].children)}return{code:0,msg:"",data:{nodes:i,edges:s}}}}var MO=`
- nodes
  - node1:KSample
    - Latent, o
    - model, i
    - positive, i
    - negative, i
    - Latent, i
    - seed,
    - control_after_generate,, randomize
    - steps,, 20
    - CFG,, 8.0
    - sampler_name,, euler
    - scheduler,, normal
    - denoise,, 1.00
    - io defaultTest, i , test
    - io defaultTest, o, test
    - t1:noValueTest,
    - t2:,, noKeyTest
      mul lines test
  - node2:KSample
    - \u6F5C\u7A7A\u95F4, o
    - \u6A21\u578B, i
    - \u6B63\u9762\u6761\u4EF6, i
    - \u8D1F\u9762\u6761\u4EF6, i
    - \u6F5C\u7A7A\u95F4, i
    - \u79CD\u5B50,
    - \u8FD0\u884C\u540E\u64CD\u4F5C,
    - \u6B65\u6570,
    - CFG,
    - \u91C7\u6837\u5668/\u91C7\u6837\u65B9\u6CD5,
    - \u8C03\u5EA6\u5668,
    - \u964D\u566A,
  - translate
- edges
  - node1,Latent, translate,l
  - translate,r, node2, \u6F5C\u7A7A\u95F4
`;function xm(e){if(typeof e=="string")if(e.startsWith("demo"))e=JSON.parse(JSON.stringify(PO));else return{code:-1,msg:"error demo: "+e,data:{}};for(let t of e.nodes)t.hasOwnProperty("position")||(t.position={x:0,y:0}),(!t.hasOwnProperty("valueType")||t.valueType=="")&&(t.valueType="item-default"),t.type="item";return{code:0,msg:"",data:e}}var PO={nodes:[{id:6,data:{label:"itemData testData",valueType:"itemData valueType",items:[{id:"01",name:"null",refType:"input",valueType:"item-default",value:""},{id:"02",name:"null",refType:"output",valueType:"item-default",value:""},{id:"03",name:"color",refType:"input",valueType:"item-color",value:"#2283fc"},{id:"1",name:"number",refType:"input",valueType:"item-default",value:"123"},{id:"2",name:"number",refType:"output",valueType:"item-default",value:"456"},{id:"3",name:"vName",refType:"value",valueType:"item-default",value:"vValue"},{id:"4",name:"clip",refType:"input",valueType:"item-default",value:""},{id:"5",name:"clip",refType:"output",valueType:"item-default",value:""},{id:"6",name:"selectName",refType:"value",valueType:"item-dropdown",value:"select1|select2|select3"},{id:"7",name:"markdown",refType:"value",valueType:"item-markdown",value:`## Markdown

**bord** *italic* ==highlight== ~~del~~`}]}}]};function Sm(e){if(e.startsWith("demo"))if(e=="demo")e=RO;else return{code:-1,msg:"error demo: "+e,data:{}};let t,n=VO(e);if(n.code!=0)return n;t=n.data;{if(t.length!=2)return{code:-1,msg:"error: without rootNode: edges and edges",data:{}};let o=[];{let i=function(s){for(let a of s){if(a.self_data.type!="n"&&a.self_data.type!="node"&&a.self_data.type!="g"&&a.self_data.type!="group")continue;let l=Ne(W({id:a.self_data.id,data:{type:a.self_data.type,label:a.self_data.name,items:a.self_data.items},position:{x:0,y:0}},a.self_data.parentId==""||a.self_data.parentId=="nodes"?{}:{parentNode:a.self_data.parentId}),{type:"item"});o.push(l),i(a.children)}};i(t[0].children)}let r=[];{let s=function(a){for(let l of a){if(l.self_data.type!="e"&&l.self_data.type!="edge")continue;let c=l.self_data.from_socket.toLowerCase().charCodeAt(0)%20;r.push({id:l.self_data.id,style:{stroke:i[c]},source:l.self_data.from_node,sourceHandle:l.self_data.from_socket,target:l.self_data.to_node,targetHandle:l.self_data.to_socket}),s(l.children)}},i=["#ff0000","#ff4d00","#ff9900","#ffe600","#ccff00","#80ff00","#33ff00","#00ff1a","#00ff66","#00ffb3","#00ffff","#00b3ff","#0066ff","#001aff","#3300ff","#8000ff","#cc00ff","#ff00e6","#ff0099","#ff004c"];s(t[1].children)}return{code:0,msg:"",data:{nodes:o,edges:r}}}}function VO(e){let t=0,n=[];try{let o=[],r=[],i=0,s,a,l,c,u,d,f=null,m=null,_=e.split(`
`);for(i=0;i<_.length;i++){let v=function(){var w,C;let E=[],D=l.split(",");for(let I of D)E.push(I.trim().split(":"));E[3]?d.self_data={type:"edge",id:""+t++,parentId:"",parent:null,from_node:E[0][0],from_socket:E[1][0],to_node:E[2][0],to_socket:E[3][0],name:E[4]?E[4][0]:""}:E[1]?d.self_data={type:"socket",refType:E[1]&&["i","input","o","output","v","value"].includes(E[1][0])?E[1][0]:"value",valueType:E[1]&&E[1][1]?E[1][1]:"item-default",id:E[0][0],name:(w=E[0][1])!=null?w:E[0][0],parentId:"",parent:null,value:E[2]?E[2][0]:"",items:[]}:d.self_data={type:"node",id:E[0][0],name:(C=E[0][1])!=null?C:E[0][0],parentId:"",parent:null,items:[]},r=r.slice(0,o.length),r[u]=d};if(s=f!=null?f:_[i],a=m!=null?m:s.match(/(^\s*)(- )?(.*)/),!!a&&!!a[2]){for(l=a[3];!(i>=_.length-1);){if(f=_[i+1],m=f.match(/(^\s*)(- )?(.*)/),!m){i++;continue}if(!m[2]){s+=`
`+m[3],l+=`
`+m[3],i++;continue}break}c=a[1].length;{u=-1;for(let E=0;E<o.length;E++)if(o[E]>=c){o=o.slice(0,E+1),u=E;break}u==-1&&(o.push(c),u=o.length-1)}if(d={self:l,children:[],self_data:null},v(),u==0)n.push(d);else{let E=r[u-1];if(E.self_data.type!="n"&&E.self_data.type!="node"&&E.self_data.type!="g"&&E.self_data.type!="group"&&E.self_data.type!="s"&&E.self_data.type!="socket")continue;d.self_data.parentId=E.self_data.id,d.self_data.parent=E,(d.self_data.type=="socket"||d.self_data.type=="s"||d.self_data.type=="node"||d.self_data.type=="n")&&E.self_data.items.push(d.self_data),E.children.push(d)}}}}catch(o){return{code:-1,msg:"error: list parse fail: "+o,data:[]}}return{code:0,msg:"",data:n}}var RO=`
- nodes
  - NodeTitle
    - only name, i
    - i2, i, *i2
    - i3, i, mul line
      i3-2
      i3-3
    - i4, i, *i4
    - only name, o
    - o2, o, *o2
    - o3, o, *o3
    - o4, o, mul line
      o4-2
      o4-3
    - v2, v, *v2
    - v4, , mul line
      v4-2
      v4-3
    - v3, , *v3
    - v5:color, :item-color, #008888
    - v6:, :item-markdown, only value
      **v6-1**
      *v6-2*
    - v7, :item-dropdown, option1|option2|option3
    - v8 only name, 
    - v9, :item-item, l
      - only name2, i
      - i22, i, *i2
      - v91, :item-item, l
        - v911, 
      - v92, :item-item, l
        - v921, 
    - v10,,over
- edges
`;function Om(e="nodeflow-vueflow",t="{nodes:[],edges:[]}"){let n;if(t.trim()=="")return{code:-1,msg:"error: content is empty",data:{}};if(t.startsWith("demo"))n=t;else if(e==="nodeflow-list"||e==="nodeflow-listitem")n=t;else try{if(n=JSON.parse(t),!n)return{code:-1,msg:"Error: not a legitimate json",data:{}}}catch(r){return{code:-1,msg:"Error: not a legitimate json: "+r,data:{}}}let o;if(e=="nodeflow-comfyui")o=bm(n);else if(e=="nodeflow-obcanvas")o=wm(n);else if(e=="nodeflow-vueflow")o=Em(n);else if(e=="nodeflow-list")o=Nm(n);else if(e=="nodeflow-item")o=xm(n);else if(e=="nodeflow-listitem")o=Sm(n);else return{code:-1,msg:"error: invalid json type: "+e,data:{}};return o.code!=0?o:o.data.hasOwnProperty("nodes")?(o.data.hasOwnProperty("edges")||(o.data.edges=[]),o):{code:-1,msg:"json without nodes attrs",data:{}}}var Cm=require("obsidian");var Zn="NodeFlowView",ss=class extends Cm.ItemView{constructor(t){super(t)}getViewType(){return Zn}getDisplayText(){return Zn}getIcon(){return"workflow"}onOpen(){return pt(this,null,function*(){let t=this.containerEl.children[1];t.empty();let n=t.createEl("div",{cls:"nf-shell-view"})})}onClose(){return pt(this,null,function*(){})}};function km(){return pt(this,null,function*(){let e=Ye.cahce_workspace;e.getLeavesOfType(Zn).length===0&&(yield e.getRightLeaf(!1).setViewState({type:Zn,active:!0}));let t=e.getLeavesOfType(Zn)[0];e.revealLeaf(t);let n=t.view.containerEl;return n.empty(),n})}function Co(e="test",t,n="",o=!0){i(t,o);function i(s,a){let l;l=Om(e,n),l.code!=0&&(l.data={nodes:[{id:"ERROR",position:{x:0,y:0},type:"common",data:{label:"ERROR",inputs:[],outputs:[],values:[{id:"0",name:"",value:l.msg}]}}],edges:[]}),wu(ym,{rawData:n,mdData:`\`\`\`${e}
${n}
\`\`\`
`,jsonData:l.data,fn_newView:()=>pt(this,null,function*(){let u=yield km();i(u,!1)}),isMini:a}).mount(s)}}var Tm=require("obsidian"),ko="NodeFlowFileView",as=class extends Tm.TextFileView{getViewType(){return ko}getViewData(){return this.data}setViewData(t,n){this.data=t;let o="nodeflow-comfyui";this.file.name.endsWith("workflow_json")?o="nodeflow-comfyui":this.file.name.endsWith("canvas_json")?o="nodeflow-canvas":this.file.name.endsWith(".workflow.json")?o="nodeflow-comfyui":this.file.name.endsWith(".canvas.json")&&(o="nodeflow-canvas"),this.contentEl.empty();let r=this.contentEl.createEl("div");r.classList.add("nf-autoDie"),r.setAttribute("style","height: 100%"),Co(o,r,this.data,!1)}clear(){this.data=""}};var LO={isDebug:!1},ls=class extends cs.Plugin{onload(){return pt(this,null,function*(){yield this.loadSettings(),Ye.app=this.app;let n=["nodeflow-vueflow","nodeflow-obcanvas","nodeflow-comfyui","nodeflow-list","nodeflow-item","nodeflow-listitem"];for(let o of n)this.registerMarkdownCodeBlockProcessor(o,(r,i,s)=>{Ye.ctx=s,Co(o,i,r)});Ye.cahce_workspace=this.app.workspace,this.registerView(Zn,o=>new ss(o)),this.registerView(ko,o=>new as(o)),this.registerExtensions(["workflow_json"],ko),this.registerExtensions(["canvas_json"],ko),this.registerExtensions(["json"],ko),this.registerEvent(this.app.workspace.on("file-open",o=>pt(this,null,function*(){if(!o)return;let r=this.app.workspace.getActiveViewOfType(cs.MarkdownView).containerEl;if(!r)return;let i=r.querySelector(".view-content");if(!i)return;let s,a="";if(o.name.endsWith("workflow.json.md")?a="nodeflow-comfyui":o.name.endsWith(".canvas.md")&&(a="nodeflow-obcanvas"),a!=""){let l=yield this.app.vault.cachedRead(o);s=i.querySelector(":scope>.markdown-source-view"),s&&s.classList.add("nf-style-display-none"),s=i.querySelector(":scope>.markdown-reading-view"),s&&s.classList.add("nf-style-display-none"),s=i.querySelector(":scope>.nf-autoDie"),s&&i.removeChild(s),s=i.createEl("div"),s.classList.add("nf-autoDie"),Co(a,s,l,!1)}else s=i.querySelector(":scope>.markdown-source-view"),s&&s.classList.remove("nf-style-display-none"),s=i.querySelector(":scope>.markdown-reading-view"),s&&s.classList.remove("nf-style-display-none"),s=i.querySelector(":scope>.nf-autoDie"),s&&i.removeChild(s)})))})}onunload(){}loadSettings(){return pt(this,null,function*(){let n=yield this.loadData();this.settings=Object.assign({},LO,n),n||this.saveData(this.settings),Ye.isDebug=this.settings.isDebug})}saveSettings(){return pt(this,null,function*(){yield this.saveData(this.settings)})}};
/*! #__NO_SIDE_EFFECTS__ */
/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/**
* vue v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/

/* nosourcemap */